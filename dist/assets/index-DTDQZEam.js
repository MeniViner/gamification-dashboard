function l2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function u2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j_={exports:{}},Bu={},O_={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=Symbol.for("react.element"),c2=Symbol.for("react.portal"),h2=Symbol.for("react.fragment"),d2=Symbol.for("react.strict_mode"),f2=Symbol.for("react.profiler"),p2=Symbol.for("react.provider"),m2=Symbol.for("react.context"),g2=Symbol.for("react.forward_ref"),y2=Symbol.for("react.suspense"),v2=Symbol.for("react.memo"),_2=Symbol.for("react.lazy"),Fg=Symbol.iterator;function w2(t){return t===null||typeof t!="object"?null:(t=Fg&&t[Fg]||t["@@iterator"],typeof t=="function"?t:null)}var F_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B_=Object.assign,U_={};function wi(t,e,n){this.props=t,this.context=e,this.refs=U_,this.updater=n||F_}wi.prototype.isReactComponent={};wi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z_(){}z_.prototype=wi.prototype;function Rf(t,e,n){this.props=t,this.context=e,this.refs=U_,this.updater=n||F_}var kf=Rf.prototype=new z_;kf.constructor=Rf;B_(kf,wi.prototype);kf.isPureReactComponent=!0;var Bg=Array.isArray,$_=Object.prototype.hasOwnProperty,Nf={current:null},W_={key:!0,ref:!0,__self:!0,__source:!0};function H_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)$_.call(e,r)&&!W_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:wa,type:t,key:i,ref:o,props:s,_owner:Nf.current}}function x2(t,e){return{$$typeof:wa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vf(t){return typeof t=="object"&&t!==null&&t.$$typeof===wa}function E2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ug=/\/+/g;function Gc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?E2(""+t.key):e.toString(36)}function Sl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wa:case c2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Gc(o,0):r,Bg(s)?(n="",t!=null&&(n=t.replace(Ug,"$&/")+"/"),Sl(s,e,n,"",function(c){return c})):s!=null&&(Vf(s)&&(s=x2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ug,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Bg(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Gc(i,a);o+=Sl(i,e,n,u,s)}else if(u=w2(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Gc(i,a++),o+=Sl(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xa(t,e,n){if(t==null)return t;var r=[],s=0;return Sl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function T2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wt={current:null},Al={transition:null},S2={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:Al,ReactCurrentOwner:Nf};function K_(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Xa,forEach:function(t,e,n){Xa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xa(t,function(){e++}),e},toArray:function(t){return Xa(t,function(e){return e})||[]},only:function(t){if(!Vf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=wi;re.Fragment=h2;re.Profiler=f2;re.PureComponent=Rf;re.StrictMode=d2;re.Suspense=y2;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S2;re.act=K_;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Nf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)$_.call(e,u)&&!W_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:wa,type:t.type,key:s,ref:i,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:m2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:p2,_context:t},t.Consumer=t};re.createElement=H_;re.createFactory=function(t){var e=H_.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:g2,render:t}};re.isValidElement=Vf;re.lazy=function(t){return{$$typeof:_2,_payload:{_status:-1,_result:t},_init:T2}};re.memo=function(t,e){return{$$typeof:v2,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Al.transition;Al.transition={};try{t()}finally{Al.transition=e}};re.unstable_act=K_;re.useCallback=function(t,e){return wt.current.useCallback(t,e)};re.useContext=function(t){return wt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return wt.current.useDeferredValue(t)};re.useEffect=function(t,e){return wt.current.useEffect(t,e)};re.useId=function(){return wt.current.useId()};re.useImperativeHandle=function(t,e,n){return wt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return wt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return wt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return wt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return wt.current.useReducer(t,e,n)};re.useRef=function(t){return wt.current.useRef(t)};re.useState=function(t){return wt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return wt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return wt.current.useTransition()};re.version="18.3.1";O_.exports=re;var D=O_.exports;const bs=u2(D),A2=l2({__proto__:null,default:bs},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2=D,I2=Symbol.for("react.element"),P2=Symbol.for("react.fragment"),b2=Object.prototype.hasOwnProperty,R2=C2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k2={key:!0,ref:!0,__self:!0,__source:!0};function q_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)b2.call(e,r)&&!k2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:I2,type:t,key:i,ref:o,props:s,_owner:R2.current}}Bu.Fragment=P2;Bu.jsx=q_;Bu.jsxs=q_;j_.exports=Bu;var g=j_.exports,Hh={},G_={exports:{}},Ft={},Q_={exports:{}},Y_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,q){var J=F.length;F.push(q);e:for(;0<J;){var fe=J-1>>>1,ve=F[fe];if(0<s(ve,q))F[fe]=q,F[J]=ve,J=fe;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var q=F[0],J=F.pop();if(J!==q){F[0]=J;e:for(var fe=0,ve=F.length,bn=ve>>>1;fe<bn;){var Et=2*(fe+1)-1,cn=F[Et],Rt=Et+1,hn=F[Rt];if(0>s(cn,J))Rt<ve&&0>s(hn,cn)?(F[fe]=hn,F[Rt]=J,fe=Rt):(F[fe]=cn,F[Et]=J,fe=Et);else if(Rt<ve&&0>s(hn,J))F[fe]=hn,F[Rt]=J,fe=Rt;else break e}}return q}function s(F,q){var J=F.sortIndex-q.sortIndex;return J!==0?J:F.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,p=3,v=!1,C=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=F)r(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(c)}}function N(F){if(P=!1,T(F),!C)if(n(u)!==null)C=!0,oe(V);else{var q=n(c);q!==null&&ne(N,q.startTime-F)}}function V(F,q){C=!1,P&&(P=!1,x(_),_=-1),v=!0;var J=p;try{for(T(q),f=n(u);f!==null&&(!(f.expirationTime>q)||F&&!R());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,p=f.priorityLevel;var ve=fe(f.expirationTime<=q);q=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(u)&&r(u),T(q)}else r(u);f=n(u)}if(f!==null)var bn=!0;else{var Et=n(c);Et!==null&&ne(N,Et.startTime-q),bn=!1}return bn}finally{f=null,p=J,v=!1}}var j=!1,S=null,_=-1,A=5,b=-1;function R(){return!(t.unstable_now()-b<A)}function I(){if(S!==null){var F=t.unstable_now();b=F;var q=!0;try{q=S(!0,F)}finally{q?E():(j=!1,S=null)}}else j=!1}var E;if(typeof y=="function")E=function(){y(I)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Q=W.port2;W.port1.onmessage=I,E=function(){Q.postMessage(null)}}else E=function(){k(I,0)};function oe(F){S=F,j||(j=!0,E())}function ne(F,q){_=k(function(){F(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){C||v||(C=!0,oe(V))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var J=p;p=q;try{return F()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=p;p=F;try{return q()}finally{p=J}},t.unstable_scheduleCallback=function(F,q,J){var fe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?fe+J:fe):J=fe,F){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=J+ve,F={id:h++,callback:q,priorityLevel:F,startTime:J,expirationTime:ve,sortIndex:-1},J>fe?(F.sortIndex=J,e(c,F),n(u)===null&&F===n(c)&&(P?(x(_),_=-1):P=!0,ne(N,J-fe))):(F.sortIndex=ve,e(u,F),C||v||(C=!0,oe(V))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var q=p;return function(){var J=p;p=q;try{return F.apply(this,arguments)}finally{p=J}}}})(Y_);Q_.exports=Y_;var N2=Q_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V2=D,jt=N2;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X_=new Set,Bo={};function ps(t,e){ri(t,e),ri(t+"Capture",e)}function ri(t,e){for(Bo[t]=e,t=0;t<e.length;t++)X_.add(e[t])}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kh=Object.prototype.hasOwnProperty,D2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zg={},$g={};function M2(t){return Kh.call($g,t)?!0:Kh.call(zg,t)?!1:D2.test(t)?$g[t]=!0:(zg[t]=!0,!1)}function L2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j2(t,e,n,r){if(e===null||typeof e>"u"||L2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Df=/[\-:]([a-z])/g;function Mf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Df,Mf);it[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Df,Mf);it[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Df,Mf);it[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lf(t,e,n,r){var s=it.hasOwnProperty(e)?it[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(j2(e,n,s,r)&&(n=null),r||s===null?M2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kn=V2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ja=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),jf=Symbol.for("react.strict_mode"),qh=Symbol.for("react.profiler"),J_=Symbol.for("react.provider"),Z_=Symbol.for("react.context"),Of=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Qh=Symbol.for("react.suspense_list"),Ff=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),ew=Symbol.for("react.offscreen"),Wg=Symbol.iterator;function Yi(t){return t===null||typeof t!="object"?null:(t=Wg&&t[Wg]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,Qc;function oo(t){if(Qc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qc=e&&e[1]||""}return`
`+Qc+t}var Yc=!1;function Xc(t,e){if(!t||Yc)return"";Yc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Yc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oo(t):""}function O2(t){switch(t.tag){case 5:return oo(t.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return t=Xc(t.type,!1),t;case 11:return t=Xc(t.type.render,!1),t;case 1:return t=Xc(t.type,!0),t;default:return""}}function Yh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ks:return"Fragment";case Rs:return"Portal";case qh:return"Profiler";case jf:return"StrictMode";case Gh:return"Suspense";case Qh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z_:return(t.displayName||"Context")+".Consumer";case J_:return(t._context.displayName||"Context")+".Provider";case Of:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ff:return e=t.displayName||null,e!==null?e:Yh(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return Yh(t(e))}catch{}}return null}function F2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yh(e);case 8:return e===jf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function B2(t){var e=tw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Za(t){t._valueTracker||(t._valueTracker=B2(t))}function nw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xh(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rw(t,e){e=e.checked,e!=null&&Lf(t,"checked",e,!1)}function Jh(t,e){rw(t,e);var n=Tr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zh(t,e.type,Tr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zh(t,e,n){(e!=="number"||Hl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ao=Array.isArray;function Gs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ed(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ao(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tr(n)}}function sw(t,e){var n=Tr(e.value),r=Tr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function td(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var el,ow=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=el.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U2=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(t){U2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wo[e]=wo[t]})});function aw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wo.hasOwnProperty(t)&&wo[t]?(""+e).trim():e+"px"}function lw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=aw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var z2=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nd(t,e){if(e){if(z2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function rd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=null;function Bf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var id=null,Qs=null,Ys=null;function Qg(t){if(t=Ta(t)){if(typeof id!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Hu(e),id(t.stateNode,t.type,e))}}function uw(t){Qs?Ys?Ys.push(t):Ys=[t]:Qs=t}function cw(){if(Qs){var t=Qs,e=Ys;if(Ys=Qs=null,Qg(t),e)for(t=0;t<e.length;t++)Qg(e[t])}}function hw(t,e){return t(e)}function dw(){}var Jc=!1;function fw(t,e,n){if(Jc)return t(e,n);Jc=!0;try{return hw(t,e,n)}finally{Jc=!1,(Qs!==null||Ys!==null)&&(dw(),cw())}}function zo(t,e){var n=t.stateNode;if(n===null)return null;var r=Hu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var od=!1;if(On)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){od=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{od=!1}function $2(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var xo=!1,Kl=null,ql=!1,ad=null,W2={onError:function(t){xo=!0,Kl=t}};function H2(t,e,n,r,s,i,o,a,u){xo=!1,Kl=null,$2.apply(W2,arguments)}function K2(t,e,n,r,s,i,o,a,u){if(H2.apply(this,arguments),xo){if(xo){var c=Kl;xo=!1,Kl=null}else throw Error(U(198));ql||(ql=!0,ad=c)}}function ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yg(t){if(ms(t)!==t)throw Error(U(188))}function q2(t){var e=t.alternate;if(!e){if(e=ms(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Yg(s),t;if(i===r)return Yg(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function mw(t){return t=q2(t),t!==null?gw(t):null}function gw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gw(t);if(e!==null)return e;t=t.sibling}return null}var yw=jt.unstable_scheduleCallback,Xg=jt.unstable_cancelCallback,G2=jt.unstable_shouldYield,Q2=jt.unstable_requestPaint,De=jt.unstable_now,Y2=jt.unstable_getCurrentPriorityLevel,Uf=jt.unstable_ImmediatePriority,vw=jt.unstable_UserBlockingPriority,Gl=jt.unstable_NormalPriority,X2=jt.unstable_LowPriority,_w=jt.unstable_IdlePriority,Uu=null,vn=null;function J2(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Uu,t,void 0,(t.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:tA,Z2=Math.log,eA=Math.LN2;function tA(t){return t>>>=0,t===0?32:31-(Z2(t)/eA|0)|0}var tl=64,nl=4194304;function lo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ql(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=lo(a):(i&=o,i!==0&&(r=lo(i)))}else o=n&~s,o!==0?r=lo(o):i!==0&&(r=lo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sn(e),s=1<<n,r|=t[n],e&=~s;return r}function nA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-sn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=nA(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function ld(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ww(){var t=tl;return tl<<=1,!(tl&4194240)&&(tl=64),t}function Zc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sn(e),t[e]=n}function sA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-sn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function zf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var de=0;function xw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ew,$f,Tw,Sw,Aw,ud=!1,rl=[],cr=null,hr=null,dr=null,$o=new Map,Wo=new Map,sr=[],iA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jg(t,e){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":$o.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(e.pointerId)}}function Ji(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ta(e),e!==null&&$f(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function oA(t,e,n,r,s){switch(e){case"focusin":return cr=Ji(cr,t,e,n,r,s),!0;case"dragenter":return hr=Ji(hr,t,e,n,r,s),!0;case"mouseover":return dr=Ji(dr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return $o.set(i,Ji($o.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wo.set(i,Ji(Wo.get(i)||null,t,e,n,r,s)),!0}return!1}function Cw(t){var e=Gr(t.target);if(e!==null){var n=ms(e);if(n!==null){if(e=n.tag,e===13){if(e=pw(n),e!==null){t.blockedOn=e,Aw(t.priority,function(){Tw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sd=r,n.target.dispatchEvent(r),sd=null}else return e=Ta(n),e!==null&&$f(e),t.blockedOn=n,!1;e.shift()}return!0}function Zg(t,e,n){Cl(t)&&n.delete(e)}function aA(){ud=!1,cr!==null&&Cl(cr)&&(cr=null),hr!==null&&Cl(hr)&&(hr=null),dr!==null&&Cl(dr)&&(dr=null),$o.forEach(Zg),Wo.forEach(Zg)}function Zi(t,e){t.blockedOn===e&&(t.blockedOn=null,ud||(ud=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,aA)))}function Ho(t){function e(s){return Zi(s,t)}if(0<rl.length){Zi(rl[0],t);for(var n=1;n<rl.length;n++){var r=rl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cr!==null&&Zi(cr,t),hr!==null&&Zi(hr,t),dr!==null&&Zi(dr,t),$o.forEach(e),Wo.forEach(e),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)Cw(n),n.blockedOn===null&&sr.shift()}var Xs=Kn.ReactCurrentBatchConfig,Yl=!0;function lA(t,e,n,r){var s=de,i=Xs.transition;Xs.transition=null;try{de=1,Wf(t,e,n,r)}finally{de=s,Xs.transition=i}}function uA(t,e,n,r){var s=de,i=Xs.transition;Xs.transition=null;try{de=4,Wf(t,e,n,r)}finally{de=s,Xs.transition=i}}function Wf(t,e,n,r){if(Yl){var s=cd(t,e,n,r);if(s===null)uh(t,e,r,Xl,n),Jg(t,r);else if(oA(s,t,e,n,r))r.stopPropagation();else if(Jg(t,r),e&4&&-1<iA.indexOf(t)){for(;s!==null;){var i=Ta(s);if(i!==null&&Ew(i),i=cd(t,e,n,r),i===null&&uh(t,e,r,Xl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else uh(t,e,r,null,n)}}var Xl=null;function cd(t,e,n,r){if(Xl=null,t=Bf(r),t=Gr(t),t!==null)if(e=ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xl=t,null}function Iw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y2()){case Uf:return 1;case vw:return 4;case Gl:case X2:return 16;case _w:return 536870912;default:return 16}default:return 16}}var or=null,Hf=null,Il=null;function Pw(){if(Il)return Il;var t,e=Hf,n=e.length,r,s="value"in or?or.value:or.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Il=s.slice(t,1<r?1-r:void 0)}function Pl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sl(){return!0}function ey(){return!1}function Bt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sl:ey,this.isPropagationStopped=ey,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),e}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kf=Bt(xi),Ea=Ie({},xi,{view:0,detail:0}),cA=Bt(Ea),eh,th,eo,zu=Ie({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eo&&(eo&&t.type==="mousemove"?(eh=t.screenX-eo.screenX,th=t.screenY-eo.screenY):th=eh=0,eo=t),eh)},movementY:function(t){return"movementY"in t?t.movementY:th}}),ty=Bt(zu),hA=Ie({},zu,{dataTransfer:0}),dA=Bt(hA),fA=Ie({},Ea,{relatedTarget:0}),nh=Bt(fA),pA=Ie({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),mA=Bt(pA),gA=Ie({},xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yA=Bt(gA),vA=Ie({},xi,{data:0}),ny=Bt(vA),_A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xA[t])?!!e[t]:!1}function qf(){return EA}var TA=Ie({},Ea,{key:function(t){if(t.key){var e=_A[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qf,charCode:function(t){return t.type==="keypress"?Pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SA=Bt(TA),AA=Ie({},zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ry=Bt(AA),CA=Ie({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qf}),IA=Bt(CA),PA=Ie({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),bA=Bt(PA),RA=Ie({},zu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kA=Bt(RA),NA=[9,13,27,32],Gf=On&&"CompositionEvent"in window,Eo=null;On&&"documentMode"in document&&(Eo=document.documentMode);var VA=On&&"TextEvent"in window&&!Eo,bw=On&&(!Gf||Eo&&8<Eo&&11>=Eo),sy=" ",iy=!1;function Rw(t,e){switch(t){case"keyup":return NA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function DA(t,e){switch(t){case"compositionend":return kw(e);case"keypress":return e.which!==32?null:(iy=!0,sy);case"textInput":return t=e.data,t===sy&&iy?null:t;default:return null}}function MA(t,e){if(Ns)return t==="compositionend"||!Gf&&Rw(t,e)?(t=Pw(),Il=Hf=or=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bw&&e.locale!=="ko"?null:e.data;default:return null}}var LA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LA[t.type]:e==="textarea"}function Nw(t,e,n,r){uw(r),e=Jl(e,"onChange"),0<e.length&&(n=new Kf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var To=null,Ko=null;function jA(t){$w(t,0)}function $u(t){var e=Ms(t);if(nw(e))return t}function OA(t,e){if(t==="change")return e}var Vw=!1;if(On){var rh;if(On){var sh="oninput"in document;if(!sh){var ay=document.createElement("div");ay.setAttribute("oninput","return;"),sh=typeof ay.oninput=="function"}rh=sh}else rh=!1;Vw=rh&&(!document.documentMode||9<document.documentMode)}function ly(){To&&(To.detachEvent("onpropertychange",Dw),Ko=To=null)}function Dw(t){if(t.propertyName==="value"&&$u(Ko)){var e=[];Nw(e,Ko,t,Bf(t)),fw(jA,e)}}function FA(t,e,n){t==="focusin"?(ly(),To=e,Ko=n,To.attachEvent("onpropertychange",Dw)):t==="focusout"&&ly()}function BA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(Ko)}function UA(t,e){if(t==="click")return $u(e)}function zA(t,e){if(t==="input"||t==="change")return $u(e)}function $A(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ln=typeof Object.is=="function"?Object.is:$A;function qo(t,e){if(ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Kh.call(e,s)||!ln(t[s],e[s]))return!1}return!0}function uy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cy(t,e){var n=uy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uy(n)}}function Mw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lw(){for(var t=window,e=Hl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hl(t.document)}return e}function Qf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WA(t){var e=Lw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mw(n.ownerDocument.documentElement,n)){if(r!==null&&Qf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=cy(n,i);var o=cy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HA=On&&"documentMode"in document&&11>=document.documentMode,Vs=null,hd=null,So=null,dd=!1;function hy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dd||Vs==null||Vs!==Hl(r)||(r=Vs,"selectionStart"in r&&Qf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),So&&qo(So,r)||(So=r,r=Jl(hd,"onSelect"),0<r.length&&(e=new Kf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vs)))}function il(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ds={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},ih={},jw={};On&&(jw=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Wu(t){if(ih[t])return ih[t];if(!Ds[t])return t;var e=Ds[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jw)return ih[t]=e[n];return t}var Ow=Wu("animationend"),Fw=Wu("animationiteration"),Bw=Wu("animationstart"),Uw=Wu("transitionend"),zw=new Map,dy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,e){zw.set(t,e),ps(e,[t])}for(var oh=0;oh<dy.length;oh++){var ah=dy[oh],KA=ah.toLowerCase(),qA=ah[0].toUpperCase()+ah.slice(1);Vr(KA,"on"+qA)}Vr(Ow,"onAnimationEnd");Vr(Fw,"onAnimationIteration");Vr(Bw,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(Uw,"onTransitionEnd");ri("onMouseEnter",["mouseout","mouseover"]);ri("onMouseLeave",["mouseout","mouseover"]);ri("onPointerEnter",["pointerout","pointerover"]);ri("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GA=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function fy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,K2(r,e,void 0,t),t.currentTarget=null}function $w(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;fy(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;fy(s,a,c),i=u}}}if(ql)throw t=ad,ql=!1,ad=null,t}function we(t,e){var n=e[yd];n===void 0&&(n=e[yd]=new Set);var r=t+"__bubble";n.has(r)||(Ww(e,t,2,!1),n.add(r))}function lh(t,e,n){var r=0;e&&(r|=4),Ww(n,t,r,e)}var ol="_reactListening"+Math.random().toString(36).slice(2);function Go(t){if(!t[ol]){t[ol]=!0,X_.forEach(function(n){n!=="selectionchange"&&(GA.has(n)||lh(n,!1,t),lh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ol]||(e[ol]=!0,lh("selectionchange",!1,e))}}function Ww(t,e,n,r){switch(Iw(e)){case 1:var s=lA;break;case 4:s=uA;break;default:s=Wf}n=s.bind(null,e,n,t),s=void 0,!od||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function uh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gr(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}fw(function(){var c=i,h=Bf(n),f=[];e:{var p=zw.get(t);if(p!==void 0){var v=Kf,C=t;switch(t){case"keypress":if(Pl(n)===0)break e;case"keydown":case"keyup":v=SA;break;case"focusin":C="focus",v=nh;break;case"focusout":C="blur",v=nh;break;case"beforeblur":case"afterblur":v=nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ty;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=dA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=IA;break;case Ow:case Fw:case Bw:v=mA;break;case Uw:v=bA;break;case"scroll":v=cA;break;case"wheel":v=kA;break;case"copy":case"cut":case"paste":v=yA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ry}var P=(e&4)!==0,k=!P&&t==="scroll",x=P?p!==null?p+"Capture":null:p;P=[];for(var y=c,T;y!==null;){T=y;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,x!==null&&(N=zo(y,x),N!=null&&P.push(Qo(y,N,T)))),k)break;y=y.return}0<P.length&&(p=new v(p,C,null,n,h),f.push({event:p,listeners:P}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==sd&&(C=n.relatedTarget||n.fromElement)&&(Gr(C)||C[Fn]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(C=n.relatedTarget||n.toElement,v=c,C=C?Gr(C):null,C!==null&&(k=ms(C),C!==k||C.tag!==5&&C.tag!==6)&&(C=null)):(v=null,C=c),v!==C)){if(P=ty,N="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(P=ry,N="onPointerLeave",x="onPointerEnter",y="pointer"),k=v==null?p:Ms(v),T=C==null?p:Ms(C),p=new P(N,y+"leave",v,n,h),p.target=k,p.relatedTarget=T,N=null,Gr(h)===c&&(P=new P(x,y+"enter",C,n,h),P.target=T,P.relatedTarget=k,N=P),k=N,v&&C)t:{for(P=v,x=C,y=0,T=P;T;T=Ss(T))y++;for(T=0,N=x;N;N=Ss(N))T++;for(;0<y-T;)P=Ss(P),y--;for(;0<T-y;)x=Ss(x),T--;for(;y--;){if(P===x||x!==null&&P===x.alternate)break t;P=Ss(P),x=Ss(x)}P=null}else P=null;v!==null&&py(f,p,v,P,!1),C!==null&&k!==null&&py(f,k,C,P,!0)}}e:{if(p=c?Ms(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var V=OA;else if(oy(p))if(Vw)V=zA;else{V=BA;var j=FA}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(V=UA);if(V&&(V=V(t,c))){Nw(f,V,n,h);break e}j&&j(t,p,c),t==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Zh(p,"number",p.value)}switch(j=c?Ms(c):window,t){case"focusin":(oy(j)||j.contentEditable==="true")&&(Vs=j,hd=c,So=null);break;case"focusout":So=hd=Vs=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,hy(f,n,h);break;case"selectionchange":if(HA)break;case"keydown":case"keyup":hy(f,n,h)}var S;if(Gf)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ns?Rw(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(bw&&n.locale!=="ko"&&(Ns||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ns&&(S=Pw()):(or=h,Hf="value"in or?or.value:or.textContent,Ns=!0)),j=Jl(c,_),0<j.length&&(_=new ny(_,t,null,n,h),f.push({event:_,listeners:j}),S?_.data=S:(S=kw(n),S!==null&&(_.data=S)))),(S=VA?DA(t,n):MA(t,n))&&(c=Jl(c,"onBeforeInput"),0<c.length&&(h=new ny("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=S))}$w(f,e)})}function Qo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zo(t,n),i!=null&&r.unshift(Qo(t,i,s)),i=zo(t,e),i!=null&&r.push(Qo(t,i,s))),t=t.return}return r}function Ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function py(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=zo(n,i),u!=null&&o.unshift(Qo(n,u,a))):s||(u=zo(n,i),u!=null&&o.push(Qo(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QA=/\r\n?/g,YA=/\u0000|\uFFFD/g;function my(t){return(typeof t=="string"?t:""+t).replace(QA,`
`).replace(YA,"")}function al(t,e,n){if(e=my(e),my(t)!==e&&n)throw Error(U(425))}function Zl(){}var fd=null,pd=null;function md(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gd=typeof setTimeout=="function"?setTimeout:void 0,XA=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(t){return gy.resolve(null).then(t).catch(ZA)}:gd;function ZA(t){setTimeout(function(){throw t})}function ch(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ho(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ho(e)}function fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),yn="__reactFiber$"+Ei,Yo="__reactProps$"+Ei,Fn="__reactContainer$"+Ei,yd="__reactEvents$"+Ei,eC="__reactListeners$"+Ei,tC="__reactHandles$"+Ei;function Gr(t){var e=t[yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fn]||n[yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yy(t);t!==null;){if(n=t[yn])return n;t=yy(t)}return e}t=n,n=t.parentNode}return null}function Ta(t){return t=t[yn]||t[Fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Hu(t){return t[Yo]||null}var vd=[],Ls=-1;function Dr(t){return{current:t}}function Ee(t){0>Ls||(t.current=vd[Ls],vd[Ls]=null,Ls--)}function ge(t,e){Ls++,vd[Ls]=t.current,t.current=e}var Sr={},mt=Dr(Sr),It=Dr(!1),ss=Sr;function si(t,e){var n=t.type.contextTypes;if(!n)return Sr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(t){return t=t.childContextTypes,t!=null}function eu(){Ee(It),Ee(mt)}function vy(t,e,n){if(mt.current!==Sr)throw Error(U(168));ge(mt,e),ge(It,n)}function Hw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,F2(t)||"Unknown",s));return Ie({},n,r)}function tu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sr,ss=mt.current,ge(mt,t),ge(It,It.current),!0}function _y(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=Hw(t,e,ss),r.__reactInternalMemoizedMergedChildContext=t,Ee(It),Ee(mt),ge(mt,t)):Ee(It),ge(It,n)}var kn=null,Ku=!1,hh=!1;function Kw(t){kn===null?kn=[t]:kn.push(t)}function nC(t){Ku=!0,Kw(t)}function Mr(){if(!hh&&kn!==null){hh=!0;var t=0,e=de;try{var n=kn;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kn=null,Ku=!1}catch(s){throw kn!==null&&(kn=kn.slice(t+1)),yw(Uf,Mr),s}finally{de=e,hh=!1}}return null}var js=[],Os=0,nu=null,ru=0,$t=[],Wt=0,is=null,Nn=1,Vn="";function $r(t,e){js[Os++]=ru,js[Os++]=nu,nu=t,ru=e}function qw(t,e,n){$t[Wt++]=Nn,$t[Wt++]=Vn,$t[Wt++]=is,is=t;var r=Nn;t=Vn;var s=32-sn(r)-1;r&=~(1<<s),n+=1;var i=32-sn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Nn=1<<32-sn(e)+s|n<<s|r,Vn=i+t}else Nn=1<<i|n<<s|r,Vn=t}function Yf(t){t.return!==null&&($r(t,1),qw(t,1,0))}function Xf(t){for(;t===nu;)nu=js[--Os],js[Os]=null,ru=js[--Os],js[Os]=null;for(;t===is;)is=$t[--Wt],$t[Wt]=null,Vn=$t[--Wt],$t[Wt]=null,Nn=$t[--Wt],$t[Wt]=null}var Mt=null,Dt=null,Te=!1,nn=null;function Gw(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mt=t,Dt=fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=is!==null?{id:Nn,overflow:Vn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mt=t,Dt=null,!0):!1;default:return!1}}function _d(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wd(t){if(Te){var e=Dt;if(e){var n=e;if(!wy(t,e)){if(_d(t))throw Error(U(418));e=fr(n.nextSibling);var r=Mt;e&&wy(t,e)?Gw(r,n):(t.flags=t.flags&-4097|2,Te=!1,Mt=t)}}else{if(_d(t))throw Error(U(418));t.flags=t.flags&-4097|2,Te=!1,Mt=t}}}function xy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mt=t}function ll(t){if(t!==Mt)return!1;if(!Te)return xy(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!md(t.type,t.memoizedProps)),e&&(e=Dt)){if(_d(t))throw Qw(),Error(U(418));for(;e;)Gw(t,e),e=fr(e.nextSibling)}if(xy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Mt?fr(t.stateNode.nextSibling):null;return!0}function Qw(){for(var t=Dt;t;)t=fr(t.nextSibling)}function ii(){Dt=Mt=null,Te=!1}function Jf(t){nn===null?nn=[t]:nn.push(t)}var rC=Kn.ReactCurrentBatchConfig;function to(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function ul(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ey(t){var e=t._init;return e(t._payload)}function Yw(t){function e(x,y){if(t){var T=x.deletions;T===null?(x.deletions=[y],x.flags|=16):T.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=yr(x,y),x.index=0,x.sibling=null,x}function i(x,y,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<y?(x.flags|=2,y):T):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,T,N){return y===null||y.tag!==6?(y=vh(T,x.mode,N),y.return=x,y):(y=s(y,T),y.return=x,y)}function u(x,y,T,N){var V=T.type;return V===ks?h(x,y,T.props.children,N,T.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===nr&&Ey(V)===y.type)?(N=s(y,T.props),N.ref=to(x,y,T),N.return=x,N):(N=Ml(T.type,T.key,T.props,null,x.mode,N),N.ref=to(x,y,T),N.return=x,N)}function c(x,y,T,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=_h(T,x.mode,N),y.return=x,y):(y=s(y,T.children||[]),y.return=x,y)}function h(x,y,T,N,V){return y===null||y.tag!==7?(y=es(T,x.mode,N,V),y.return=x,y):(y=s(y,T),y.return=x,y)}function f(x,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=vh(""+y,x.mode,T),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ja:return T=Ml(y.type,y.key,y.props,null,x.mode,T),T.ref=to(x,null,y),T.return=x,T;case Rs:return y=_h(y,x.mode,T),y.return=x,y;case nr:var N=y._init;return f(x,N(y._payload),T)}if(ao(y)||Yi(y))return y=es(y,x.mode,T,null),y.return=x,y;ul(x,y)}return null}function p(x,y,T,N){var V=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return V!==null?null:a(x,y,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ja:return T.key===V?u(x,y,T,N):null;case Rs:return T.key===V?c(x,y,T,N):null;case nr:return V=T._init,p(x,y,V(T._payload),N)}if(ao(T)||Yi(T))return V!==null?null:h(x,y,T,N,null);ul(x,T)}return null}function v(x,y,T,N,V){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(T)||null,a(y,x,""+N,V);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ja:return x=x.get(N.key===null?T:N.key)||null,u(y,x,N,V);case Rs:return x=x.get(N.key===null?T:N.key)||null,c(y,x,N,V);case nr:var j=N._init;return v(x,y,T,j(N._payload),V)}if(ao(N)||Yi(N))return x=x.get(T)||null,h(y,x,N,V,null);ul(y,N)}return null}function C(x,y,T,N){for(var V=null,j=null,S=y,_=y=0,A=null;S!==null&&_<T.length;_++){S.index>_?(A=S,S=null):A=S.sibling;var b=p(x,S,T[_],N);if(b===null){S===null&&(S=A);break}t&&S&&b.alternate===null&&e(x,S),y=i(b,y,_),j===null?V=b:j.sibling=b,j=b,S=A}if(_===T.length)return n(x,S),Te&&$r(x,_),V;if(S===null){for(;_<T.length;_++)S=f(x,T[_],N),S!==null&&(y=i(S,y,_),j===null?V=S:j.sibling=S,j=S);return Te&&$r(x,_),V}for(S=r(x,S);_<T.length;_++)A=v(S,x,_,T[_],N),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?_:A.key),y=i(A,y,_),j===null?V=A:j.sibling=A,j=A);return t&&S.forEach(function(R){return e(x,R)}),Te&&$r(x,_),V}function P(x,y,T,N){var V=Yi(T);if(typeof V!="function")throw Error(U(150));if(T=V.call(T),T==null)throw Error(U(151));for(var j=V=null,S=y,_=y=0,A=null,b=T.next();S!==null&&!b.done;_++,b=T.next()){S.index>_?(A=S,S=null):A=S.sibling;var R=p(x,S,b.value,N);if(R===null){S===null&&(S=A);break}t&&S&&R.alternate===null&&e(x,S),y=i(R,y,_),j===null?V=R:j.sibling=R,j=R,S=A}if(b.done)return n(x,S),Te&&$r(x,_),V;if(S===null){for(;!b.done;_++,b=T.next())b=f(x,b.value,N),b!==null&&(y=i(b,y,_),j===null?V=b:j.sibling=b,j=b);return Te&&$r(x,_),V}for(S=r(x,S);!b.done;_++,b=T.next())b=v(S,x,_,b.value,N),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?_:b.key),y=i(b,y,_),j===null?V=b:j.sibling=b,j=b);return t&&S.forEach(function(I){return e(x,I)}),Te&&$r(x,_),V}function k(x,y,T,N){if(typeof T=="object"&&T!==null&&T.type===ks&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ja:e:{for(var V=T.key,j=y;j!==null;){if(j.key===V){if(V=T.type,V===ks){if(j.tag===7){n(x,j.sibling),y=s(j,T.props.children),y.return=x,x=y;break e}}else if(j.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===nr&&Ey(V)===j.type){n(x,j.sibling),y=s(j,T.props),y.ref=to(x,j,T),y.return=x,x=y;break e}n(x,j);break}else e(x,j);j=j.sibling}T.type===ks?(y=es(T.props.children,x.mode,N,T.key),y.return=x,x=y):(N=Ml(T.type,T.key,T.props,null,x.mode,N),N.ref=to(x,y,T),N.return=x,x=N)}return o(x);case Rs:e:{for(j=T.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(x,y.sibling),y=s(y,T.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=_h(T,x.mode,N),y.return=x,x=y}return o(x);case nr:return j=T._init,k(x,y,j(T._payload),N)}if(ao(T))return C(x,y,T,N);if(Yi(T))return P(x,y,T,N);ul(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,T),y.return=x,x=y):(n(x,y),y=vh(T,x.mode,N),y.return=x,x=y),o(x)):n(x,y)}return k}var oi=Yw(!0),Xw=Yw(!1),su=Dr(null),iu=null,Fs=null,Zf=null;function ep(){Zf=Fs=iu=null}function tp(t){var e=su.current;Ee(su),t._currentValue=e}function xd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Js(t,e){iu=t,Zf=Fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(At=!0),t.firstContext=null)}function Qt(t){var e=t._currentValue;if(Zf!==t)if(t={context:t,memoizedValue:e,next:null},Fs===null){if(iu===null)throw Error(U(308));Fs=t,iu.dependencies={lanes:0,firstContext:t}}else Fs=Fs.next=t;return e}var Qr=null;function np(t){Qr===null?Qr=[t]:Qr.push(t)}function Jw(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,np(e)):(n.next=s.next,s.next=n),e.interleaved=n,Bn(t,r)}function Bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function rp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Bn(t,n)}return s=r.interleaved,s===null?(e.next=e,np(r)):(e.next=s.next,s.next=e),r.interleaved=e,Bn(t,n)}function bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zf(t,n)}}function Ty(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ou(t,e,n,r){var s=t.updateQueue;rr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=c=u=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,P=a;switch(p=e,v=n,P.tag){case 1:if(C=P.payload,typeof C=="function"){f=C.call(v,f,p);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=P.payload,p=typeof C=="function"?C.call(v,f,p):C,p==null)break e;f=Ie({},f,p);break e;case 2:rr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=v,u=f):h=h.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);as|=o,t.lanes=o,t.memoizedState=f}}function Sy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Sa={},_n=Dr(Sa),Xo=Dr(Sa),Jo=Dr(Sa);function Yr(t){if(t===Sa)throw Error(U(174));return t}function sp(t,e){switch(ge(Jo,e),ge(Xo,t),ge(_n,Sa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:td(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=td(e,t)}Ee(_n),ge(_n,e)}function ai(){Ee(_n),Ee(Xo),Ee(Jo)}function e1(t){Yr(Jo.current);var e=Yr(_n.current),n=td(e,t.type);e!==n&&(ge(Xo,t),ge(_n,n))}function ip(t){Xo.current===t&&(Ee(_n),Ee(Xo))}var Se=Dr(0);function au(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dh=[];function op(){for(var t=0;t<dh.length;t++)dh[t]._workInProgressVersionPrimary=null;dh.length=0}var Rl=Kn.ReactCurrentDispatcher,fh=Kn.ReactCurrentBatchConfig,os=0,Ce=null,ze=null,Ye=null,lu=!1,Ao=!1,Zo=0,sC=0;function at(){throw Error(U(321))}function ap(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ln(t[n],e[n]))return!1;return!0}function lp(t,e,n,r,s,i){if(os=i,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Rl.current=t===null||t.memoizedState===null?lC:uC,t=n(r,s),Ao){i=0;do{if(Ao=!1,Zo=0,25<=i)throw Error(U(301));i+=1,Ye=ze=null,e.updateQueue=null,Rl.current=cC,t=n(r,s)}while(Ao)}if(Rl.current=uu,e=ze!==null&&ze.next!==null,os=0,Ye=ze=Ce=null,lu=!1,e)throw Error(U(300));return t}function up(){var t=Zo!==0;return Zo=0,t}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ce.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Yt(){if(ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Ye===null?Ce.memoizedState:Ye.next;if(e!==null)Ye=e,ze=t;else{if(t===null)throw Error(U(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ye===null?Ce.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function ea(t,e){return typeof e=="function"?e(t):e}function ph(t){var e=Yt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((os&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ce.lanes|=h,as|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,ln(r,e.memoizedState)||(At=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ce.lanes|=i,as|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mh(t){var e=Yt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ln(i,e.memoizedState)||(At=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function t1(){}function n1(t,e){var n=Ce,r=Yt(),s=e(),i=!ln(r.memoizedState,s);if(i&&(r.memoizedState=s,At=!0),r=r.queue,cp(i1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,ta(9,s1.bind(null,n,r,s,e),void 0,null),Ze===null)throw Error(U(349));os&30||r1(n,e,s)}return s}function r1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function s1(t,e,n,r){e.value=n,e.getSnapshot=r,o1(e)&&a1(t)}function i1(t,e,n){return n(function(){o1(e)&&a1(t)})}function o1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ln(t,n)}catch{return!0}}function a1(t){var e=Bn(t,1);e!==null&&on(e,t,1,-1)}function Ay(t){var e=mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:t},e.queue=t,t=t.dispatch=aC.bind(null,Ce,t),[e.memoizedState,t]}function ta(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function l1(){return Yt().memoizedState}function kl(t,e,n,r){var s=mn();Ce.flags|=t,s.memoizedState=ta(1|e,n,void 0,r===void 0?null:r)}function qu(t,e,n,r){var s=Yt();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&ap(r,o.deps)){s.memoizedState=ta(e,n,i,r);return}}Ce.flags|=t,s.memoizedState=ta(1|e,n,i,r)}function Cy(t,e){return kl(8390656,8,t,e)}function cp(t,e){return qu(2048,8,t,e)}function u1(t,e){return qu(4,2,t,e)}function c1(t,e){return qu(4,4,t,e)}function h1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function d1(t,e,n){return n=n!=null?n.concat([t]):null,qu(4,4,h1.bind(null,e,t),n)}function hp(){}function f1(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ap(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function p1(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ap(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function m1(t,e,n){return os&21?(ln(n,e)||(n=ww(),Ce.lanes|=n,as|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,At=!0),t.memoizedState=n)}function iC(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=fh.transition;fh.transition={};try{t(!1),e()}finally{de=n,fh.transition=r}}function g1(){return Yt().memoizedState}function oC(t,e,n){var r=gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},y1(t))v1(e,n);else if(n=Jw(t,e,n,r),n!==null){var s=_t();on(n,t,r,s),_1(n,e,r)}}function aC(t,e,n){var r=gr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(y1(t))v1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ln(a,o)){var u=e.interleaved;u===null?(s.next=s,np(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=Jw(t,e,s,r),n!==null&&(s=_t(),on(n,t,r,s),_1(n,e,r))}}function y1(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function v1(t,e){Ao=lu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zf(t,n)}}var uu={readContext:Qt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},lC={readContext:Qt,useCallback:function(t,e){return mn().memoizedState=[t,e===void 0?null:e],t},useContext:Qt,useEffect:Cy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kl(4194308,4,h1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kl(4194308,4,t,e)},useInsertionEffect:function(t,e){return kl(4,2,t,e)},useMemo:function(t,e){var n=mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oC.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=mn();return t={current:t},e.memoizedState=t},useState:Ay,useDebugValue:hp,useDeferredValue:function(t){return mn().memoizedState=t},useTransition:function(){var t=Ay(!1),e=t[0];return t=iC.bind(null,t[1]),mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ce,s=mn();if(Te){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ze===null)throw Error(U(349));os&30||r1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Cy(i1.bind(null,r,i,t),[t]),r.flags|=2048,ta(9,s1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=mn(),e=Ze.identifierPrefix;if(Te){var n=Vn,r=Nn;n=(r&~(1<<32-sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uC={readContext:Qt,useCallback:f1,useContext:Qt,useEffect:cp,useImperativeHandle:d1,useInsertionEffect:u1,useLayoutEffect:c1,useMemo:p1,useReducer:ph,useRef:l1,useState:function(){return ph(ea)},useDebugValue:hp,useDeferredValue:function(t){var e=Yt();return m1(e,ze.memoizedState,t)},useTransition:function(){var t=ph(ea)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:t1,useSyncExternalStore:n1,useId:g1,unstable_isNewReconciler:!1},cC={readContext:Qt,useCallback:f1,useContext:Qt,useEffect:cp,useImperativeHandle:d1,useInsertionEffect:u1,useLayoutEffect:c1,useMemo:p1,useReducer:mh,useRef:l1,useState:function(){return mh(ea)},useDebugValue:hp,useDeferredValue:function(t){var e=Yt();return ze===null?e.memoizedState=t:m1(e,ze.memoizedState,t)},useTransition:function(){var t=mh(ea)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:t1,useSyncExternalStore:n1,useId:g1,unstable_isNewReconciler:!1};function en(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ed(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gu={isMounted:function(t){return(t=t._reactInternals)?ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_t(),s=gr(t),i=Dn(r,s);i.payload=e,n!=null&&(i.callback=n),e=pr(t,i,s),e!==null&&(on(e,t,s,r),bl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_t(),s=gr(t),i=Dn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=pr(t,i,s),e!==null&&(on(e,t,s,r),bl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),r=gr(t),s=Dn(n,r);s.tag=2,e!=null&&(s.callback=e),e=pr(t,s,r),e!==null&&(on(e,t,r,n),bl(e,t,r))}};function Iy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!qo(n,r)||!qo(s,i):!0}function w1(t,e,n){var r=!1,s=Sr,i=e.contextType;return typeof i=="object"&&i!==null?i=Qt(i):(s=Pt(e)?ss:mt.current,r=e.contextTypes,i=(r=r!=null)?si(t,s):Sr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Py(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gu.enqueueReplaceState(e,e.state,null)}function Td(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},rp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qt(i):(i=Pt(e)?ss:mt.current,s.context=si(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ed(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Gu.enqueueReplaceState(s,s.state,null),ou(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function li(t,e){try{var n="",r=e;do n+=O2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function gh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hC=typeof WeakMap=="function"?WeakMap:Map;function x1(t,e,n){n=Dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hu||(hu=!0,Dd=r),Sd(t,e)},n}function E1(t,e,n){n=Dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Sd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sd(t,e),typeof r!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function by(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=AC.bind(null,t,e,n),e.then(t,t))}function Ry(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ky(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dn(-1,1),e.tag=2,pr(n,e,1))),n.lanes|=1),t)}var dC=Kn.ReactCurrentOwner,At=!1;function vt(t,e,n,r){e.child=t===null?Xw(e,null,n,r):oi(e,t.child,n,r)}function Ny(t,e,n,r,s){n=n.render;var i=e.ref;return Js(e,s),r=lp(t,e,n,r,i,s),n=up(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Un(t,e,s)):(Te&&n&&Yf(e),e.flags|=1,vt(t,e,r,s),e.child)}function Vy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_p(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,T1(t,e,i,r,s)):(t=Ml(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:qo,n(o,r)&&t.ref===e.ref)return Un(t,e,s)}return e.flags|=1,t=yr(i,r),t.ref=e.ref,t.return=e,e.child=t}function T1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(qo(i,r)&&t.ref===e.ref)if(At=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(At=!0);else return e.lanes=t.lanes,Un(t,e,s)}return Ad(t,e,n,r,s)}function S1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Us,Nt),Nt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Us,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(Us,Nt),Nt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ge(Us,Nt),Nt|=r;return vt(t,e,s,n),e.child}function A1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ad(t,e,n,r,s){var i=Pt(n)?ss:mt.current;return i=si(e,i),Js(e,s),n=lp(t,e,n,r,i,s),r=up(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Un(t,e,s)):(Te&&r&&Yf(e),e.flags|=1,vt(t,e,n,s),e.child)}function Dy(t,e,n,r,s){if(Pt(n)){var i=!0;tu(e)}else i=!1;if(Js(e,s),e.stateNode===null)Nl(t,e),w1(e,n,r),Td(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qt(c):(c=Pt(n)?ss:mt.current,c=si(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Py(e,o,r,c),rr=!1;var p=e.memoizedState;o.state=p,ou(e,r,o,s),u=e.memoizedState,a!==r||p!==u||It.current||rr?(typeof h=="function"&&(Ed(e,n,h,r),u=e.memoizedState),(a=rr||Iy(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Zw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:en(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Qt(u):(u=Pt(n)?ss:mt.current,u=si(e,u));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&Py(e,o,r,u),rr=!1,p=e.memoizedState,o.state=p,ou(e,r,o,s);var C=e.memoizedState;a!==f||p!==C||It.current||rr?(typeof v=="function"&&(Ed(e,n,v,r),C=e.memoizedState),(c=rr||Iy(e,n,c,r,p,C,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Cd(t,e,n,r,i,s)}function Cd(t,e,n,r,s,i){A1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&_y(e,n,!1),Un(t,e,i);r=e.stateNode,dC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oi(e,t.child,null,i),e.child=oi(e,null,a,i)):vt(t,e,a,i),e.memoizedState=r.state,s&&_y(e,n,!0),e.child}function C1(t){var e=t.stateNode;e.pendingContext?vy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vy(t,e.context,!1),sp(t,e.containerInfo)}function My(t,e,n,r,s){return ii(),Jf(s),e.flags|=256,vt(t,e,n,r),e.child}var Id={dehydrated:null,treeContext:null,retryLane:0};function Pd(t){return{baseLanes:t,cachePool:null,transitions:null}}function I1(t,e,n){var r=e.pendingProps,s=Se.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(Se,s&1),t===null)return wd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Xu(o,r,0,null),t=es(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Pd(n),e.memoizedState=Id,t):dp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return fC(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=yr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=yr(a,i):(i=es(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Pd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Id,r}return i=t.child,t=i.sibling,r=yr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dp(t,e){return e=Xu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cl(t,e,n,r){return r!==null&&Jf(r),oi(e,t.child,null,n),t=dp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=gh(Error(U(422))),cl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Xu({mode:"visible",children:r.children},s,0,null),i=es(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&oi(e,t.child,null,o),e.child.memoizedState=Pd(o),e.memoizedState=Id,i);if(!(e.mode&1))return cl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=gh(i,r,void 0),cl(t,e,o,r)}if(a=(o&t.childLanes)!==0,At||a){if(r=Ze,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Bn(t,s),on(r,t,s,-1))}return vp(),r=gh(Error(U(421))),cl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=CC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Dt=fr(s.nextSibling),Mt=e,Te=!0,nn=null,t!==null&&($t[Wt++]=Nn,$t[Wt++]=Vn,$t[Wt++]=is,Nn=t.id,Vn=t.overflow,is=e),e=dp(e,r.children),e.flags|=4096,e)}function Ly(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xd(t.return,e,n)}function yh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function P1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(vt(t,e,r.children,n),r=Se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ly(t,n,e);else if(t.tag===19)Ly(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(Se,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&au(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),yh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&au(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}yh(e,!0,n,null,i);break;case"together":yh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Un(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),as|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pC(t,e,n){switch(e.tag){case 3:C1(e),ii();break;case 5:e1(e);break;case 1:Pt(e.type)&&tu(e);break;case 4:sp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge(su,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(Se,Se.current&1),e.flags|=128,null):n&e.child.childLanes?I1(t,e,n):(ge(Se,Se.current&1),t=Un(t,e,n),t!==null?t.sibling:null);ge(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return P1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(Se,Se.current),r)break;return null;case 22:case 23:return e.lanes=0,S1(t,e,n)}return Un(t,e,n)}var b1,bd,R1,k1;b1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bd=function(){};R1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Yr(_n.current);var i=null;switch(n){case"input":s=Xh(t,s),r=Xh(t,r),i=[];break;case"select":s=Ie({},s,{value:void 0}),r=Ie({},r,{value:void 0}),i=[];break;case"textarea":s=ed(t,s),r=ed(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zl)}nd(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&we("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};k1=function(t,e,n,r){n!==r&&(e.flags|=4)};function no(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mC(t,e,n){var r=e.pendingProps;switch(Xf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Pt(e.type)&&eu(),lt(e),null;case 3:return r=e.stateNode,ai(),Ee(It),Ee(mt),op(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ll(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nn!==null&&(jd(nn),nn=null))),bd(t,e),lt(e),null;case 5:ip(e);var s=Yr(Jo.current);if(n=e.type,t!==null&&e.stateNode!=null)R1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return lt(e),null}if(t=Yr(_n.current),ll(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[yn]=e,r[Yo]=i,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<uo.length;s++)we(uo[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Hg(r,i),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},we("invalid",r);break;case"textarea":qg(r,i),we("invalid",r)}nd(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&al(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&al(r.textContent,a,t),s=["children",""+a]):Bo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":Za(r),Kg(r,i,!0);break;case"textarea":Za(r),Gg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yn]=e,t[Yo]=r,b1(t,e,!1,!1),e.stateNode=t;e:{switch(o=rd(n,r),n){case"dialog":we("cancel",t),we("close",t),s=r;break;case"iframe":case"object":case"embed":we("load",t),s=r;break;case"video":case"audio":for(s=0;s<uo.length;s++)we(uo[s],t);s=r;break;case"source":we("error",t),s=r;break;case"img":case"image":case"link":we("error",t),we("load",t),s=r;break;case"details":we("toggle",t),s=r;break;case"input":Hg(t,r),s=Xh(t,r),we("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ie({},r,{value:void 0}),we("invalid",t);break;case"textarea":qg(t,r),s=ed(t,r),we("invalid",t);break;default:s=r}nd(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?lw(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ow(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Uo(t,u):typeof u=="number"&&Uo(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bo.hasOwnProperty(i)?u!=null&&i==="onScroll"&&we("scroll",t):u!=null&&Lf(t,i,u,o))}switch(n){case"input":Za(t),Kg(t,r,!1);break;case"textarea":Za(t),Gg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Gs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)k1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Yr(Jo.current),Yr(_n.current),ll(e)){if(r=e.stateNode,n=e.memoizedProps,r[yn]=e,(i=r.nodeValue!==n)&&(t=Mt,t!==null))switch(t.tag){case 3:al(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&al(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=e,e.stateNode=r}return lt(e),null;case 13:if(Ee(Se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Dt!==null&&e.mode&1&&!(e.flags&128))Qw(),ii(),e.flags|=98560,i=!1;else if(i=ll(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[yn]=e}else ii(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),i=!1}else nn!==null&&(jd(nn),nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Se.current&1?We===0&&(We=3):vp())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return ai(),bd(t,e),t===null&&Go(e.stateNode.containerInfo),lt(e),null;case 10:return tp(e.type._context),lt(e),null;case 17:return Pt(e.type)&&eu(),lt(e),null;case 19:if(Ee(Se),i=e.memoizedState,i===null)return lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)no(i,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=au(t),o!==null){for(e.flags|=128,no(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(Se,Se.current&1|2),e.child}t=t.sibling}i.tail!==null&&De()>ui&&(e.flags|=128,r=!0,no(i,!1),e.lanes=4194304)}else{if(!r)if(t=au(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),no(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Te)return lt(e),null}else 2*De()-i.renderingStartTime>ui&&n!==1073741824&&(e.flags|=128,r=!0,no(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=De(),e.sibling=null,n=Se.current,ge(Se,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return yp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function gC(t,e){switch(Xf(e),e.tag){case 1:return Pt(e.type)&&eu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ai(),Ee(It),Ee(mt),op(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ip(e),null;case 13:if(Ee(Se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));ii()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Se),null;case 4:return ai(),null;case 10:return tp(e.type._context),null;case 22:case 23:return yp(),null;case 24:return null;default:return null}}var hl=!1,dt=!1,yC=typeof WeakSet=="function"?WeakSet:Set,H=null;function Bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function Rd(t,e,n){try{n()}catch(r){ke(t,e,r)}}var jy=!1;function vC(t,e){if(fd=Yl,t=Lw(),Qf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(u=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(pd={focusedElem:t,selectionRange:n},Yl=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var P=C.memoizedProps,k=C.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?P:en(e.type,P),k);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(N){ke(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return C=jy,jy=!1,C}function Co(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rd(e,n,i)}s=s.next}while(s!==r)}}function Qu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function N1(t){var e=t.alternate;e!==null&&(t.alternate=null,N1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yn],delete e[Yo],delete e[yd],delete e[eC],delete e[tC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function V1(t){return t.tag===5||t.tag===3||t.tag===4}function Oy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||V1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zl));else if(r!==4&&(t=t.child,t!==null))for(Nd(t,e,n),t=t.sibling;t!==null;)Nd(t,e,n),t=t.sibling}function Vd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vd(t,e,n),t=t.sibling;t!==null;)Vd(t,e,n),t=t.sibling}var tt=null,tn=!1;function er(t,e,n){for(n=n.child;n!==null;)D1(t,e,n),n=n.sibling}function D1(t,e,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Uu,n)}catch{}switch(n.tag){case 5:dt||Bs(n,e);case 6:var r=tt,s=tn;tt=null,er(t,e,n),tt=r,tn=s,tt!==null&&(tn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(tn?(t=tt,n=n.stateNode,t.nodeType===8?ch(t.parentNode,n):t.nodeType===1&&ch(t,n),Ho(t)):ch(tt,n.stateNode));break;case 4:r=tt,s=tn,tt=n.stateNode.containerInfo,tn=!0,er(t,e,n),tt=r,tn=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rd(n,e,o),s=s.next}while(s!==r)}er(t,e,n);break;case 1:if(!dt&&(Bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,e,a)}er(t,e,n);break;case 21:er(t,e,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,er(t,e,n),dt=r):er(t,e,n);break;default:er(t,e,n)}}function Fy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yC),e.forEach(function(r){var s=IC.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,tn=!1;break e;case 3:tt=a.stateNode.containerInfo,tn=!0;break e;case 4:tt=a.stateNode.containerInfo,tn=!0;break e}a=a.return}if(tt===null)throw Error(U(160));D1(i,o,s),tt=null,tn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ke(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)M1(e,t),e=e.sibling}function M1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(e,t),pn(t),r&4){try{Co(3,t,t.return),Qu(3,t)}catch(P){ke(t,t.return,P)}try{Co(5,t,t.return)}catch(P){ke(t,t.return,P)}}break;case 1:Jt(e,t),pn(t),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(Jt(e,t),pn(t),r&512&&n!==null&&Bs(n,n.return),t.flags&32){var s=t.stateNode;try{Uo(s,"")}catch(P){ke(t,t.return,P)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&rw(s,i),rd(a,o);var c=rd(a,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?lw(s,f):h==="dangerouslySetInnerHTML"?ow(s,f):h==="children"?Uo(s,f):Lf(s,h,f,c)}switch(a){case"input":Jh(s,i);break;case"textarea":sw(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Gs(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Gs(s,!!i.multiple,i.defaultValue,!0):Gs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Yo]=i}catch(P){ke(t,t.return,P)}}break;case 6:if(Jt(e,t),pn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(P){ke(t,t.return,P)}}break;case 3:if(Jt(e,t),pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ho(e.containerInfo)}catch(P){ke(t,t.return,P)}break;case 4:Jt(e,t),pn(t);break;case 13:Jt(e,t),pn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mp=De())),r&4&&Fy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(dt=(c=dt)||h,Jt(e,t),dt=c):Jt(e,t),pn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(f=H=h;H!==null;){switch(p=H,v=p.child,p.tag){case 0:case 11:case 14:case 15:Co(4,p,p.return);break;case 1:Bs(p,p.return);var C=p.stateNode;if(typeof C.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(P){ke(r,n,P)}}break;case 5:Bs(p,p.return);break;case 22:if(p.memoizedState!==null){Uy(f);continue}}v!==null?(v.return=p,H=v):Uy(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=aw("display",o))}catch(P){ke(t,t.return,P)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(P){ke(t,t.return,P)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jt(e,t),pn(t),r&4&&Fy(t);break;case 21:break;default:Jt(e,t),pn(t)}}function pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(V1(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Uo(s,""),r.flags&=-33);var i=Oy(t);Vd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Oy(t);Nd(t,a,o);break;default:throw Error(U(161))}}catch(u){ke(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _C(t,e,n){H=t,L1(t)}function L1(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||hl;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||dt;a=hl;var c=dt;if(hl=o,(dt=u)&&!c)for(H=s;H!==null;)o=H,u=o.child,o.tag===22&&o.memoizedState!==null?zy(s):u!==null?(u.return=o,H=u):zy(s);for(;i!==null;)H=i,L1(i),i=i.sibling;H=s,hl=a,dt=c}By(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):By(t)}}function By(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||Qu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:en(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Sy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Sy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ho(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}dt||e.flags&512&&kd(e)}catch(p){ke(e,e.return,p)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Uy(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function zy(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qu(4,e)}catch(u){ke(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){ke(e,s,u)}}var i=e.return;try{kd(e)}catch(u){ke(e,i,u)}break;case 5:var o=e.return;try{kd(e)}catch(u){ke(e,o,u)}}}catch(u){ke(e,e.return,u)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var wC=Math.ceil,cu=Kn.ReactCurrentDispatcher,fp=Kn.ReactCurrentOwner,qt=Kn.ReactCurrentBatchConfig,ue=0,Ze=null,je=null,st=0,Nt=0,Us=Dr(0),We=0,na=null,as=0,Yu=0,pp=0,Io=null,St=null,mp=0,ui=1/0,Rn=null,hu=!1,Dd=null,mr=null,dl=!1,ar=null,du=0,Po=0,Md=null,Vl=-1,Dl=0;function _t(){return ue&6?De():Vl!==-1?Vl:Vl=De()}function gr(t){return t.mode&1?ue&2&&st!==0?st&-st:rC.transition!==null?(Dl===0&&(Dl=ww()),Dl):(t=de,t!==0||(t=window.event,t=t===void 0?16:Iw(t.type)),t):1}function on(t,e,n,r){if(50<Po)throw Po=0,Md=null,Error(U(185));xa(t,n,r),(!(ue&2)||t!==Ze)&&(t===Ze&&(!(ue&2)&&(Yu|=n),We===4&&ir(t,st)),bt(t,r),n===1&&ue===0&&!(e.mode&1)&&(ui=De()+500,Ku&&Mr()))}function bt(t,e){var n=t.callbackNode;rA(t,e);var r=Ql(t,t===Ze?st:0);if(r===0)n!==null&&Xg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xg(n),e===1)t.tag===0?nC($y.bind(null,t)):Kw($y.bind(null,t)),JA(function(){!(ue&6)&&Mr()}),n=null;else{switch(xw(r)){case 1:n=Uf;break;case 4:n=vw;break;case 16:n=Gl;break;case 536870912:n=_w;break;default:n=Gl}n=W1(n,j1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function j1(t,e){if(Vl=-1,Dl=0,ue&6)throw Error(U(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var r=Ql(t,t===Ze?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fu(t,r);else{e=r;var s=ue;ue|=2;var i=F1();(Ze!==t||st!==e)&&(Rn=null,ui=De()+500,Zr(t,e));do try{TC();break}catch(a){O1(t,a)}while(!0);ep(),cu.current=i,ue=s,je!==null?e=0:(Ze=null,st=0,e=We)}if(e!==0){if(e===2&&(s=ld(t),s!==0&&(r=s,e=Ld(t,s))),e===1)throw n=na,Zr(t,0),ir(t,r),bt(t,De()),n;if(e===6)ir(t,r);else{if(s=t.current.alternate,!(r&30)&&!xC(s)&&(e=fu(t,r),e===2&&(i=ld(t),i!==0&&(r=i,e=Ld(t,i))),e===1))throw n=na,Zr(t,0),ir(t,r),bt(t,De()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Wr(t,St,Rn);break;case 3:if(ir(t,r),(r&130023424)===r&&(e=mp+500-De(),10<e)){if(Ql(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){_t(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gd(Wr.bind(null,t,St,Rn),e);break}Wr(t,St,Rn);break;case 4:if(ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-sn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wC(r/1960))-r,10<r){t.timeoutHandle=gd(Wr.bind(null,t,St,Rn),r);break}Wr(t,St,Rn);break;case 5:Wr(t,St,Rn);break;default:throw Error(U(329))}}}return bt(t,De()),t.callbackNode===n?j1.bind(null,t):null}function Ld(t,e){var n=Io;return t.current.memoizedState.isDehydrated&&(Zr(t,e).flags|=256),t=fu(t,e),t!==2&&(e=St,St=n,e!==null&&jd(e)),t}function jd(t){St===null?St=t:St.push.apply(St,t)}function xC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ln(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ir(t,e){for(e&=~pp,e&=~Yu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sn(e),r=1<<n;t[n]=-1,e&=~r}}function $y(t){if(ue&6)throw Error(U(327));Zs();var e=Ql(t,0);if(!(e&1))return bt(t,De()),null;var n=fu(t,e);if(t.tag!==0&&n===2){var r=ld(t);r!==0&&(e=r,n=Ld(t,r))}if(n===1)throw n=na,Zr(t,0),ir(t,e),bt(t,De()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wr(t,St,Rn),bt(t,De()),null}function gp(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(ui=De()+500,Ku&&Mr())}}function ls(t){ar!==null&&ar.tag===0&&!(ue&6)&&Zs();var e=ue;ue|=1;var n=qt.transition,r=de;try{if(qt.transition=null,de=1,t)return t()}finally{de=r,qt.transition=n,ue=e,!(ue&6)&&Mr()}}function yp(){Nt=Us.current,Ee(Us)}function Zr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XA(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Xf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eu();break;case 3:ai(),Ee(It),Ee(mt),op();break;case 5:ip(r);break;case 4:ai();break;case 13:Ee(Se);break;case 19:Ee(Se);break;case 10:tp(r.type._context);break;case 22:case 23:yp()}n=n.return}if(Ze=t,je=t=yr(t.current,null),st=Nt=e,We=0,na=null,pp=Yu=as=0,St=Io=null,Qr!==null){for(e=0;e<Qr.length;e++)if(n=Qr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Qr=null}return t}function O1(t,e){do{var n=je;try{if(ep(),Rl.current=uu,lu){for(var r=Ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lu=!1}if(os=0,Ye=ze=Ce=null,Ao=!1,Zo=0,fp.current=null,n===null||n.return===null){We=1,na=e,je=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=st,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Ry(o);if(v!==null){v.flags&=-257,ky(v,o,a,i,e),v.mode&1&&by(i,c,e),e=v,u=c;var C=e.updateQueue;if(C===null){var P=new Set;P.add(u),e.updateQueue=P}else C.add(u);break e}else{if(!(e&1)){by(i,c,e),vp();break e}u=Error(U(426))}}else if(Te&&a.mode&1){var k=Ry(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),ky(k,o,a,i,e),Jf(li(u,a));break e}}i=u=li(u,a),We!==4&&(We=2),Io===null?Io=[i]:Io.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=x1(i,u,e);Ty(i,x);break e;case 1:a=u;var y=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(mr===null||!mr.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=E1(i,a,e);Ty(i,N);break e}}i=i.return}while(i!==null)}U1(n)}catch(V){e=V,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function F1(){var t=cu.current;return cu.current=uu,t===null?uu:t}function vp(){(We===0||We===3||We===2)&&(We=4),Ze===null||!(as&268435455)&&!(Yu&268435455)||ir(Ze,st)}function fu(t,e){var n=ue;ue|=2;var r=F1();(Ze!==t||st!==e)&&(Rn=null,Zr(t,e));do try{EC();break}catch(s){O1(t,s)}while(!0);if(ep(),ue=n,cu.current=r,je!==null)throw Error(U(261));return Ze=null,st=0,We}function EC(){for(;je!==null;)B1(je)}function TC(){for(;je!==null&&!G2();)B1(je)}function B1(t){var e=$1(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?U1(t):je=e,fp.current=null}function U1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gC(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,je=null;return}}else if(n=mC(n,e,Nt),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);We===0&&(We=5)}function Wr(t,e,n){var r=de,s=qt.transition;try{qt.transition=null,de=1,SC(t,e,n,r)}finally{qt.transition=s,de=r}return null}function SC(t,e,n,r){do Zs();while(ar!==null);if(ue&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(sA(t,i),t===Ze&&(je=Ze=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dl||(dl=!0,W1(Gl,function(){return Zs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qt.transition,qt.transition=null;var o=de;de=1;var a=ue;ue|=4,fp.current=null,vC(t,n),M1(n,t),WA(pd),Yl=!!fd,pd=fd=null,t.current=n,_C(n),Q2(),ue=a,de=o,qt.transition=i}else t.current=n;if(dl&&(dl=!1,ar=t,du=s),i=t.pendingLanes,i===0&&(mr=null),J2(n.stateNode),bt(t,De()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(hu)throw hu=!1,t=Dd,Dd=null,t;return du&1&&t.tag!==0&&Zs(),i=t.pendingLanes,i&1?t===Md?Po++:(Po=0,Md=t):Po=0,Mr(),null}function Zs(){if(ar!==null){var t=xw(du),e=qt.transition,n=de;try{if(qt.transition=null,de=16>t?16:t,ar===null)var r=!1;else{if(t=ar,ar=null,du=0,ue&6)throw Error(U(331));var s=ue;for(ue|=4,H=t.current;H!==null;){var i=H,o=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:Co(8,h,i)}var f=h.child;if(f!==null)f.return=h,H=f;else for(;H!==null;){h=H;var p=h.sibling,v=h.return;if(N1(h),h===c){H=null;break}if(p!==null){p.return=v,H=p;break}H=v}}}var C=i.alternate;if(C!==null){var P=C.child;if(P!==null){C.child=null;do{var k=P.sibling;P.sibling=null,P=k}while(P!==null)}}H=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,H=o;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Co(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,H=x;break e}H=i.return}}var y=t.current;for(H=y;H!==null;){o=H;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,H=T;else e:for(o=y;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qu(9,a)}}catch(V){ke(a,a.return,V)}if(a===o){H=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,H=N;break e}H=a.return}}if(ue=s,Mr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Uu,t)}catch{}r=!0}return r}finally{de=n,qt.transition=e}}return!1}function Wy(t,e,n){e=li(n,e),e=x1(t,e,1),t=pr(t,e,1),e=_t(),t!==null&&(xa(t,1,e),bt(t,e))}function ke(t,e,n){if(t.tag===3)Wy(t,t,n);else for(;e!==null;){if(e.tag===3){Wy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mr===null||!mr.has(r))){t=li(n,t),t=E1(e,t,1),e=pr(e,t,1),t=_t(),e!==null&&(xa(e,1,t),bt(e,t));break}}e=e.return}}function AC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(st&n)===n&&(We===4||We===3&&(st&130023424)===st&&500>De()-mp?Zr(t,0):pp|=n),bt(t,e)}function z1(t,e){e===0&&(t.mode&1?(e=nl,nl<<=1,!(nl&130023424)&&(nl=4194304)):e=1);var n=_t();t=Bn(t,e),t!==null&&(xa(t,e,n),bt(t,n))}function CC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),z1(t,n)}function IC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),z1(t,n)}var $1;$1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)At=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return At=!1,pC(t,e,n);At=!!(t.flags&131072)}else At=!1,Te&&e.flags&1048576&&qw(e,ru,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nl(t,e),t=e.pendingProps;var s=si(e,mt.current);Js(e,n),s=lp(null,e,r,t,s,n);var i=up();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(r)?(i=!0,tu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rp(e),s.updater=Gu,e.stateNode=s,s._reactInternals=e,Td(e,r,t,n),e=Cd(null,e,r,!0,i,n)):(e.tag=0,Te&&i&&Yf(e),vt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=bC(r),t=en(r,t),s){case 0:e=Ad(null,e,r,t,n);break e;case 1:e=Dy(null,e,r,t,n);break e;case 11:e=Ny(null,e,r,t,n);break e;case 14:e=Vy(null,e,r,en(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),Ad(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),Dy(t,e,r,s,n);case 3:e:{if(C1(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Zw(t,e),ou(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=li(Error(U(423)),e),e=My(t,e,r,n,s);break e}else if(r!==s){s=li(Error(U(424)),e),e=My(t,e,r,n,s);break e}else for(Dt=fr(e.stateNode.containerInfo.firstChild),Mt=e,Te=!0,nn=null,n=Xw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ii(),r===s){e=Un(t,e,n);break e}vt(t,e,r,n)}e=e.child}return e;case 5:return e1(e),t===null&&wd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,md(r,s)?o=null:i!==null&&md(r,i)&&(e.flags|=32),A1(t,e),vt(t,e,o,n),e.child;case 6:return t===null&&wd(e),null;case 13:return I1(t,e,n);case 4:return sp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oi(e,null,r,n):vt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),Ny(t,e,r,s,n);case 7:return vt(t,e,e.pendingProps,n),e.child;case 8:return vt(t,e,e.pendingProps.children,n),e.child;case 12:return vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ge(su,r._currentValue),r._currentValue=o,i!==null)if(ln(i.value,o)){if(i.children===s.children&&!It.current){e=Un(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Dn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),xd(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xd(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}vt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Js(e,n),s=Qt(s),r=r(s),e.flags|=1,vt(t,e,r,n),e.child;case 14:return r=e.type,s=en(r,e.pendingProps),s=en(r.type,s),Vy(t,e,r,s,n);case 15:return T1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),Nl(t,e),e.tag=1,Pt(r)?(t=!0,tu(e)):t=!1,Js(e,n),w1(e,r,s),Td(e,r,s,n),Cd(null,e,r,!0,t,n);case 19:return P1(t,e,n);case 22:return S1(t,e,n)}throw Error(U(156,e.tag))};function W1(t,e){return yw(t,e)}function PC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new PC(t,e,n,r)}function _p(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bC(t){if(typeof t=="function")return _p(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Of)return 11;if(t===Ff)return 14}return 2}function yr(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ml(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")_p(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ks:return es(n.children,s,i,e);case jf:o=8,s|=8;break;case qh:return t=Kt(12,n,e,s|2),t.elementType=qh,t.lanes=i,t;case Gh:return t=Kt(13,n,e,s),t.elementType=Gh,t.lanes=i,t;case Qh:return t=Kt(19,n,e,s),t.elementType=Qh,t.lanes=i,t;case ew:return Xu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J_:o=10;break e;case Z_:o=9;break e;case Of:o=11;break e;case Ff:o=14;break e;case nr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Kt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function es(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function Xu(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=ew,t.lanes=n,t.stateNode={isHidden:!1},t}function vh(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function _h(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zc(0),this.expirationTimes=Zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wp(t,e,n,r,s,i,o,a,u){return t=new RC(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rp(i),t}function kC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function H1(t){if(!t)return Sr;t=t._reactInternals;e:{if(ms(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Pt(n))return Hw(t,n,e)}return e}function K1(t,e,n,r,s,i,o,a,u){return t=wp(n,r,!0,t,s,i,o,a,u),t.context=H1(null),n=t.current,r=_t(),s=gr(n),i=Dn(r,s),i.callback=e??null,pr(n,i,s),t.current.lanes=s,xa(t,s,r),bt(t,r),t}function Ju(t,e,n,r){var s=e.current,i=_t(),o=gr(s);return n=H1(n),e.context===null?e.context=n:e.pendingContext=n,e=Dn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pr(s,e,o),t!==null&&(on(t,s,o,i),bl(t,s,o)),o}function pu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xp(t,e){Hy(t,e),(t=t.alternate)&&Hy(t,e)}function NC(){return null}var q1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ep(t){this._internalRoot=t}Zu.prototype.render=Ep.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Ju(t,e,null,null)};Zu.prototype.unmount=Ep.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ls(function(){Ju(null,t,null,null)}),e[Fn]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&Cw(t)}};function Tp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ec(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ky(){}function VC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=pu(o);i.call(c)}}var o=K1(e,r,t,0,null,!1,!1,"",Ky);return t._reactRootContainer=o,t[Fn]=o.current,Go(t.nodeType===8?t.parentNode:t),ls(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=pu(u);a.call(c)}}var u=wp(t,0,!1,null,null,!1,!1,"",Ky);return t._reactRootContainer=u,t[Fn]=u.current,Go(t.nodeType===8?t.parentNode:t),ls(function(){Ju(e,u,n,r)}),u}function tc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=pu(o);a.call(u)}}Ju(e,o,t,s)}else o=VC(n,e,t,s,r);return pu(o)}Ew=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lo(e.pendingLanes);n!==0&&(zf(e,n|1),bt(e,De()),!(ue&6)&&(ui=De()+500,Mr()))}break;case 13:ls(function(){var r=Bn(t,1);if(r!==null){var s=_t();on(r,t,1,s)}}),xp(t,1)}};$f=function(t){if(t.tag===13){var e=Bn(t,134217728);if(e!==null){var n=_t();on(e,t,134217728,n)}xp(t,134217728)}};Tw=function(t){if(t.tag===13){var e=gr(t),n=Bn(t,e);if(n!==null){var r=_t();on(n,t,e,r)}xp(t,e)}};Sw=function(){return de};Aw=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};id=function(t,e,n){switch(e){case"input":if(Jh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Hu(r);if(!s)throw Error(U(90));nw(r),Jh(r,s)}}}break;case"textarea":sw(t,n);break;case"select":e=n.value,e!=null&&Gs(t,!!n.multiple,e,!1)}};hw=gp;dw=ls;var DC={usingClientEntryPoint:!1,Events:[Ta,Ms,Hu,uw,cw,gp]},ro={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MC={bundleType:ro.bundleType,version:ro.version,rendererPackageName:ro.rendererPackageName,rendererConfig:ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mw(t),t===null?null:t.stateNode},findFiberByHostInstance:ro.findFiberByHostInstance||NC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Uu=fl.inject(MC),vn=fl}catch{}}Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DC;Ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tp(e))throw Error(U(200));return kC(t,e,null,n)};Ft.createRoot=function(t,e){if(!Tp(t))throw Error(U(299));var n=!1,r="",s=q1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wp(t,1,!1,null,null,n,!1,r,s),t[Fn]=e.current,Go(t.nodeType===8?t.parentNode:t),new Ep(e)};Ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=mw(e),t=t===null?null:t.stateNode,t};Ft.flushSync=function(t){return ls(t)};Ft.hydrate=function(t,e,n){if(!ec(e))throw Error(U(200));return tc(null,t,e,!0,n)};Ft.hydrateRoot=function(t,e,n){if(!Tp(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=q1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=K1(e,null,t,1,n??null,s,!1,i,o),t[Fn]=e.current,Go(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Zu(e)};Ft.render=function(t,e,n){if(!ec(e))throw Error(U(200));return tc(null,t,e,!1,n)};Ft.unmountComponentAtNode=function(t){if(!ec(t))throw Error(U(40));return t._reactRootContainer?(ls(function(){tc(null,null,t,!1,function(){t._reactRootContainer=null,t[Fn]=null})}),!0):!1};Ft.unstable_batchedUpdates=gp;Ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ec(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return tc(t,e,n,!1,r)};Ft.version="18.3.1-next-f1338f8080-20240426";function G1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G1)}catch(t){console.error(t)}}G1(),G_.exports=Ft;var LC=G_.exports,qy=LC;Hh.createRoot=qy.createRoot,Hh.hydrateRoot=qy.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ra.apply(this,arguments)}var lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lr||(lr={}));const Gy="popstate";function jC(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Od("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Q1(s)}return FC(e,n,null,t)}function He(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OC(){return Math.random().toString(36).substr(2,8)}function Qy(t,e){return{usr:t.state,key:t.key,idx:e}}function Od(t,e,n,r){return n===void 0&&(n=null),ra({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ti(e):e,{state:n,key:e&&e.key||r||OC()})}function Q1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ti(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function FC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=lr.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(ra({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=lr.Pop;let k=h(),x=k==null?null:k-c;c=k,u&&u({action:a,location:P.location,delta:x})}function p(k,x){a=lr.Push;let y=Od(P.location,k,x);c=h()+1;let T=Qy(y,c),N=P.createHref(y);try{o.pushState(T,"",N)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(N)}i&&u&&u({action:a,location:P.location,delta:1})}function v(k,x){a=lr.Replace;let y=Od(P.location,k,x);c=h();let T=Qy(y,c),N=P.createHref(y);o.replaceState(T,"",N),i&&u&&u({action:a,location:P.location,delta:0})}function C(k){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof k=="string"?k:Q1(k);return y=y.replace(/ $/,"%20"),He(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let P={get action(){return a},get location(){return t(s,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Gy,f),u=k,()=>{s.removeEventListener(Gy,f),u=null}},createHref(k){return e(s,k)},createURL:C,encodeLocation(k){let x=C(k);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:v,go(k){return o.go(k)}};return P}var Yy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yy||(Yy={}));function BC(t,e,n){return n===void 0&&(n="/"),UC(t,e,n)}function UC(t,e,n,r){let s=typeof e=="string"?Ti(e):e,i=J1(s.pathname||"/",n);if(i==null)return null;let o=Y1(t);zC(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=eI(i);a=XC(o[u],c)}return a}function Y1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(He(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ts([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(He(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Y1(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:QC(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of X1(i.path))s(i,o,u)}),e}function X1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=X1(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function zC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $C=/^:[\w-]+$/,WC=3,HC=2,KC=1,qC=10,GC=-2,Xy=t=>t==="*";function QC(t,e){let n=t.split("/"),r=n.length;return n.some(Xy)&&(r+=GC),e&&(r+=HC),n.filter(s=>!Xy(s)).reduce((s,i)=>s+($C.test(i)?WC:i===""?KC:qC),r)}function YC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function XC(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=JC({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ts([i,f.pathname]),pathnameBase:aI(ts([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ts([i,f.pathnameBase]))}return o}function JC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:p,isOptional:v}=h;if(p==="*"){let P=a[f]||"";o=i.slice(0,i.length-P.length).replace(/(.)\/+$/,"$1")}const C=a[f];return v&&!C?c[p]=void 0:c[p]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function ZC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Sp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function eI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function J1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const tI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nI=t=>tI.test(t);function rI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ti(t):t,i;if(n)if(nI(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Sp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=Jy(n.substring(1),"/"):i=Jy(n,e)}else i=e;return{pathname:i,search:lI(r),hash:uI(s)}}function Jy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iI(t,e){let n=sI(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oI(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ti(t):(s=ra({},t),He(!s.pathname||!s.pathname.includes("?"),wh("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),wh("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),wh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let u=rI(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const ts=t=>t.join("/").replace(/\/\/+/g,"/"),aI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Z1=["post","put","patch","delete"];new Set(Z1);const hI=["get",...Z1];new Set(hI);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sa(){return sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sa.apply(this,arguments)}const Ap=D.createContext(null),dI=D.createContext(null),nc=D.createContext(null),rc=D.createContext(null),Si=D.createContext({outlet:null,matches:[],isDataRoute:!1}),ex=D.createContext(null);function sc(){return D.useContext(rc)!=null}function tx(){return sc()||He(!1),D.useContext(rc).location}function nx(t){D.useContext(nc).static||D.useLayoutEffect(t)}function Cp(){let{isDataRoute:t}=D.useContext(Si);return t?AI():fI()}function fI(){sc()||He(!1);let t=D.useContext(Ap),{basename:e,future:n,navigator:r}=D.useContext(nc),{matches:s}=D.useContext(Si),{pathname:i}=tx(),o=JSON.stringify(iI(s,n.v7_relativeSplatPath)),a=D.useRef(!1);return nx(()=>{a.current=!0}),D.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=oI(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ts([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function pI(t,e){return mI(t,e)}function mI(t,e,n,r){sc()||He(!1);let{navigator:s}=D.useContext(nc),{matches:i}=D.useContext(Si),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=tx(),h;if(e){var f;let k=typeof e=="string"?Ti(e):e;u==="/"||(f=k.pathname)!=null&&f.startsWith(u)||He(!1),h=k}else h=c;let p=h.pathname||"/",v=p;if(u!=="/"){let k=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=BC(t,{pathname:v}),P=wI(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:ts([u,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:ts([u,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return e&&P?D.createElement(rc.Provider,{value:{location:sa({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:lr.Pop}},P):P}function gI(){let t=SI(),e=cI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:s},n):null,null)}const yI=D.createElement(gI,null);class vI extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Si.Provider,{value:this.props.routeContext},D.createElement(ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _I(t){let{routeContext:e,match:n,children:r}=t,s=D.useContext(Ap);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Si.Provider,{value:e},r)}function wI(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||He(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:v}=n,C=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||C){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let v,C=!1,P=null,k=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,P=f.route.errorElement||yI,u&&(c<0&&p===0?(CI("route-fallback"),C=!0,k=null):c===p&&(C=!0,k=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),y=()=>{let T;return v?T=P:C?T=k:f.route.Component?T=D.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,D.createElement(_I,{match:f,routeContext:{outlet:h,matches:x,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?D.createElement(vI,{location:n.location,revalidation:n.revalidation,component:P,error:v,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var rx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rx||{}),sx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sx||{});function xI(t){let e=D.useContext(Ap);return e||He(!1),e}function EI(t){let e=D.useContext(dI);return e||He(!1),e}function TI(t){let e=D.useContext(Si);return e||He(!1),e}function ix(t){let e=TI(),n=e.matches[e.matches.length-1];return n.route.id||He(!1),n.route.id}function SI(){var t;let e=D.useContext(ex),n=EI(),r=ix();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function AI(){let{router:t}=xI(rx.UseNavigateStable),e=ix(sx.UseNavigateStable),n=D.useRef(!1);return nx(()=>{n.current=!0}),D.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,sa({fromRouteId:e},i)))},[t,e])}const Zy={};function CI(t,e,n){Zy[t]||(Zy[t]=!0)}function II(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function co(t){He(!1)}function PI(t){let{basename:e="/",children:n=null,location:r,navigationType:s=lr.Pop,navigator:i,static:o=!1,future:a}=t;sc()&&He(!1);let u=e.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:u,navigator:i,static:o,future:sa({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=Ti(r));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:C="default"}=r,P=D.useMemo(()=>{let k=J1(h,u);return k==null?null:{location:{pathname:k,search:f,hash:p,state:v,key:C},navigationType:s}},[u,h,f,p,v,C,s]);return P==null?null:D.createElement(nc.Provider,{value:c},D.createElement(rc.Provider,{children:n,value:P}))}function bI(t){let{children:e,location:n}=t;return pI(Fd(e),n)}new Promise(()=>{});function Fd(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,s)=>{if(!D.isValidElement(r))return;let i=[...e,s];if(r.type===D.Fragment){n.push.apply(n,Fd(r.props.children,i));return}r.type!==co&&He(!1),!r.props.index||!r.props.children||He(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fd(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const RI="6";try{window.__reactRouterVersion=RI}catch{}const kI="startTransition",e0=A2[kI];function NI(t){let{basename:e,children:n,future:r,window:s}=t,i=D.useRef();i.current==null&&(i.current=jC({window:s,v5Compat:!0}));let o=i.current,[a,u]=D.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=D.useCallback(f=>{c&&e0?e0(()=>u(f)):u(f)},[u,c]);return D.useLayoutEffect(()=>o.listen(h),[o,h]),D.useEffect(()=>II(r),[r]),D.createElement(PI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var t0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(t0||(t0={}));var n0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(n0||(n0={}));const VI="modulepreload",DI=function(t){return"/"+t},r0={},ox=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=DI(u),u in r0)return;r0[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":VI,c||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},MI=()=>{};var s0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},LI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,v=c&63;u||(v=64,o||(p=64)),r.push(n[h],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ax(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new jI;const p=i<<2|a>>4;if(r.push(p),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const C=c<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OI=function(t){const e=ax(t);return lx.encodeByteArray(e,!0)},mu=function(t){return OI(t).replace(/\./g,"")},FI=function(t){try{return lx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=()=>BI().__FIREBASE_DEFAULTS__,zI=()=>{if(typeof process>"u"||typeof s0>"u")return;const t=s0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$I=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FI(t[1]);return e&&JSON.parse(e)},Ip=()=>{try{return MI()||UI()||zI()||$I()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WI=t=>{var e,n;return(n=(e=Ip())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},HI=t=>{const e=WI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ux=()=>{var t;return(t=Ip())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mu(JSON.stringify(n)),mu(JSON.stringify(o)),""].join(".")}const bo={};function QI(){const t={prod:[],emulator:[]};for(const e of Object.keys(bo))bo[e]?t.emulator.push(e):t.prod.push(e);return t}function YI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let i0=!1;function XI(t,e){if(typeof window>"u"||typeof document>"u"||!Pp(window.location.host)||bo[t]===e||bo[t]||i0)return;bo[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=QI().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{i0=!0,o()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=YI(r),v=n("text"),C=document.getElementById(v)||document.createElement("span"),P=n("learnmore"),k=document.getElementById(P)||document.createElement("a"),x=n("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),h(k,P);const N=c();u(y,x),T.append(y,C,k,N),document.body.appendChild(T)}i?(C.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZI(){var e;const t=(e=Ip())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eP(){return!ZI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tP(){try{return typeof indexedDB=="object"}catch{return!1}}function nP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="FirebaseError";class Ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rP,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cx.prototype.create)}}class cx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?sP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ai(s,a,r)}}function sP(t,e){return t.replace(iP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const iP=/\{\$([^}]+)}/g;function gu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(o0(i)&&o0(o)){if(!gu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function o0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t){return t&&t._delegate?t._delegate:t}class ia{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lP(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aP(t){return t===Hr?void 0:t}function lP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const cP={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},hP=le.INFO,dP={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},fP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=dP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hx{constructor(e){this.name=e,this._logLevel=hP,this._logHandler=fP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const pP=(t,e)=>e.some(n=>t instanceof n);let a0,l0;function mP(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gP(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dx=new WeakMap,Bd=new WeakMap,fx=new WeakMap,xh=new WeakMap,bp=new WeakMap;function yP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(vr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dx.set(n,t)}).catch(()=>{}),bp.set(e,t),e}function vP(t){if(Bd.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Bd.set(t,e)}let Ud={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _P(t){Ud=t(Ud)}function wP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eh(this),e,...n);return fx.set(r,e.sort?e.sort():[e]),vr(r)}:gP().includes(t)?function(...e){return t.apply(Eh(this),e),vr(dx.get(this))}:function(...e){return vr(t.apply(Eh(this),e))}}function xP(t){return typeof t=="function"?wP(t):(t instanceof IDBTransaction&&vP(t),pP(t,mP())?new Proxy(t,Ud):t)}function vr(t){if(t instanceof IDBRequest)return yP(t);if(xh.has(t))return xh.get(t);const e=xP(t);return e!==t&&(xh.set(t,e),bp.set(e,t)),e}const Eh=t=>bp.get(t);function EP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=vr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(vr(o.result),u.oldVersion,u.newVersion,vr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const TP=["get","getKey","getAll","getAllKeys","count"],SP=["put","add","delete","clear"],Th=new Map;function u0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Th.get(e))return Th.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=SP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||TP.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return Th.set(e,i),i}_P(t=>({...t,get:(e,n,r)=>u0(e,n)||t.get(e,n,r),has:(e,n)=>!!u0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zd="@firebase/app",c0="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new hx("@firebase/app"),IP="@firebase/app-compat",PP="@firebase/analytics-compat",bP="@firebase/analytics",RP="@firebase/app-check-compat",kP="@firebase/app-check",NP="@firebase/auth",VP="@firebase/auth-compat",DP="@firebase/database",MP="@firebase/data-connect",LP="@firebase/database-compat",jP="@firebase/functions",OP="@firebase/functions-compat",FP="@firebase/installations",BP="@firebase/installations-compat",UP="@firebase/messaging",zP="@firebase/messaging-compat",$P="@firebase/performance",WP="@firebase/performance-compat",HP="@firebase/remote-config",KP="@firebase/remote-config-compat",qP="@firebase/storage",GP="@firebase/storage-compat",QP="@firebase/firestore",YP="@firebase/ai",XP="@firebase/firestore-compat",JP="firebase",ZP="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",eb={[zd]:"fire-core",[IP]:"fire-core-compat",[bP]:"fire-analytics",[PP]:"fire-analytics-compat",[kP]:"fire-app-check",[RP]:"fire-app-check-compat",[NP]:"fire-auth",[VP]:"fire-auth-compat",[DP]:"fire-rtdb",[MP]:"fire-data-connect",[LP]:"fire-rtdb-compat",[jP]:"fire-fn",[OP]:"fire-fn-compat",[FP]:"fire-iid",[BP]:"fire-iid-compat",[UP]:"fire-fcm",[zP]:"fire-fcm-compat",[$P]:"fire-perf",[WP]:"fire-perf-compat",[HP]:"fire-rc",[KP]:"fire-rc-compat",[qP]:"fire-gcs",[GP]:"fire-gcs-compat",[QP]:"fire-fst",[XP]:"fire-fst-compat",[YP]:"fire-vertex","fire-js":"fire-js",[JP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,tb=new Map,Wd=new Map;function h0(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vu(t){const e=t.name;if(Wd.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,t);for(const n of yu.values())h0(n,t);for(const n of tb.values())h0(n,t);return!0}function nb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rb(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new cx("app","Firebase",sb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=ZP;function px(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:$d,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw _r.create("bad-app-name",{appName:String(s)});if(n||(n=ux()),!n)throw _r.create("no-options");const i=yu.get(s);if(i){if(gu(n,i.options)&&gu(r,i.config))return i;throw _r.create("duplicate-app",{appName:s})}const o=new uP(s);for(const u of Wd.values())o.addComponent(u);const a=new ib(n,r,o);return yu.set(s,a),a}function ab(t=$d){const e=yu.get(t);if(!e&&t===$d&&ux())return px();if(!e)throw _r.create("no-app",{appName:t});return e}function ei(t,e,n){let r=eb[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(o.join(" "));return}vu(new ia(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebase-heartbeat-database",ub=1,oa="firebase-heartbeat-store";let Sh=null;function mx(){return Sh||(Sh=EP(lb,ub,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oa)}catch(n){console.warn(n)}}}}).catch(t=>{throw _r.create("idb-open",{originalErrorMessage:t.message})})),Sh}async function cb(t){try{const n=(await mx()).transaction(oa),r=await n.objectStore(oa).get(gx(t));return await n.done,r}catch(e){if(e instanceof Ai)zn.warn(e.message);else{const n=_r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zn.warn(n.message)}}}async function d0(t,e){try{const r=(await mx()).transaction(oa,"readwrite");await r.objectStore(oa).put(e,gx(t)),await r.done}catch(n){if(n instanceof Ai)zn.warn(n.message);else{const r=_r.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zn.warn(r.message)}}}function gx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=1024,db=30;class fb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=f0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>db){const o=gb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f0(),{heartbeatsToSend:r,unsentEntries:s}=pb(this._heartbeatsCache.heartbeats),i=mu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return zn.warn(n),""}}}function f0(){return new Date().toISOString().substring(0,10)}function pb(t,e=hb){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),p0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),p0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tP()?nP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function p0(t){return mu(JSON.stringify({version:2,heartbeats:t})).length}function gb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){vu(new ia("platform-logger",e=>new AP(e),"PRIVATE")),vu(new ia("heartbeat",e=>new fb(e),"PRIVATE")),ei(zd,c0,t),ei(zd,c0,"esm2020"),ei("fire-js","")}yb("");var vb="firebase",_b="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(vb,_b,"app");var m0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wr,yx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,_){function A(){}A.prototype=_.prototype,S.F=_.prototype,S.prototype=new A,S.prototype.constructor=S,S.D=function(b,R,I){for(var E=Array(arguments.length-2),W=2;W<arguments.length;W++)E[W-2]=arguments[W];return _.prototype[R].apply(b,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,_,A){A||(A=0);const b=Array(16);if(typeof _=="string")for(var R=0;R<16;++R)b[R]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(R=0;R<16;++R)b[R]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=S.g[0],A=S.g[1],R=S.g[2];let I=S.g[3],E;E=_+(I^A&(R^I))+b[0]+3614090360&4294967295,_=A+(E<<7&4294967295|E>>>25),E=I+(R^_&(A^R))+b[1]+3905402710&4294967295,I=_+(E<<12&4294967295|E>>>20),E=R+(A^I&(_^A))+b[2]+606105819&4294967295,R=I+(E<<17&4294967295|E>>>15),E=A+(_^R&(I^_))+b[3]+3250441966&4294967295,A=R+(E<<22&4294967295|E>>>10),E=_+(I^A&(R^I))+b[4]+4118548399&4294967295,_=A+(E<<7&4294967295|E>>>25),E=I+(R^_&(A^R))+b[5]+1200080426&4294967295,I=_+(E<<12&4294967295|E>>>20),E=R+(A^I&(_^A))+b[6]+2821735955&4294967295,R=I+(E<<17&4294967295|E>>>15),E=A+(_^R&(I^_))+b[7]+4249261313&4294967295,A=R+(E<<22&4294967295|E>>>10),E=_+(I^A&(R^I))+b[8]+1770035416&4294967295,_=A+(E<<7&4294967295|E>>>25),E=I+(R^_&(A^R))+b[9]+2336552879&4294967295,I=_+(E<<12&4294967295|E>>>20),E=R+(A^I&(_^A))+b[10]+4294925233&4294967295,R=I+(E<<17&4294967295|E>>>15),E=A+(_^R&(I^_))+b[11]+2304563134&4294967295,A=R+(E<<22&4294967295|E>>>10),E=_+(I^A&(R^I))+b[12]+1804603682&4294967295,_=A+(E<<7&4294967295|E>>>25),E=I+(R^_&(A^R))+b[13]+4254626195&4294967295,I=_+(E<<12&4294967295|E>>>20),E=R+(A^I&(_^A))+b[14]+2792965006&4294967295,R=I+(E<<17&4294967295|E>>>15),E=A+(_^R&(I^_))+b[15]+1236535329&4294967295,A=R+(E<<22&4294967295|E>>>10),E=_+(R^I&(A^R))+b[1]+4129170786&4294967295,_=A+(E<<5&4294967295|E>>>27),E=I+(A^R&(_^A))+b[6]+3225465664&4294967295,I=_+(E<<9&4294967295|E>>>23),E=R+(_^A&(I^_))+b[11]+643717713&4294967295,R=I+(E<<14&4294967295|E>>>18),E=A+(I^_&(R^I))+b[0]+3921069994&4294967295,A=R+(E<<20&4294967295|E>>>12),E=_+(R^I&(A^R))+b[5]+3593408605&4294967295,_=A+(E<<5&4294967295|E>>>27),E=I+(A^R&(_^A))+b[10]+38016083&4294967295,I=_+(E<<9&4294967295|E>>>23),E=R+(_^A&(I^_))+b[15]+3634488961&4294967295,R=I+(E<<14&4294967295|E>>>18),E=A+(I^_&(R^I))+b[4]+3889429448&4294967295,A=R+(E<<20&4294967295|E>>>12),E=_+(R^I&(A^R))+b[9]+568446438&4294967295,_=A+(E<<5&4294967295|E>>>27),E=I+(A^R&(_^A))+b[14]+3275163606&4294967295,I=_+(E<<9&4294967295|E>>>23),E=R+(_^A&(I^_))+b[3]+4107603335&4294967295,R=I+(E<<14&4294967295|E>>>18),E=A+(I^_&(R^I))+b[8]+1163531501&4294967295,A=R+(E<<20&4294967295|E>>>12),E=_+(R^I&(A^R))+b[13]+2850285829&4294967295,_=A+(E<<5&4294967295|E>>>27),E=I+(A^R&(_^A))+b[2]+4243563512&4294967295,I=_+(E<<9&4294967295|E>>>23),E=R+(_^A&(I^_))+b[7]+1735328473&4294967295,R=I+(E<<14&4294967295|E>>>18),E=A+(I^_&(R^I))+b[12]+2368359562&4294967295,A=R+(E<<20&4294967295|E>>>12),E=_+(A^R^I)+b[5]+4294588738&4294967295,_=A+(E<<4&4294967295|E>>>28),E=I+(_^A^R)+b[8]+2272392833&4294967295,I=_+(E<<11&4294967295|E>>>21),E=R+(I^_^A)+b[11]+1839030562&4294967295,R=I+(E<<16&4294967295|E>>>16),E=A+(R^I^_)+b[14]+4259657740&4294967295,A=R+(E<<23&4294967295|E>>>9),E=_+(A^R^I)+b[1]+2763975236&4294967295,_=A+(E<<4&4294967295|E>>>28),E=I+(_^A^R)+b[4]+1272893353&4294967295,I=_+(E<<11&4294967295|E>>>21),E=R+(I^_^A)+b[7]+4139469664&4294967295,R=I+(E<<16&4294967295|E>>>16),E=A+(R^I^_)+b[10]+3200236656&4294967295,A=R+(E<<23&4294967295|E>>>9),E=_+(A^R^I)+b[13]+681279174&4294967295,_=A+(E<<4&4294967295|E>>>28),E=I+(_^A^R)+b[0]+3936430074&4294967295,I=_+(E<<11&4294967295|E>>>21),E=R+(I^_^A)+b[3]+3572445317&4294967295,R=I+(E<<16&4294967295|E>>>16),E=A+(R^I^_)+b[6]+76029189&4294967295,A=R+(E<<23&4294967295|E>>>9),E=_+(A^R^I)+b[9]+3654602809&4294967295,_=A+(E<<4&4294967295|E>>>28),E=I+(_^A^R)+b[12]+3873151461&4294967295,I=_+(E<<11&4294967295|E>>>21),E=R+(I^_^A)+b[15]+530742520&4294967295,R=I+(E<<16&4294967295|E>>>16),E=A+(R^I^_)+b[2]+3299628645&4294967295,A=R+(E<<23&4294967295|E>>>9),E=_+(R^(A|~I))+b[0]+4096336452&4294967295,_=A+(E<<6&4294967295|E>>>26),E=I+(A^(_|~R))+b[7]+1126891415&4294967295,I=_+(E<<10&4294967295|E>>>22),E=R+(_^(I|~A))+b[14]+2878612391&4294967295,R=I+(E<<15&4294967295|E>>>17),E=A+(I^(R|~_))+b[5]+4237533241&4294967295,A=R+(E<<21&4294967295|E>>>11),E=_+(R^(A|~I))+b[12]+1700485571&4294967295,_=A+(E<<6&4294967295|E>>>26),E=I+(A^(_|~R))+b[3]+2399980690&4294967295,I=_+(E<<10&4294967295|E>>>22),E=R+(_^(I|~A))+b[10]+4293915773&4294967295,R=I+(E<<15&4294967295|E>>>17),E=A+(I^(R|~_))+b[1]+2240044497&4294967295,A=R+(E<<21&4294967295|E>>>11),E=_+(R^(A|~I))+b[8]+1873313359&4294967295,_=A+(E<<6&4294967295|E>>>26),E=I+(A^(_|~R))+b[15]+4264355552&4294967295,I=_+(E<<10&4294967295|E>>>22),E=R+(_^(I|~A))+b[6]+2734768916&4294967295,R=I+(E<<15&4294967295|E>>>17),E=A+(I^(R|~_))+b[13]+1309151649&4294967295,A=R+(E<<21&4294967295|E>>>11),E=_+(R^(A|~I))+b[4]+4149444226&4294967295,_=A+(E<<6&4294967295|E>>>26),E=I+(A^(_|~R))+b[11]+3174756917&4294967295,I=_+(E<<10&4294967295|E>>>22),E=R+(_^(I|~A))+b[2]+718787259&4294967295,R=I+(E<<15&4294967295|E>>>17),E=A+(I^(R|~_))+b[9]+3951481745&4294967295,S.g[0]=S.g[0]+_&4294967295,S.g[1]=S.g[1]+(R+(E<<21&4294967295|E>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+I&4294967295}r.prototype.v=function(S,_){_===void 0&&(_=S.length);const A=_-this.blockSize,b=this.C;let R=this.h,I=0;for(;I<_;){if(R==0)for(;I<=A;)s(this,S,I),I+=this.blockSize;if(typeof S=="string"){for(;I<_;)if(b[R++]=S.charCodeAt(I++),R==this.blockSize){s(this,b),R=0;break}}else for(;I<_;)if(b[R++]=S[I++],R==this.blockSize){s(this,b),R=0;break}}this.h=R,this.o+=_},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var _=1;_<S.length-8;++_)S[_]=0;_=this.o*8;for(var A=S.length-8;A<S.length;++A)S[A]=_&255,_/=256;for(this.v(S),S=Array(16),_=0,A=0;A<4;++A)for(let b=0;b<32;b+=8)S[_++]=this.g[A]>>>b&255;return S};function i(S,_){var A=a;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=_(S)}function o(S,_){this.h=_;const A=[];let b=!0;for(let R=S.length-1;R>=0;R--){const I=S[R]|0;b&&I==_||(A[R]=I,b=!1)}this.g=A}var a={};function u(S){return-128<=S&&S<128?i(S,function(_){return new o([_|0],_<0?-1:0)}):new o([S|0],S<0?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return k(c(-S));const _=[];let A=1;for(let b=0;S>=A;b++)_[b]=S/A|0,A*=4294967296;return new o(_,0)}function h(S,_){if(S.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(S.charAt(0)=="-")return k(h(S.substring(1),_));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(_,8));let b=f;for(let I=0;I<S.length;I+=8){var R=Math.min(8,S.length-I);const E=parseInt(S.substring(I,I+R),_);R<8?(R=c(Math.pow(_,R)),b=b.j(R).add(c(E))):(b=b.j(A),b=b.add(c(E)))}return b}var f=u(0),p=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(P(this))return-k(this).m();let S=0,_=1;for(let A=0;A<this.g.length;A++){const b=this.i(A);S+=(b>=0?b:4294967296+b)*_,_*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(P(this))return"-"+k(this).toString(S);const _=c(Math.pow(S,6));var A=this;let b="";for(;;){const R=N(A,_).g;A=x(A,R.j(_));let I=((A.g.length>0?A.g[0]:A.h)>>>0).toString(S);if(A=R,C(A))return I+b;for(;I.length<6;)I="0"+I;b=I+b}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(let _=0;_<S.g.length;_++)if(S.g[_]!=0)return!1;return!0}function P(S){return S.h==-1}t.l=function(S){return S=x(this,S),P(S)?-1:C(S)?0:1};function k(S){const _=S.g.length,A=[];for(let b=0;b<_;b++)A[b]=~S.g[b];return new o(A,~S.h).add(p)}t.abs=function(){return P(this)?k(this):this},t.add=function(S){const _=Math.max(this.g.length,S.g.length),A=[];let b=0;for(let R=0;R<=_;R++){let I=b+(this.i(R)&65535)+(S.i(R)&65535),E=(I>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);b=E>>>16,I&=65535,E&=65535,A[R]=E<<16|I}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(S,_){return S.add(k(_))}t.j=function(S){if(C(this)||C(S))return f;if(P(this))return P(S)?k(this).j(k(S)):k(k(this).j(S));if(P(S))return k(this.j(k(S)));if(this.l(v)<0&&S.l(v)<0)return c(this.m()*S.m());const _=this.g.length+S.g.length,A=[];for(var b=0;b<2*_;b++)A[b]=0;for(b=0;b<this.g.length;b++)for(let R=0;R<S.g.length;R++){const I=this.i(b)>>>16,E=this.i(b)&65535,W=S.i(R)>>>16,Q=S.i(R)&65535;A[2*b+2*R]+=E*Q,y(A,2*b+2*R),A[2*b+2*R+1]+=I*Q,y(A,2*b+2*R+1),A[2*b+2*R+1]+=E*W,y(A,2*b+2*R+1),A[2*b+2*R+2]+=I*W,y(A,2*b+2*R+2)}for(S=0;S<_;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=_;S<2*_;S++)A[S]=0;return new o(A,0)};function y(S,_){for(;(S[_]&65535)!=S[_];)S[_+1]+=S[_]>>>16,S[_]&=65535,_++}function T(S,_){this.g=S,this.h=_}function N(S,_){if(C(_))throw Error("division by zero");if(C(S))return new T(f,f);if(P(S))return _=N(k(S),_),new T(k(_.g),k(_.h));if(P(_))return _=N(S,k(_)),new T(k(_.g),_.h);if(S.g.length>30){if(P(S)||P(_))throw Error("slowDivide_ only works with positive integers.");for(var A=p,b=_;b.l(S)<=0;)A=V(A),b=V(b);var R=j(A,1),I=j(b,1);for(b=j(b,2),A=j(A,2);!C(b);){var E=I.add(b);E.l(S)<=0&&(R=R.add(A),I=E),b=j(b,1),A=j(A,1)}return _=x(S,R.j(_)),new T(R,_)}for(R=f;S.l(_)>=0;){for(A=Math.max(1,Math.floor(S.m()/_.m())),b=Math.ceil(Math.log(A)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),I=c(A),E=I.j(_);P(E)||E.l(S)>0;)A-=b,I=c(A),E=I.j(_);C(I)&&(I=p),R=R.add(I),S=x(S,E)}return new T(R,S)}t.B=function(S){return N(this,S).h},t.and=function(S){const _=Math.max(this.g.length,S.g.length),A=[];for(let b=0;b<_;b++)A[b]=this.i(b)&S.i(b);return new o(A,this.h&S.h)},t.or=function(S){const _=Math.max(this.g.length,S.g.length),A=[];for(let b=0;b<_;b++)A[b]=this.i(b)|S.i(b);return new o(A,this.h|S.h)},t.xor=function(S){const _=Math.max(this.g.length,S.g.length),A=[];for(let b=0;b<_;b++)A[b]=this.i(b)^S.i(b);return new o(A,this.h^S.h)};function V(S){const _=S.g.length+1,A=[];for(let b=0;b<_;b++)A[b]=S.i(b)<<1|S.i(b-1)>>>31;return new o(A,S.h)}function j(S,_){const A=_>>5;_%=32;const b=S.g.length-A,R=[];for(let I=0;I<b;I++)R[I]=_>0?S.i(I+A)>>>_|S.i(I+A+1)<<32-_:S.i(I+A);return new o(R,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,yx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,wr=o}).apply(typeof m0<"u"?m0:typeof self<"u"?self:typeof window<"u"?window:{});var pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vx,ho,_x,Ll,Hd,wx,xx,Ex;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof pl=="object"&&pl];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(l,d){if(d)e:{var m=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var M=l[w];if(!(M in m))break e;m=m[M]}l=l[l.length-1],w=m[l],d=d(w),d!=w&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(d){var m=[],w;for(w in d)Object.prototype.hasOwnProperty.call(d,w)&&m.push([w,d[w]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function u(l,d,m){return l.call.apply(l.bind,arguments)}function c(l,d,m){return c=u,c.apply(null,arguments)}function h(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function f(l,d){function m(){}m.prototype=d.prototype,l.Z=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Ob=function(w,M,L){for(var z=Array(arguments.length-2),te=2;te<arguments.length;te++)z[te-2]=arguments[te];return d.prototype[M].apply(w,z)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function v(l){const d=l.length;if(d>0){const m=Array(d);for(let w=0;w<d;w++)m[w]=l[w];return m}return[]}function C(l,d){for(let w=1;w<arguments.length;w++){const M=arguments[w];var m=typeof M;if(m=m!="object"?m:M?Array.isArray(M)?"array":m:"null",m=="array"||m=="object"&&typeof M.length=="number"){m=l.length||0;const L=M.length||0;l.length=m+L;for(let z=0;z<L;z++)l[m+z]=M[z]}else l.push(M)}}class P{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function k(l){o.setTimeout(()=>{throw l},0)}function x(){var l=S;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class y{constructor(){this.h=this.g=null}add(d,m){const w=T.get();w.set(d,m),this.h?this.h.next=w:this.g=w,this.h=w}}var T=new P(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let V,j=!1,S=new y,_=()=>{const l=Promise.resolve(void 0);V=()=>{l.then(A)}};function A(){for(var l;l=x();){try{l.h.call(l.g)}catch(m){k(m)}var d=T;d.j(l),d.h<100&&(d.h++,l.next=d.g,d.g=l)}j=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};o.addEventListener("test",m,d),o.removeEventListener("test",m,d)}catch{}return l}();function E(l){return/^[\s\xa0]*$/.test(l)}function W(l,d){R.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,d)}f(W,R),W.prototype.init=function(l,d){const m=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget,d||(m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement)),this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Q="closure_listenable_"+(Math.random()*1e6|0),oe=0;function ne(l,d,m,w,M){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!w,this.ha=M,this.key=++oe,this.da=this.fa=!1}function F(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function q(l,d,m){for(const w in l)d.call(m,l[w],w,l)}function J(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function fe(l){const d={};for(const m in l)d[m]=l[m];return d}const ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bn(l,d){let m,w;for(let M=1;M<arguments.length;M++){w=arguments[M];for(m in w)l[m]=w[m];for(let L=0;L<ve.length;L++)m=ve[L],Object.prototype.hasOwnProperty.call(w,m)&&(l[m]=w[m])}}function Et(l){this.src=l,this.g={},this.h=0}Et.prototype.add=function(l,d,m,w,M){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const z=Rt(l,d,w,M);return z>-1?(d=l[z],m||(d.fa=!1)):(d=new ne(d,this.src,L,!!w,M),d.fa=m,l.push(d)),d};function cn(l,d){const m=d.type;if(m in l.g){var w=l.g[m],M=Array.prototype.indexOf.call(w,d,void 0),L;(L=M>=0)&&Array.prototype.splice.call(w,M,1),L&&(F(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Rt(l,d,m,w){for(let M=0;M<l.length;++M){const L=l[M];if(!L.da&&L.listener==d&&L.capture==!!m&&L.ha==w)return M}return-1}var hn="closure_lm_"+(Math.random()*1e6|0),Ni={};function La(l,d,m,w,M){if(Array.isArray(d)){for(let L=0;L<d.length;L++)La(l,d[L],m,w,M);return null}return m=qn(m),l&&l[Q]?l.J(d,m,a(w)?!!w.capture:!1,M):bc(l,d,m,!1,w,M)}function bc(l,d,m,w,M,L){if(!d)throw Error("Invalid event type");const z=a(M)?!!M.capture:!!M;let te=ot(l);if(te||(l[hn]=te=new Et(l)),m=te.add(d,m,w,z,L),m.proxy)return m;if(w=Rc(),m.proxy=w,w.src=l,w.listener=m,l.addEventListener)I||(M=z),M===void 0&&(M=!1),l.addEventListener(d.toString(),w,M);else if(l.attachEvent)l.attachEvent(Oa(d.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Rc(){function l(m){return d.call(l.src,l.listener,m)}const d=ce;return l}function ja(l,d,m,w,M){if(Array.isArray(d))for(var L=0;L<d.length;L++)ja(l,d[L],m,w,M);else w=a(w)?!!w.capture:!!w,m=qn(m),l&&l[Q]?(l=l.i,L=String(d).toString(),L in l.g&&(d=l.g[L],m=Rt(d,m,w,M),m>-1&&(F(d[m]),Array.prototype.splice.call(d,m,1),d.length==0&&(delete l.g[L],l.h--)))):l&&(l=ot(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Rt(d,m,w,M)),(m=l>-1?d[l]:null)&&Vi(m))}function Vi(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Q])cn(d.i,l);else{var m=l.type,w=l.proxy;d.removeEventListener?d.removeEventListener(m,w,l.capture):d.detachEvent?d.detachEvent(Oa(m),w):d.addListener&&d.removeListener&&d.removeListener(w),(m=ot(d))?(cn(m,l),m.h==0&&(m.src=null,d[hn]=null)):F(l)}}}function Oa(l){return l in Ni?Ni[l]:Ni[l]="on"+l}function ce(l,d){if(l.da)l=!0;else{d=new W(d,this);const m=l.listener,w=l.ha||l.src;l.fa&&Vi(l),l=m.call(w,d)}return l}function ot(l){return l=l[hn],l instanceof Et?l:null}var Xt="__closure_events_fn_"+(Math.random()*1e9>>>0);function qn(l){return typeof l=="function"?l:(l[Xt]||(l[Xt]=function(d){return l.handleEvent(d)}),l[Xt])}function qe(){b.call(this),this.i=new Et(this),this.M=this,this.G=null}f(qe,b),qe.prototype[Q]=!0,qe.prototype.removeEventListener=function(l,d,m,w){ja(this,l,d,m,w)};function gt(l,d){var m,w=l.G;if(w)for(m=[];w;w=w.G)m.push(w);if(l=l.M,w=d.type||d,typeof d=="string")d=new R(d,l);else if(d instanceof R)d.target=d.target||l;else{var M=d;d=new R(w,l),bn(d,M)}M=!0;let L,z;if(m)for(z=m.length-1;z>=0;z--)L=d.g=m[z],M=Fa(L,w,!0,d)&&M;if(L=d.g=l,M=Fa(L,w,!0,d)&&M,M=Fa(L,w,!1,d)&&M,m)for(z=0;z<m.length;z++)L=d.g=m[z],M=Fa(L,w,!1,d)&&M}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var l=this.i;for(const d in l.g){const m=l.g[d];for(let w=0;w<m.length;w++)F(m[w]);delete l.g[d],l.h--}}this.G=null},qe.prototype.J=function(l,d,m,w){return this.i.add(String(l),d,!1,m,w)},qe.prototype.K=function(l,d,m,w){return this.i.add(String(l),d,!0,m,w)};function Fa(l,d,m,w){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();let M=!0;for(let L=0;L<d.length;++L){const z=d[L];if(z&&!z.da&&z.capture==m){const te=z.listener,Ue=z.ha||z.src;z.fa&&cn(l.i,z),M=te.call(Ue,w)!==!1&&M}}return M&&!w.defaultPrevented}function LS(l,d){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(l,d||0)}function Hm(l){l.g=LS(()=>{l.g=null,l.i&&(l.i=!1,Hm(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class jS extends b{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Hm(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Di(l){b.call(this),this.h=l,this.g={}}f(Di,b);var Km=[];function qm(l){q(l.g,function(d,m){this.g.hasOwnProperty(m)&&Vi(d)},l),l.g={}}Di.prototype.N=function(){Di.Z.N.call(this),qm(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kc=o.JSON.stringify,OS=o.JSON.parse,FS=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Gm(){}function Qm(){}var Mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Nc(){R.call(this,"d")}f(Nc,R);function Vc(){R.call(this,"c")}f(Vc,R);var jr={},Ym=null;function Ba(){return Ym=Ym||new qe}jr.Ia="serverreachability";function Xm(l){R.call(this,jr.Ia,l)}f(Xm,R);function Li(l){const d=Ba();gt(d,new Xm(d))}jr.STAT_EVENT="statevent";function Jm(l,d){R.call(this,jr.STAT_EVENT,l),this.stat=d}f(Jm,R);function yt(l){const d=Ba();gt(d,new Jm(d,l))}jr.Ja="timingevent";function Zm(l,d){R.call(this,jr.Ja,l),this.size=d}f(Zm,R);function ji(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},d)}function Oi(){this.g=!0}Oi.prototype.ua=function(){this.g=!1};function BS(l,d,m,w,M,L){l.info(function(){if(l.g)if(L){var z="",te=L.split("&");for(let pe=0;pe<te.length;pe++){var Ue=te[pe].split("=");if(Ue.length>1){const Ge=Ue[0];Ue=Ue[1];const fn=Ge.split("_");z=fn.length>=2&&fn[1]=="type"?z+(Ge+"="+Ue+"&"):z+(Ge+"=redacted&")}}}else z=null;else z=L;return"XMLHTTP REQ ("+w+") [attempt "+M+"]: "+d+`
`+m+`
`+z})}function US(l,d,m,w,M,L,z){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+M+"]: "+d+`
`+m+`
`+L+" "+z})}function xs(l,d,m,w){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+$S(l,m)+(w?" "+w:"")})}function zS(l,d){l.info(function(){return"TIMEOUT: "+d})}Oi.prototype.info=function(){};function $S(l,d){if(!l.g)return d;if(!d)return null;try{const L=JSON.parse(d);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var m=L[l];if(!(m.length<2)){var w=m[1];if(Array.isArray(w)&&!(w.length<1)){var M=w[0];if(M!="noop"&&M!="stop"&&M!="close")for(let z=1;z<w.length;z++)w[z]=""}}}}return kc(L)}catch{return d}}var Ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},eg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tg;function Dc(){}f(Dc,Gm),Dc.prototype.g=function(){return new XMLHttpRequest},tg=new Dc;function Fi(l){return encodeURIComponent(String(l))}function WS(l){var d=1;l=l.split(":");const m=[];for(;d>0&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function Gn(l,d,m,w){this.j=l,this.i=d,this.l=m,this.S=w||1,this.V=new Di(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ng}function ng(){this.i=null,this.g="",this.h=!1}var rg={},Mc={};function Lc(l,d,m){l.M=1,l.A=$a(dn(d)),l.u=m,l.R=!0,sg(l,null)}function sg(l,d){l.F=Date.now(),za(l),l.B=dn(l.A);var m=l.B,w=l.S;Array.isArray(w)||(w=[String(w)]),yg(m.i,"t",w),l.C=0,m=l.j.L,l.h=new ng,l.g=Mg(l.j,m?d:null,!l.u),l.P>0&&(l.O=new jS(c(l.Y,l,l.g),l.P)),d=l.V,m=l.g,w=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(Km[0]=M.toString()),M=Km);for(let L=0;L<M.length;L++){const z=La(m,M[L],w||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=l.J?fe(l.J):{},l.u?(l.v||(l.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,d)):(l.v="GET",l.g.ea(l.B,l.v,null,d)),Li(),BS(l.i,l.v,l.B,l.l,l.S,l.u)}Gn.prototype.ba=function(l){l=l.target;const d=this.O;d&&Xn(l)==3?d.j():this.Y(l)},Gn.prototype.Y=function(l){try{if(l==this.g)e:{const te=Xn(this.g),Ue=this.g.ya(),pe=this.g.ca();if(!(te<3)&&(te!=3||this.g&&(this.h.h||this.g.la()||Sg(this.g)))){this.K||te!=4||Ue==7||(Ue==8||pe<=0?Li(3):Li(2)),jc(this);var d=this.g.ca();this.X=d;var m=HS(this);if(this.o=d==200,US(this.i,this.v,this.B,this.l,this.S,te,d),this.o){if(this.U&&!this.L){t:{if(this.g){var w,M=this.g;if((w=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(w)){var L=w;break t}}L=null}if(l=L)xs(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oc(this,l);else{this.o=!1,this.m=3,yt(12),Or(this),Bi(this);break e}}if(this.R){l=!0;let Ge;for(;!this.K&&this.C<m.length;)if(Ge=KS(this,m),Ge==Mc){te==4&&(this.m=4,yt(14),l=!1),xs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==rg){this.m=4,yt(15),xs(this.i,this.l,m,"[Invalid Chunk]"),l=!1;break}else xs(this.i,this.l,Ge,null),Oc(this,Ge);if(ig(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),te!=4||m.length!=0||this.h.h||(this.m=1,yt(16),l=!1),this.o=this.o&&l,!l)xs(this.i,this.l,m,"[Invalid Chunked Response]"),Or(this),Bi(this);else if(m.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Kc(z),z.P=!0,yt(11))}}else xs(this.i,this.l,m,null),Oc(this,m);te==4&&Or(this),this.o&&!this.K&&(te==4?kg(this.j,this):(this.o=!1,za(this)))}else o2(this.g),d==400&&m.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),Or(this),Bi(this)}}}catch{}finally{}};function HS(l){if(!ig(l))return l.g.la();const d=Sg(l.g);if(d==="")return"";let m="";const w=d.length,M=Xn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Or(l),Bi(l),"";l.h.i=new o.TextDecoder}for(let L=0;L<w;L++)l.h.h=!0,m+=l.h.i.decode(d[L],{stream:!(M&&L==w-1)});return d.length=0,l.h.g+=m,l.C=0,l.h.g}function ig(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function KS(l,d){var m=l.C,w=d.indexOf(`
`,m);return w==-1?Mc:(m=Number(d.substring(m,w)),isNaN(m)?rg:(w+=1,w+m>d.length?Mc:(d=d.slice(w,w+m),l.C=w+m,d)))}Gn.prototype.cancel=function(){this.K=!0,Or(this)};function za(l){l.T=Date.now()+l.H,og(l,l.H)}function og(l,d){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ji(c(l.aa,l),d)}function jc(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Gn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(zS(this.i,this.B),this.M!=2&&(Li(),yt(17)),Or(this),this.m=2,Bi(this)):og(this,this.T-l)};function Bi(l){l.j.I==0||l.K||kg(l.j,l)}function Or(l){jc(l);var d=l.O;d&&typeof d.dispose=="function"&&d.dispose(),l.O=null,qm(l.V),l.g&&(d=l.g,l.g=null,d.abort(),d.dispose())}function Oc(l,d){try{var m=l.j;if(m.I!=0&&(m.g==l||Fc(m.h,l))){if(!l.L&&Fc(m.h,l)&&m.I==3){try{var w=m.Ba.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var M=w;if(M[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<l.F)Ga(m),Ka(m);else break e;Hc(m),yt(18)}}else m.xa=M[1],0<m.xa-m.K&&M[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=ji(c(m.Va,m),6e3));ug(m.h)<=1&&m.ta&&(m.ta=void 0)}else Br(m,11)}else if((l.L||m.g==l)&&Ga(m),!E(d))for(M=m.Ba.g.parse(d),d=0;d<M.length;d++){let pe=M[d];const Ge=pe[0];if(!(Ge<=m.K))if(m.K=Ge,pe=pe[1],m.I==2)if(pe[0]=="c"){m.M=pe[1],m.ba=pe[2];const fn=pe[3];fn!=null&&(m.ka=fn,m.j.info("VER="+m.ka));const Ur=pe[4];Ur!=null&&(m.za=Ur,m.j.info("SVER="+m.za));const Jn=pe[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(w=1.5*Jn,m.O=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const Zn=l.g;if(Zn){const Ya=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var L=w.h;L.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Bc(L,L.h),L.h=null))}if(w.G){const qc=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;qc&&(w.wa=qc,_e(w.J,w.G,qc))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-l.F,m.j.info("Handshake RTT: "+m.T+"ms")),w=m;var z=l;if(w.na=Dg(w,w.L?w.ba:null,w.W),z.L){cg(w.h,z);var te=z,Ue=w.O;Ue&&(te.H=Ue),te.D&&(jc(te),za(te)),w.g=z}else bg(w);m.i.length>0&&qa(m)}else pe[0]!="stop"&&pe[0]!="close"||Br(m,7);else m.I==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Br(m,7):Wc(m):pe[0]!="noop"&&m.l&&m.l.qa(pe),m.A=0)}}Li(4)}catch{}}var qS=class{constructor(l,d){this.g=l,this.map=d}};function ag(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ug(l){return l.h?1:l.g?l.g.size:0}function Fc(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Bc(l,d){l.g?l.g.add(d):l.h=d}function cg(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ag.prototype.cancel=function(){if(this.i=hg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function hg(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.G);return d}return v(l.i)}var dg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GS(l,d){if(l){l=l.split("&");for(let m=0;m<l.length;m++){const w=l[m].indexOf("=");let M,L=null;w>=0?(M=l[m].substring(0,w),L=l[m].substring(w+1)):M=l[m],d(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Qn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;l instanceof Qn?(this.l=l.l,Ui(this,l.j),this.o=l.o,this.g=l.g,zi(this,l.u),this.h=l.h,Uc(this,vg(l.i)),this.m=l.m):l&&(d=String(l).match(dg))?(this.l=!1,Ui(this,d[1]||"",!0),this.o=$i(d[2]||""),this.g=$i(d[3]||"",!0),zi(this,d[4]),this.h=$i(d[5]||"",!0),Uc(this,d[6]||"",!0),this.m=$i(d[7]||"")):(this.l=!1,this.i=new Hi(null,this.l))}Qn.prototype.toString=function(){const l=[];var d=this.j;d&&l.push(Wi(d,fg,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Wi(d,fg,!0),"@"),l.push(Fi(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&l.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Wi(m,m.charAt(0)=="/"?XS:YS,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Wi(m,ZS)),l.join("")},Qn.prototype.resolve=function(l){const d=dn(this);let m=!!l.j;m?Ui(d,l.j):m=!!l.o,m?d.o=l.o:m=!!l.g,m?d.g=l.g:m=l.u!=null;var w=l.h;if(m)zi(d,l.u);else if(m=!!l.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var M=d.h.lastIndexOf("/");M!=-1&&(w=d.h.slice(0,M+1)+w)}if(M=w,M==".."||M==".")w="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){w=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let z=0;z<M.length;){const te=M[z++];te=="."?w&&z==M.length&&L.push(""):te==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),w&&z==M.length&&L.push("")):(L.push(te),w=!0)}w=L.join("/")}else w=M}return m?d.h=w:m=l.i.toString()!=="",m?Uc(d,vg(l.i)):m=!!l.m,m&&(d.m=l.m),d};function dn(l){return new Qn(l)}function Ui(l,d,m){l.j=m?$i(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function zi(l,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);l.u=d}else l.u=null}function Uc(l,d,m){d instanceof Hi?(l.i=d,e2(l.i,l.l)):(m||(d=Wi(d,JS)),l.i=new Hi(d,l.l))}function _e(l,d,m){l.i.set(d,m)}function $a(l){return _e(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function $i(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Wi(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,QS),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function QS(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var fg=/[#\/\?@]/g,YS=/[#\?:]/g,XS=/[#\?]/g,JS=/[#\?@]/g,ZS=/#/g;function Hi(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Fr(l){l.g||(l.g=new Map,l.h=0,l.i&&GS(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Hi.prototype,t.add=function(l,d){Fr(this),this.i=null,l=Es(this,l);let m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function pg(l,d){Fr(l),d=Es(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function mg(l,d){return Fr(l),d=Es(l,d),l.g.has(d)}t.forEach=function(l,d){Fr(this),this.g.forEach(function(m,w){m.forEach(function(M){l.call(d,M,w,this)},this)},this)};function gg(l,d){Fr(l);let m=[];if(typeof d=="string")mg(l,d)&&(m=m.concat(l.g.get(Es(l,d))));else for(l=Array.from(l.g.values()),d=0;d<l.length;d++)m=m.concat(l[d]);return m}t.set=function(l,d){return Fr(this),this.i=null,l=Es(this,l),mg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=gg(this,l),l.length>0?String(l[0]):d):d};function yg(l,d,m){pg(l,d),m.length>0&&(l.i=null,l.g.set(Es(l,d),v(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(let w=0;w<d.length;w++){var m=d[w];const M=Fi(m);m=gg(this,m);for(let L=0;L<m.length;L++){let z=M;m[L]!==""&&(z+="="+Fi(m[L])),l.push(z)}}return this.i=l.join("&")};function vg(l){const d=new Hi;return d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),d}function Es(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function e2(l,d){d&&!l.j&&(Fr(l),l.i=null,l.g.forEach(function(m,w){const M=w.toLowerCase();w!=M&&(pg(this,w),yg(this,M,m))},l)),l.j=d}function t2(l,d){const m=new Oi;if(o.Image){const w=new Image;w.onload=h(Yn,m,"TestLoadImage: loaded",!0,d,w),w.onerror=h(Yn,m,"TestLoadImage: error",!1,d,w),w.onabort=h(Yn,m,"TestLoadImage: abort",!1,d,w),w.ontimeout=h(Yn,m,"TestLoadImage: timeout",!1,d,w),o.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else d(!1)}function n2(l,d){const m=new Oi,w=new AbortController,M=setTimeout(()=>{w.abort(),Yn(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:w.signal}).then(L=>{clearTimeout(M),L.ok?Yn(m,"TestPingServer: ok",!0,d):Yn(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),Yn(m,"TestPingServer: error",!1,d)})}function Yn(l,d,m,w,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),w(m)}catch{}}function r2(){this.g=new FS}function zc(l){this.i=l.Sb||null,this.h=l.ab||!1}f(zc,Gm),zc.prototype.g=function(){return new Wa(this.i,this.h)};function Wa(l,d){qe.call(this),this.H=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Wa,qe),t=Wa.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=d,this.readyState=1,qi(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(d.body=l),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ki(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_g(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function _g(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Ki(this):qi(this),this.readyState==3&&_g(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Ki(this))},t.Na=function(l){this.g&&(this.response=l,Ki(this))},t.ga=function(){this.g&&Ki(this)};function Ki(l){l.readyState=4,l.l=null,l.j=null,l.B=null,qi(l)}t.setRequestHeader=function(l,d){this.A.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function qi(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function wg(l){let d="";return q(l,function(m,w){d+=w,d+=":",d+=m,d+=`\r
`}),d}function $c(l,d,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=wg(m),typeof l=="string"?m!=null&&Fi(m):_e(l,d,m))}function be(l){qe.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(be,qe);var s2=/^https?$/i,i2=["POST","PUT"];t=be.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,d,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tg.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(L){xg(this,L);return}if(l=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var M in w)m.set(M,w[M]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const L of w.keys())m.set(L,w.get(L));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),M=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(i2,d,void 0)>=0)||w||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of m)this.g.setRequestHeader(L,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){xg(this,L)}};function xg(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.o=5,Eg(l),Ha(l)}function Eg(l){l.A||(l.A=!0,gt(l,"complete"),gt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,gt(this,"complete"),gt(this,"abort"),Ha(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ha(this,!0)),be.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Tg(this):this.Xa())},t.Xa=function(){Tg(this)};function Tg(l){if(l.h&&typeof i<"u"){if(l.v&&Xn(l)==4)setTimeout(l.Ca.bind(l),0);else if(gt(l,"readystatechange"),Xn(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var w;if(w=L===0){let z=String(l.D).match(dg)[1]||null;!z&&o.self&&o.self.location&&(z=o.self.location.protocol.slice(0,-1)),w=!s2.test(z?z.toLowerCase():"")}m=w}if(m)gt(l,"complete"),gt(l,"success");else{l.o=6;try{var M=Xn(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",Eg(l)}}finally{Ha(l)}}}}function Ha(l,d){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const m=l.g;l.g=null,d||gt(l,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xn(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),OS(d)}};function Sg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function o2(l){const d={};l=(l.g&&Xn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(E(l[w]))continue;var m=WS(l[w]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=d[M]||[];d[M]=L,L.push(m)}J(d,function(w){return w.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function Ag(l){this.za=0,this.i=[],this.j=new Oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,l),this.Za=Gi("retryDelaySeedMs",1e4,l),this.Ta=Gi("forwardChannelMaxRetries",2,l),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new ag(l&&l.concurrentRequestLimit),this.Ba=new r2,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ag.prototype,t.ka=8,t.I=1,t.connect=function(l,d,m,w){yt(0),this.W=l,this.H=d||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.J=Dg(this,null,this.W),qa(this)};function Wc(l){if(Cg(l),l.I==3){var d=l.V++,m=dn(l.J);if(_e(m,"SID",l.M),_e(m,"RID",d),_e(m,"TYPE","terminate"),Qi(l,m),d=new Gn(l,l.j,d),d.M=2,d.A=$a(dn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=d.A,m=!0),m||(d.g=Mg(d.j,null),d.g.ea(d.A)),d.F=Date.now(),za(d)}Vg(l)}function Ka(l){l.g&&(Kc(l),l.g.cancel(),l.g=null)}function Cg(l){Ka(l),l.v&&(o.clearTimeout(l.v),l.v=null),Ga(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function qa(l){if(!lg(l.h)&&!l.m){l.m=!0;var d=l.Ea;V||_(),j||(V(),j=!0),S.add(d,l),l.D=0}}function a2(l,d){return ug(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=d.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ji(c(l.Ea,l,d),Ng(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new Gn(this,this.j,l);let L=this.o;if(this.U&&(L?(L=fe(L),bn(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,d>4096){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Pg(this,M,d),m=dn(this.J),_e(m,"RID",l),_e(m,"CVER",22),this.G&&_e(m,"X-HTTP-Session-Id",this.G),Qi(this,m),L&&(this.R?d="headers="+Fi(wg(L))+"&"+d:this.u&&$c(m,this.u,L)),Bc(this.h,M),this.Ra&&_e(m,"TYPE","init"),this.S?(_e(m,"$req",d),_e(m,"SID","null"),M.U=!0,Lc(M,m,null)):Lc(M,m,d),this.I=2}}else this.I==3&&(l?Ig(this,l):this.i.length==0||lg(this.h)||Ig(this))};function Ig(l,d){var m;d?m=d.l:m=l.V++;const w=dn(l.J);_e(w,"SID",l.M),_e(w,"RID",m),_e(w,"AID",l.K),Qi(l,w),l.u&&l.o&&$c(w,l.u,l.o),m=new Gn(l,l.j,m,l.D+1),l.u===null&&(m.J=l.o),d&&(l.i=d.G.concat(l.i)),d=Pg(l,m,1e3),m.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Bc(l.h,m),Lc(m,w,d)}function Qi(l,d){l.H&&q(l.H,function(m,w){_e(d,w,m)}),l.l&&q({},function(m,w){_e(d,w,m)})}function Pg(l,d,m){m=Math.min(l.i.length,m);const w=l.l?c(l.l.Ka,l.l,l):null;e:{var M=l.i;let te=-1;for(;;){const Ue=["count="+m];te==-1?m>0?(te=M[0].g,Ue.push("ofs="+te)):te=0:Ue.push("ofs="+te);let pe=!0;for(let Ge=0;Ge<m;Ge++){var L=M[Ge].g;const fn=M[Ge].map;if(L-=te,L<0)te=Math.max(0,M[Ge].g-100),pe=!1;else try{L="req"+L+"_"||"";try{var z=fn instanceof Map?fn:Object.entries(fn);for(const[Ur,Jn]of z){let Zn=Jn;a(Jn)&&(Zn=kc(Jn)),Ue.push(L+Ur+"="+encodeURIComponent(Zn))}}catch(Ur){throw Ue.push(L+"type="+encodeURIComponent("_badmap")),Ur}}catch{w&&w(fn)}}if(pe){z=Ue.join("&");break e}}z=void 0}return l=l.i.splice(0,m),d.G=l,z}function bg(l){if(!l.g&&!l.v){l.Y=1;var d=l.Da;V||_(),j||(V(),j=!0),S.add(d,l),l.A=0}}function Hc(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ji(c(l.Da,l),Ng(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,Rg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ji(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),Ka(this),Rg(this))};function Kc(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Rg(l){l.g=new Gn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var d=dn(l.na);_e(d,"RID","rpc"),_e(d,"SID",l.M),_e(d,"AID",l.K),_e(d,"CI",l.F?"0":"1"),!l.F&&l.ia&&_e(d,"TO",l.ia),_e(d,"TYPE","xmlhttp"),Qi(l,d),l.u&&l.o&&$c(d,l.u,l.o),l.O&&(l.g.H=l.O);var m=l.g;l=l.ba,m.M=1,m.A=$a(dn(d)),m.u=null,m.R=!0,sg(m,l)}t.Va=function(){this.C!=null&&(this.C=null,Ka(this),Hc(this),yt(19))};function Ga(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function kg(l,d){var m=null;if(l.g==d){Ga(l),Kc(l),l.g=null;var w=2}else if(Fc(l.h,d))m=d.G,cg(l.h,d),w=1;else return;if(l.I!=0){if(d.o)if(w==1){m=d.u?d.u.length:0,d=Date.now()-d.F;var M=l.D;w=Ba(),gt(w,new Zm(w,m)),qa(l)}else bg(l);else if(M=d.m,M==3||M==0&&d.X>0||!(w==1&&a2(l,d)||w==2&&Hc(l)))switch(m&&m.length>0&&(d=l.h,d.i=d.i.concat(m)),M){case 1:Br(l,5);break;case 4:Br(l,10);break;case 3:Br(l,6);break;default:Br(l,2)}}}function Ng(l,d){let m=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(m*=2),m*d}function Br(l,d){if(l.j.info("Error code "+d),d==2){var m=c(l.bb,l),w=l.Ua;const M=!w;w=new Qn(w||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ui(w,"https"),$a(w),M?t2(w.toString(),m):n2(w.toString(),m)}else yt(2);l.I=0,l.l&&l.l.pa(d),Vg(l),Cg(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Vg(l){if(l.I=0,l.ja=[],l.l){const d=hg(l.h);(d.length!=0||l.i.length!=0)&&(C(l.ja,d),C(l.ja,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.oa()}}function Dg(l,d,m){var w=m instanceof Qn?dn(m):new Qn(m);if(w.g!="")d&&(w.g=d+"."+w.g),zi(w,w.u);else{var M=o.location;w=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;const L=new Qn(null);w&&Ui(L,w),d&&(L.g=d),M&&zi(L,M),m&&(L.h=m),w=L}return m=l.G,d=l.wa,m&&d&&_e(w,m,d),_e(w,"VER",l.ka),Qi(l,w),w}function Mg(l,d,m){if(d&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Aa&&!l.ma?new be(new zc({ab:m})):new be(l.ma),d.Fa(l.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lg(){}t=Lg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Qa(){}Qa.prototype.g=function(l,d){return new kt(l,d)};function kt(l,d){qe.call(this),this.g=new Ag(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(l?l["X-WebChannel-Client-Profile"]=d.sa:l={"X-WebChannel-Client-Profile":d.sa}),this.g.U=l,(l=d&&d.Qb)&&!E(l)&&(this.g.u=l),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!E(d)&&(this.g.G=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Ts(this)}f(kt,qe),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Wc(this.g)},kt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.v&&(m={},m.__data__=kc(l),l=m);d.i.push(new qS(d.Ya++,l)),d.I==3&&qa(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,Wc(this.g),delete this.g,kt.Z.N.call(this)};function jg(l){Nc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}f(jg,Nc);function Og(){Vc.call(this),this.status=1}f(Og,Vc);function Ts(l){this.g=l}f(Ts,Lg),Ts.prototype.ra=function(){gt(this.g,"a")},Ts.prototype.qa=function(l){gt(this.g,new jg(l))},Ts.prototype.pa=function(l){gt(this.g,new Og)},Ts.prototype.oa=function(){gt(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,Ex=function(){return new Qa},xx=function(){return Ba()},wx=jr,Hd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ua.NO_ERROR=0,Ua.TIMEOUT=8,Ua.HTTP_ERROR=6,Ll=Ua,eg.COMPLETE="complete",_x=eg,Qm.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",qe.prototype.listen=qe.prototype.J,ho=Qm,be.prototype.listenOnce=be.prototype.K,be.prototype.getLastError=be.prototype.Ha,be.prototype.getLastErrorCode=be.prototype.ya,be.prototype.getStatus=be.prototype.ca,be.prototype.getResponseJson=be.prototype.La,be.prototype.getResponseText=be.prototype.la,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Fa,vx=be}).apply(typeof pl<"u"?pl:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ci="12.8.0";function wb(t){Ci=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new hx("@firebase/firestore");function As(){return us.logLevel}function $(t,...e){if(us.logLevel<=le.DEBUG){const n=e.map(Rp);us.debug(`Firestore (${Ci}): ${t}`,...n)}}function $n(t,...e){if(us.logLevel<=le.ERROR){const n=e.map(Rp);us.error(`Firestore (${Ci}): ${t}`,...n)}}function cs(t,...e){if(us.logLevel<=le.WARN){const n=e.map(Rp);us.warn(`Firestore (${Ci}): ${t}`,...n)}}function Rp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Tx(t,r,n)}function Tx(t,e,n){let r=`FIRESTORE (${Ci}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $n(r),new Error(r)}function he(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Tx(e,s,r)}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ax{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}}class xb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Eb{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){he(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string",31837,{l:r}),new Sx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string",2055,{h:e}),new ht(e)}}class Tb{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Sb{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Tb(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ab{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){he(this.o===void 0,3512);const r=i=>{i.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Cb(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function Kd(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Ah(s)===Ah(i)?se(s,i):Ah(s)?1:-1}return se(t.length,e.length)}const Ib=55296,Pb=57343;function Ah(t){const e=t.charCodeAt(0);return e>=Ib&&e<=Pb}function hi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="__name__";class gn{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=gn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return se(e.length,n.length)}static compareSegments(e,n){const r=gn.isNumericId(e),s=gn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?gn.extractNumericId(e).compare(gn.extractNumericId(n)):Kd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wr.fromString(e.substring(4,e.length-2))}}class xe extends gn{construct(e,n,r){return new xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const bb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends gn{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return bb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y0}static keyField(){return new Je([y0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(xe.fromString(e))}static fromName(e){return new G(xe.fromString(e).popFirst(5))}static empty(){return new G(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t,e,n){if(!n)throw new K(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ix(t,e,n,r){if(e===!0&&r===!0)throw new K(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function v0(t){if(!G.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _0(t){if(G.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Px(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function kp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kp(t);throw new K(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e){const n={typeString:t};return e&&(n.value=e),n}function Aa(t,e){if(!Px(t))throw new K(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=-62135596800,x0=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*x0);return new me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<w0)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x0}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Aa(e,me._jsonSchema))return new me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Oe("string",me._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{static fromTimestamp(e){return new Z(e)}static min(){return new Z(new me(0,0))}static max(){return new Z(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=-1;function Rb(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Z.fromTimestamp(r===1e9?new me(n+1,0):new me(n,r));return new Ar(s,G.empty(),e)}function kb(t){return new Ar(t.readTime,t.key,aa)}class Ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ar(Z.min(),G.empty(),aa)}static max(){return new Ar(Z.max(),G.empty(),aa)}}function Nb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Db{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ii(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==Vb)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(s=>s?O.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new O((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new O((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Mb(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function ac(t){return t==null}function _u(t){return t===0&&1/t==-1/0}function Lb(t){return typeof t=="number"&&Number.isInteger(t)&&!_u(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="";function jb(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=E0(e)),e=Ob(t.get(n),e);return E0(e)}function Ob(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case bx:n+="";break;default:n+=i}}return n}function E0(t){return t+bx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ml(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ml(this.root,e,this.comparator,!1)}getReverseIterator(){return new ml(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ml(this.root,e,this.comparator,!0)}}class ml{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??rt.RED,this.left=s??rt.EMPTY,this.right=i??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(e){return new S0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class S0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new rn([])}unionWith(e){let n=new Ke(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kx("Invalid base64 string: "+i):i}}(e);return new et(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}et.EMPTY_BYTE_STRING=new et("");const Fb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(t){if(he(!!t,39018),typeof t=="string"){let e=0;const n=Fb.exec(t);if(he(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ir(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="server_timestamp",Vx="__type__",Dx="__previous_value__",Mx="__local_write_time__";function Vp(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Vx])==null?void 0:r.stringValue)===Nx}function lc(t){const e=t.mapValue.fields[Dx];return Vp(e)?lc(e):e}function la(t){const e=Cr(t.mapValue.fields[Mx].timestampValue);return new me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r,s,i,o,a,u,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h,this.apiKey=f}}const wu="(default)";class di{constructor(e,n){this.projectId=e,this.database=n||wu}static empty(){return new di("","")}get isDefaultDatabase(){return this.database===wu}isEqual(e){return e instanceof di&&e.projectId===this.projectId&&e.database===this.database}}function Ub(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new K(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new di(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="__type__",zb="__max__",gl={mapValue:{}},jx="__vector__",xu="value";function Pr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vp(t)?4:Wb(t)?9007199254740991:$b(t)?10:11:X(28295,{value:t})}function Cn(t,e){if(t===e)return!0;const n=Pr(t);if(n!==Pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return la(t).isEqual(la(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Cr(s.timestampValue),a=Cr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ir(s.bytesValue).isEqual(Ir(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ve(s.geoPointValue.latitude)===Ve(i.geoPointValue.latitude)&&Ve(s.geoPointValue.longitude)===Ve(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ve(s.integerValue)===Ve(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ve(s.doubleValue),a=Ve(i.doubleValue);return o===a?_u(o)===_u(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return hi(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(T0(o)!==T0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Cn(o[u],a[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function ua(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function fi(t,e){if(t===e)return 0;const n=Pr(t),r=Pr(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ve(i.integerValue||i.doubleValue),u=Ve(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return A0(t.timestampValue,e.timestampValue);case 4:return A0(la(t),la(e));case 5:return Kd(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ir(i),u=Ir(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=se(a[c],u[c]);if(h!==0)return h}return se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=se(Ve(i.latitude),Ve(o.latitude));return a!==0?a:se(Ve(i.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return C0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,v,C,P;const a=i.fields||{},u=o.fields||{},c=(p=a[xu])==null?void 0:p.arrayValue,h=(v=u[xu])==null?void 0:v.arrayValue,f=se(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((P=h==null?void 0:h.values)==null?void 0:P.length)||0);return f!==0?f:C0(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===gl.mapValue&&o===gl.mapValue)return 0;if(i===gl.mapValue)return 1;if(o===gl.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=Kd(u[f],h[f]);if(p!==0)return p;const v=fi(a[u[f]],c[h[f]]);if(v!==0)return v}return se(u.length,h.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function A0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=Cr(t),r=Cr(e),s=se(n.seconds,r.seconds);return s!==0?s:se(n.nanos,r.nanos)}function C0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=fi(n[s],r[s]);if(i)return i}return se(n.length,r.length)}function pi(t){return qd(t)}function qd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=qd(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${qd(n.fields[o])}`;return s+"}"}(t.mapValue):X(61005,{value:t})}function jl(t){switch(Pr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lc(t);return e?16+jl(e):16;case 5:return 2*t.stringValue.length;case 6:return Ir(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+jl(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return gs(r.fields,(i,o)=>{s+=i.length+jl(o)}),s}(t.mapValue);default:throw X(13486,{value:t})}}function Gd(t){return!!t&&"integerValue"in t}function Dp(t){return!!t&&"arrayValue"in t}function I0(t){return!!t&&"nullValue"in t}function P0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ol(t){return!!t&&"mapValue"in t}function $b(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Lx])==null?void 0:r.stringValue)===jx}function Ro(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ro(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ro(t.arrayValue.values[n]);return e}return{...t}}function Wb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===zb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ol(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ro(n)}setAll(e){let n=Je.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ro(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ol(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ol(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){gs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ht(Ro(this.value))}}function Ox(t){const e=[];return gs(t.fields,(n,r)=>{const s=new Je([n]);if(Ol(r)){const i=Ox(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,Z.min(),Z.min(),Z.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,s){return new ft(e,1,n,Z.min(),r,s,0)}static newNoDocument(e,n){return new ft(e,2,n,Z.min(),Z.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,Z.min(),Z.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.position=e,this.inclusive=n}}function b0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=fi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function R0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Hb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{}class $e extends Fx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qb(e,n,r):n==="array-contains"?new Yb(e,r):n==="in"?new Xb(e,r):n==="not-in"?new Jb(e,r):n==="array-contains-any"?new Zb(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Gb(e,r):new Qb(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fi(n,this.value)):n!==null&&Pr(this.value)===Pr(n)&&this.matchesComparison(fi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class In extends Fx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new In(e,n)}matches(e){return Bx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bx(t){return t.op==="and"}function Ux(t){return Kb(t)&&Bx(t)}function Kb(t){for(const e of t.filters)if(e instanceof In)return!1;return!0}function Qd(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+pi(t.value);if(Ux(t))return t.filters.map(e=>Qd(e)).join(",");{const e=t.filters.map(n=>Qd(n)).join(",");return`${t.op}(${e})`}}function zx(t,e){return t instanceof $e?function(r,s){return s instanceof $e&&r.op===s.op&&r.field.isEqual(s.field)&&Cn(r.value,s.value)}(t,e):t instanceof In?function(r,s){return s instanceof In&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&zx(o,s.filters[a]),!0):!1}(t,e):void X(19439)}function $x(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${pi(n.value)}`}(t):t instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map($x).join(" ,")+"}"}(t):"Filter"}class qb extends $e{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gb extends $e{constructor(e,n){super(e,"in",n),this.keys=Wx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Qb extends $e{constructor(e,n){super(e,"not-in",n),this.keys=Wx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wx(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class Yb extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&ua(n.arrayValue,this.value)}}class Xb extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}}class Jb extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ua(this.value.arrayValue,n)}}class Zb extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ua(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function k0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new eR(t,e,n,r,s,i,o)}function Mp(t){const e=ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ac(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pi(r)).join(",")),e.Te=n}return e.Te}function Lp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Hb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!R0(t.startAt,e.startAt)&&R0(t.endAt,e.endAt)}function Yd(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function tR(t,e,n,r,s,i,o,a){return new uc(t,e,n,r,s,i,o,a)}function cc(t){return new uc(t)}function N0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nR(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function rR(t){return t.collectionGroup!==null}function ko(t){const e=ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ke(Je.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Tu(i,r))}),n.has(Je.keyField().canonicalString())||e.Ie.push(new Tu(Je.keyField(),r))}return e.Ie}function xn(t){const e=ee(t);return e.Ee||(e.Ee=sR(e,ko(t))),e.Ee}function sR(t,e){if(t.limitType==="F")return k0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Tu(s.field,i)});const n=t.endAt?new Eu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Eu(t.startAt.position,t.startAt.inclusive):null;return k0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xd(t,e,n){return new uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hc(t,e){return Lp(xn(t),xn(e))&&t.limitType===e.limitType}function Hx(t){return`${Mp(xn(t))}|lt:${t.limitType}`}function Cs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$x(s)).join(", ")}]`),ac(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>pi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>pi(s)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function dc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):G.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ko(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=b0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ko(r),s)||r.endAt&&!function(o,a,u){const c=b0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ko(r),s))}(t,e)}function iR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Kx(t){return(e,n)=>{let r=!1;for(const s of ko(t)){const i=oR(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function oR(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?fi(u,c):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Rx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new Pe(G.comparator);function Wn(){return aR}const qx=new Pe(G.comparator);function fo(...t){let e=qx;for(const n of t)e=e.insert(n.key,n);return e}function Gx(t){let e=qx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xr(){return No()}function Qx(){return No()}function No(){return new ys(t=>t.toString(),(t,e)=>t.isEqual(e))}const lR=new Pe(G.comparator),uR=new Ke(G.comparator);function ie(...t){let e=uR;for(const n of t)e=e.add(n);return e}const cR=new Ke(se);function hR(){return cR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_u(e)?"-0":e}}function Yx(t){return{integerValue:""+t}}function dR(t,e){return Lb(e)?Yx(e):jp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this._=void 0}}function fR(t,e,n){return t instanceof Su?function(s,i){const o={fields:{[Vx]:{stringValue:Nx},[Mx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Vp(i)&&(i=lc(i)),i&&(o.fields[Dx]=i),{mapValue:o}}(n,e):t instanceof ca?Jx(t,e):t instanceof ha?Zx(t,e):function(s,i){const o=Xx(s,i),a=V0(o)+V0(s.Ae);return Gd(o)&&Gd(s.Ae)?Yx(a):jp(s.serializer,a)}(t,e)}function pR(t,e,n){return t instanceof ca?Jx(t,e):t instanceof ha?Zx(t,e):n}function Xx(t,e){return t instanceof Au?function(r){return Gd(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Su extends fc{}class ca extends fc{constructor(e){super(),this.elements=e}}function Jx(t,e){const n=eE(e);for(const r of t.elements)n.some(s=>Cn(s,r))||n.push(r);return{arrayValue:{values:n}}}class ha extends fc{constructor(e){super(),this.elements=e}}function Zx(t,e){let n=eE(e);for(const r of t.elements)n=n.filter(s=>!Cn(s,r));return{arrayValue:{values:n}}}class Au extends fc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function V0(t){return Ve(t.integerValue||t.doubleValue)}function eE(t){return Dp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function mR(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ca&&s instanceof ca||r instanceof ha&&s instanceof ha?hi(r.elements,s.elements,Cn):r instanceof Au&&s instanceof Au?Cn(r.Ae,s.Ae):r instanceof Su&&s instanceof Su}(t.transform,e.transform)}class gR{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pc{}function tE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Op(t.key,En.none()):new Ca(t.key,t.data,En.none());{const n=t.data,r=Ht.empty();let s=new Ke(Je.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new vs(t.key,r,new rn(s.toArray()),En.none())}}function yR(t,e,n){t instanceof Ca?function(s,i,o){const a=s.value.clone(),u=M0(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vs?function(s,i,o){if(!Fl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=M0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(nE(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vo(t,e,n,r){return t instanceof Ca?function(i,o,a,u){if(!Fl(i.precondition,o))return a;const c=i.value.clone(),h=L0(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof vs?function(i,o,a,u){if(!Fl(i.precondition,o))return a;const c=L0(i.fieldTransforms,u,o),h=o.data;return h.setAll(nE(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Fl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function vR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Xx(r.transform,s||null);i!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,i))}return n||null}function D0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&hi(r,s,(i,o)=>mR(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ca extends pc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vs extends pc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function nE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function M0(t,e,n){const r=new Map;he(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,pR(o,a,n[s]))}return r}function L0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,fR(i,o,e))}return r}class Op extends pc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _R extends pc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&yR(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Qx();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=tE(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&hi(this.mutations,e.mutations,(n,r)=>D0(n,r))&&hi(this.baseMutations,e.baseMutations,(n,r)=>D0(n,r))}}class Fp{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){he(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return lR}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Fp(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,ae;function TR(t){switch(t){case B.OK:return X(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function rE(t){if(t===void 0)return $n("GRPC error has no .code"),B.UNKNOWN;switch(t){case Le.OK:return B.OK;case Le.CANCELLED:return B.CANCELLED;case Le.UNKNOWN:return B.UNKNOWN;case Le.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Le.INTERNAL:return B.INTERNAL;case Le.UNAVAILABLE:return B.UNAVAILABLE;case Le.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Le.NOT_FOUND:return B.NOT_FOUND;case Le.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Le.ABORTED:return B.ABORTED;case Le.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Le.DATA_LOSS:return B.DATA_LOSS;default:return X(39323,{code:t})}}(ae=Le||(Le={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new wr([4294967295,4294967295],0);function j0(t){const e=SR().encode(t),n=new yx;return n.update(e),new Uint8Array(n.digest())}function O0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new wr([n,r],0),new wr([s,i],0)]}class Bp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new po(`Invalid padding: ${n}`);if(r<0)throw new po(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new po(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new po(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(wr.fromNumber(r)));return s.compare(AR)===1&&(s=new wr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=j0(e),[r,s]=O0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Bp(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=j0(e),[r,s]=O0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class po extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mc(Z.min(),s,new Pe(se),Wn(),ie())}}class Ia{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ia(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class sE{constructor(e,n){this.targetId=e,this.Ce=n}}class iE{constructor(e,n,r=et.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class F0{constructor(){this.ve=0,this.Fe=B0(),this.Me=et.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ie(),n=ie(),r=ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:X(38017,{changeType:i})}}),new Ia(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=B0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,he(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class CR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wn(),this.He=yl(),this.Je=yl(),this.Ze=new Pe(se)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Yd(i))if(r===0){const o=new G(i.path);this.et(n,o,ft.newNoDocument(o,Z.min()))}else he(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ir(r).toUint8Array()}catch(u){if(u instanceof kx)return cs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Bp(o,s,i)}catch(u){return cs(u instanceof po?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Yd(a.target)){const u=new G(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,ft.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=ie();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new mc(e,n,this.Ze,this.je,r);return this.je=Wn(),this.He=yl(),this.Je=yl(),this.Ze=new Pe(se),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new F0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ke(se),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ke(se),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new F0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yl(){return new Pe(G.comparator)}function B0(){return new Pe(G.comparator)}const IR={asc:"ASCENDING",desc:"DESCENDING"},PR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bR={and:"AND",or:"OR"};class RR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jd(t,e){return t.useProto3Json||ac(e)?e:{value:e}}function Cu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kR(t,e){return Cu(t,e.toTimestamp())}function Tn(t){return he(!!t,49232),Z.fromTimestamp(function(n){const r=Cr(n);return new me(r.seconds,r.nanos)}(t))}function Up(t,e){return Zd(t,e).canonicalString()}function Zd(t,e){const n=function(s){return new xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aE(t){const e=xe.fromString(t);return he(dE(e),10190,{key:e.toString()}),e}function ef(t,e){return Up(t.databaseId,e.path)}function Ch(t,e){const n=aE(e);if(n.get(1)!==t.databaseId.projectId)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(uE(n))}function lE(t,e){return Up(t.databaseId,e)}function NR(t){const e=aE(t);return e.length===4?xe.emptyPath():uE(e)}function tf(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uE(t){return he(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function U0(t,e,n){return{name:ef(t,e),fields:n.value.mapValue.fields}}function VR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(he(h===void 0||typeof h=="string",58123),et.fromBase64String(h||"")):(he(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),et.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:rE(c.code);return new K(h,c.message||"")}(o);n=new iE(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ch(t,r.document.name),i=Tn(r.document.updateTime),o=r.document.createTime?Tn(r.document.createTime):Z.min(),a=new Ht({mapValue:{fields:r.document.fields}}),u=ft.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Bl(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ch(t,r.document),i=r.readTime?Tn(r.readTime):Z.min(),o=ft.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Bl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ch(t,r.document),i=r.removedTargetIds||[];n=new Bl([],i,s,null)}else{if(!("filter"in e))return X(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new ER(s,i),a=r.targetId;n=new sE(a,o)}}return n}function DR(t,e){let n;if(e instanceof Ca)n={update:U0(t,e.key,e.value)};else if(e instanceof Op)n={delete:ef(t,e.key)};else if(e instanceof vs)n={update:U0(t,e.key,e.data),updateMask:$R(e.fieldMask)};else{if(!(e instanceof _R))return X(16599,{dt:e.type});n={verify:ef(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Su)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ca)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ha)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Au)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw X(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:kR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:X(27497)}(t,e.precondition)),n}function MR(t,e){return t&&t.length>0?(he(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Tn(s.updateTime):Tn(i);return o.isEqual(Z.min())&&(o=Tn(i)),new gR(o,s.transformResults||[])}(n,e))):[]}function LR(t,e){return{documents:[lE(t,e.path)]}}function jR(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lE(t,s);const i=function(c){if(c.length!==0)return hE(In.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Is(p.field),direction:BR(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Jd(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function OR(t){let e=NR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){he(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=cE(f);return p instanceof In&&Ux(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(C){return new Tu(Ps(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ac(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,v=f.values||[];return new Eu(v,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,v=f.values||[];return new Eu(v,p)}(n.endAt)),tR(e,s,o,i,a,"F",u,c)}function FR(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ps(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ps(n.unaryFilter.field);return $e.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ps(n.unaryFilter.field);return $e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ps(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return $e.create(Ps(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(r=>cE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function BR(t){return IR[t]}function UR(t){return PR[t]}function zR(t){return bR[t]}function Is(t){return{fieldPath:t.canonicalString()}}function Ps(t){return Je.fromServerFormat(t.fieldPath)}function hE(t){return t instanceof $e?function(n){if(n.op==="=="){if(P0(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P0(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(n.field),op:UR(n.op),value:n.value}}}(t):t instanceof In?function(n){const r=n.getFilters().map(s=>hE(s));return r.length===1?r[0]:{compositeFilter:{op:zR(n.op),filters:r}}}(t):X(54877,{filter:t})}function $R(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function fE(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,s,i=Z.min(),o=Z.min(),a=et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.yt=e}}function HR(t){const e=OR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.Sn=new qR}addToCollectionParentIndex(e,n){return this.Sn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Ar.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class qR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ke(xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ke(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class Tt{static withCacheSize(e){return new Tt(e,Tt.DEFAULT_COLLECTION_PERCENTILE,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tt.DEFAULT_COLLECTION_PERCENTILE=10,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tt.DEFAULT=new Tt(pE,Tt.DEFAULT_COLLECTION_PERCENTILE,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tt.DISABLED=new Tt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new mi(0)}static ar(){return new mi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="LruGarbageCollector",GR=1048576;function W0([t,e],[n,r]){const s=se(t,n);return s===0?se(e,r):s}class QR{constructor(e){this.Pr=e,this.buffer=new Ke(W0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();W0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YR{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){$($0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pi(n)?$($0,"Ignoring IndexedDB error during garbage collection: ",n):await Ii(n)}await this.Ar(3e5)})}}class XR{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(oc.ce);const r=new QR(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(z0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z0):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),As()<=le.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function JR(t,e){return new XR(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.changes=new ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Vo(r.mutation,s,rn.empty(),me.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const s=Xr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=fo();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Wn();const o=No(),a=function(){return No()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof vs)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Vo(h.mutation,c,h.mutation.getFieldMask(),me.now())):o.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new ek(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=No();let s=new Pe((o,a)=>o-a),i=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||rn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(s.get(a.batchId)||ie()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=Qx();h.forEach(p=>{if(!i.has(p)){const v=tE(n.get(p),r.get(p));v!==null&&f.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return nR(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):O.resolve(Xr());let a=aa,u=i;return o.next(c=>O.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,ie())).next(h=>({batchId:a,changes:Gx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let s=fo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=fo();return this.indexManager.getCollectionParents(e,i).next(a=>O.forEach(a,u=>{const c=function(f,p){return new uc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,ft.newInvalidDocument(h)))});let a=fo();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&Vo(h.mutation,c,rn.empty(),me.now()),dc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return O.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Tn(s.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:HR(s.bundledQuery),readTime:Tn(s.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.overlays=new Pe(G.comparator),this.Lr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xr();return O.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const s=Xr(),i=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return O.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Pe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Xr(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Xr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return O.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xR(n,r));let i=this.Lr.get(n);i===void 0&&(i=ie(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.sessionToken=et.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.kr=new Ke(Qe.Kr),this.qr=new Ke(Qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Qe(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Qe(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new G(new xe([])),r=new Qe(n,e),s=new Qe(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new G(new xe([])),r=new Qe(n,e),s=new Qe(n,e+1);let i=ie();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Qe(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return G.comparator(e.key,n.key)||se(e.Hr,n.Hr)}static Ur(e,n){return se(e.Hr,n.Hr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ke(Qe.Kr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wR(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new Qe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return O.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?Np:this.Yn-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qe(n,0),s=new Qe(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),O.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(se);return n.forEach(s=>{const i=new Qe(s,0),o=new Qe(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),O.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;G.isDocumentKey(i)||(i=i.child(""));const o=new Qe(new G(i),0);let a=new Ke(se);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.Hr)),!0)},o),O.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){he(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return O.forEach(n.mutations,s=>{const i=new Qe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Qe(n,0),s=this.Jr.firstAfterOrEqual(r);return O.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.ti=e,this.docs=function(){return new Pe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ft.newInvalidDocument(s))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Wn();const o=n.path,a=new G(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Nb(kb(h),r)<=0||(s.has(h.key)||dc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,s){X(9500)}ni(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ak(this)}getSize(e){return O.resolve(this.size)}}class ak extends ZR{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.persistence=e,this.ri=new ys(n=>Mp(n),Lp),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.ii=0,this.si=new zp,this.targetCount=0,this.oi=mi._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),O.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new mi(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.lr(n),O.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),O.waitFor(i).next(()=>s)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),O.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this._i={},this.overlays={},this.ai=new oc(0),this.ui=!1,this.ui=!0,this.ci=new sk,this.referenceDelegate=e(this),this.li=new lk(this),this.indexManager=new KR,this.remoteDocumentCache=function(s){return new ok(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new WR(n),this.Pi=new nk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new ik(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const s=new uk(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return O.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class uk extends Db{constructor(e){super(),this.currentSequenceNumber=e}}class $p{constructor(e){this.persistence=e,this.Ri=new zp,this.Ai=null}static Vi(e){return new $p(e)}get di(){if(this.Ai)return this.Ai;throw X(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),O.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.di,r=>{const s=G.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,Z.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return O.or([()=>O.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Iu{constructor(e,n){this.persistence=e,this.fi=new ys(r=>jb(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=JR(this,n)}static Vi(e,n){return new Iu(e,n)}Ti(){}Ii(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return O.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?O.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Z.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),O.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jl(e.data.value)),n}wr(e,n,r){return O.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return O.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=ie(),s=ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Wp(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return eP()?8:Mb(JI())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new ck;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(As()<=le.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),O.resolve()):(As()<=le.DEBUG&&$("QueryEngine","Query:",Cs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(As()<=le.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):O.resolve())}gs(e,n){if(N0(n))return O.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xd(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ie(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,a);return this.Ss(n,c,o,u.readTime)?this.gs(e,Xd(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,r,s){return N0(n)||s.isEqual(Z.min())?O.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?O.resolve(null):(As()<=le.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Cs(n)),this.Ds(e,o,n,Rb(s,aa)).next(a=>a))})}bs(e,n){let r=new Ke(Kx(e));return n.forEach((s,i)=>{dc(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return As()<=le.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Cs(n)),this.fs.getDocumentsMatchingQuery(e,n,Ar.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="LocalStore",dk=3e8;class fk{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Pe(se),this.Fs=new ys(i=>Mp(i),Lp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tk(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function pk(t,e,n,r){return new fk(t,e,n,r)}async function gE(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=ie();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function mk(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,p=f.keys();let v=O.resolve();return p.forEach(C=>{v=v.next(()=>h.getEntry(u,C)).next(P=>{const k=c.docVersions.get(C);he(k!==null,48541),P.version.compareTo(k)<0&&(f.applyToRemoteDocument(P,c),P.isValidDocument()&&(P.setReadTime(c.commitVersion),h.addEntry(P)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function yE(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function gk(t,e){const n=ee(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.li.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.li.addMatchingKeys(i,h.addedDocuments,f)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(et.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(P,k,x){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=dk?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,v,h)&&a.push(n.li.updateTargetData(i,v))});let u=Wn(),c=ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(yk(i,o,e.documentUpdates).next(h=>{u=h.Bs,c=h.Ls})),!r.isEqual(Z.min())){const h=n.li.getLastRemoteSnapshotVersion(i).next(f=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.vs=s,i))}function yk(t,e,n){let r=ie(),s=ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Wn();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(Z.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):$(Hp,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Bs:o,Ls:s}})}function vk(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _k(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,O.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new ur(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function nf(t,e,n){const r=ee(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Pi(o))throw o;$(Hp,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function H0(t,e,n){const r=ee(t);let s=Z.min(),i=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=ee(u),p=f.Fs.get(h);return p!==void 0?O.resolve(f.vs.get(p)):f.li.getTargetData(c,h)}(r,o,xn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:Z.min(),n?i:ie())).next(a=>(wk(r,iR(e),a),{documents:a,ks:i})))}function wk(t,e,n){let r=t.Ms.get(e)||Z.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class K0{constructor(){this.activeTargetIds=hR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xk{constructor(){this.vo=new K0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new K0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="ConnectivityMonitor";class G0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){$(q0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){$(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl=null;function rf(){return vl===null?vl=function(){return 268435456+Math.round(2147483648*Math.random())}():vl++,"0x"+vl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="RestConnection",Tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Sk{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===wu?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=rf(),a=this.Qo(e,n.toUriEncodedString());$(Ih,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,i);const{host:c}=new URL(a),h=Pp(c);return this.zo(e,a,u,r,h).then(f=>($(Ih,`Received RPC '${e}' ${o}: `,f),f),f=>{throw cs(Ih,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ci}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=Tk[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection",so=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class ti extends Sk{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ti.c_){const e=xx();so(e,wx.STAT_EVENT,n=>{n.stat===Hd.PROXY?$(ut,"STAT_EVENT: detected buffering proxy"):n.stat===Hd.NOPROXY&&$(ut,"STAT_EVENT: detected no buffering proxy")}),ti.c_=!0}}zo(e,n,r,s,i){const o=rf();return new Promise((a,u)=>{const c=new vx;c.setWithCredentials(!0),c.listenOnce(_x.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ll.NO_ERROR:const f=c.getResponseJson();$(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Ll.TIMEOUT:$(ut,`RPC '${e}' ${o} timed out`),u(new K(B.DEADLINE_EXCEEDED,"Request time out"));break;case Ll.HTTP_ERROR:const p=c.getStatus();if($(ut,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const C=v==null?void 0:v.error;if(C&&C.status&&C.message){const P=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(C.status);u(new K(P,C.message))}else u(new K(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new K(B.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{$(ut,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);$(ut,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=rf(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=i.join("");$(ut,`Creating RPC '${e}' stream ${s}: ${c}`,a);const h=o.createWebChannel(c,a);this.I_(h);let f=!1,p=!1;const v=new Ak({Ho:C=>{p?$(ut,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(f||($(ut,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),$(ut,`RPC '${e}' stream ${s} sending:`,C),h.send(C))},Jo:()=>h.close()});return so(h,ho.EventType.OPEN,()=>{p||($(ut,`RPC '${e}' stream ${s} transport opened.`),v.i_())}),so(h,ho.EventType.CLOSE,()=>{p||(p=!0,$(ut,`RPC '${e}' stream ${s} transport closed`),v.o_(),this.E_(h))}),so(h,ho.EventType.ERROR,C=>{p||(p=!0,cs(ut,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),v.o_(new K(B.UNAVAILABLE,"The operation could not be completed")))}),so(h,ho.EventType.MESSAGE,C=>{var P;if(!p){const k=C.data[0];he(!!k,16349);const x=k,y=(x==null?void 0:x.error)||((P=x[0])==null?void 0:P.error);if(y){$(ut,`RPC '${e}' stream ${s} received error:`,y);const T=y.status;let N=function(S){const _=Le[S];if(_!==void 0)return rE(_)}(T),V=y.message;N===void 0&&(N=B.INTERNAL,V="Unknown error status: "+T+" with message "+y.message),p=!0,v.o_(new K(N,V)),h.close()}else $(ut,`RPC '${e}' stream ${s} received:`,k),v.__(k)}}),ti.u_(),setTimeout(()=>{v.s_()},0),v}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ex()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){return new ti(t)}function Ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){return new RR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.c_=!1;class vE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&$("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="PersistentStream";class _E{constructor(e,n,r,s,i,o,a,u){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?($n(n.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return $(Q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():($(Q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ik extends _E{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VR(this.serializer,e),r=function(i){if(!("targetChange"in i))return Z.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?Tn(o.readTime):Z.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=tf(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=Yd(u)?{documents:LR(i,u)}:{query:jR(i,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oE(i,o.resumeToken);const c=Jd(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=Cu(i,o.snapshotVersion.toTimestamp());const c=Jd(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=FR(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=tf(this.serializer),n.removeTarget=e,this.K_(n)}}class Pk extends _E{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return he(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){he(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=MR(e.writeResults,e.commitTime),r=Tn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=tf(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DR(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{}class Rk extends bk{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Zd(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(B.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,Zd(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function kk(t,e,n,r){return new Rk(t,e,n,r)}class Nk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($n(n),this.aa=!1):$("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="RemoteStore";class Vk{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{_s(this)&&($(hs,"Restarting streams for network reachability change."),await async function(u){const c=ee(u);c.Ea.add(4),await Pa(c),c.Va.set("Unknown"),c.Ea.delete(4),await yc(c)}(this))})}),this.Va=new Nk(r,s)}}async function yc(t){if(_s(t))for(const e of t.Ra)await e(!0)}async function Pa(t){for(const e of t.Ra)await e(!1)}function wE(t,e){const n=ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qp(n)?Gp(n):bi(n).O_()&&qp(n,e))}function Kp(t,e){const n=ee(t),r=bi(n);n.Ia.delete(e),r.O_()&&xE(n,e),n.Ia.size===0&&(r.O_()?r.L_():_s(n)&&n.Va.set("Unknown"))}function qp(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bi(t).Z_(e)}function xE(t,e){t.da.$e(e),bi(t).X_(e)}function Gp(t){t.da=new CR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),bi(t).start(),t.Va.ua()}function Qp(t){return _s(t)&&!bi(t).x_()&&t.Ia.size>0}function _s(t){return ee(t).Ea.size===0}function EE(t){t.da=void 0}async function Dk(t){t.Va.set("Online")}async function Mk(t){t.Ia.forEach((e,n)=>{qp(t,e)})}async function Lk(t,e){EE(t),Qp(t)?(t.Va.ha(e),Gp(t)):t.Va.set("Unknown")}async function jk(t,e,n){if(t.Va.set("Online"),e instanceof iE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){$(hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pu(t,r)}else if(e instanceof Bl?t.da.Xe(e):e instanceof sE?t.da.st(e):t.da.tt(e),!n.isEqual(Z.min()))try{const r=await yE(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=i.Ia.get(u);if(!h)return;i.Ia.set(u,h.withResumeToken(et.EMPTY_BYTE_STRING,h.snapshotVersion)),xE(i,u);const f=new ur(h.target,u,c,h.sequenceNumber);qp(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){$(hs,"Failed to raise snapshot:",r),await Pu(t,r)}}async function Pu(t,e,n){if(!Pi(e))throw e;t.Ea.add(1),await Pa(t),t.Va.set("Offline"),n||(n=()=>yE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(hs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yc(t)})}function TE(t,e){return e().catch(n=>Pu(t,n,e))}async function vc(t){const e=ee(t),n=br(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;Ok(e);)try{const s=await vk(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Fk(e,s)}catch(s){await Pu(e,s)}SE(e)&&AE(e)}function Ok(t){return _s(t)&&t.Ta.length<10}function Fk(t,e){t.Ta.push(e);const n=br(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function SE(t){return _s(t)&&!br(t).x_()&&t.Ta.length>0}function AE(t){br(t).start()}async function Bk(t){br(t).ra()}async function Uk(t){const e=br(t);for(const n of t.Ta)e.ea(n.mutations)}async function zk(t,e,n){const r=t.Ta.shift(),s=Fp.from(r,e,n);await TE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vc(t)}async function $k(t,e){e&&br(t).Y_&&await async function(r,s){if(function(o){return TR(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();br(r).B_(),await TE(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await vc(r)}}(t,e),SE(t)&&AE(t)}async function Y0(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),$(hs,"RemoteStore received new credentials");const r=_s(n);n.Ea.add(3),await Pa(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yc(n)}async function Wk(t,e){const n=ee(t);e?(n.Ea.delete(2),await yc(n)):e||(n.Ea.add(2),await Pa(n),n.Va.set("Unknown"))}function bi(t){return t.ma||(t.ma=function(n,r,s){const i=ee(n);return i.sa(),new Ik(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:Dk.bind(null,t),Yo:Mk.bind(null,t),t_:Lk.bind(null,t),J_:jk.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Qp(t)?Gp(t):t.Va.set("Unknown")):(await t.ma.stop(),EE(t))})),t.ma}function br(t){return t.fa||(t.fa=function(n,r,s){const i=ee(n);return i.sa(),new Pk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Bk.bind(null,t),t_:$k.bind(null,t),ta:Uk.bind(null,t),na:zk.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await vc(t)):(await t.fa.stop(),t.Ta.length>0&&($(hs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Yp(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(t,e){if($n("AsyncQueue",`${e}: ${t}`),Pi(t))return new K(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{static emptySet(e){return new ni(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=fo(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ni)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ni;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.ga=new Pe(G.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):X(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class gi{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new gi(e,n,ni.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class Kk{constructor(){this.queries=J0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ee(n),i=s.queries;s.queries=J0(),i.forEach((o,a)=>{for(const u of a.ba)u.onError(r)})})(this,new K(B.ABORTED,"Firestore shutting down"))}}function J0(){return new ys(t=>Hx(t),hc)}async function CE(t,e){const n=ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new Hk,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Xp(o,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Jp(n)}async function IE(t,e){const n=ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qk(t,e){const n=ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&Jp(n)}function Gk(t,e,n){const r=ee(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function Jp(t){t.Ca.forEach(e=>{e.next()})}var sf,Z0;(Z0=sf||(sf={})).Ma="default",Z0.Cache="cache";class PE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new gi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class Qk{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ie(),this.mutatedKeys=ie(),this.eu=Kx(e),this.tu=new ni(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new X0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),v=dc(this.query,f)?f:null,C=!!p&&this.mutatedKeys.has(p.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let k=!1;p&&v?p.data.isEqual(v.data)?C!==P&&(r.track({type:3,doc:v}),k=!0):this.su(p,v)||(r.track({type:2,doc:v}),k=!0,(u&&this.eu(v,u)>0||c&&this.eu(v,c)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),k=!0):p&&!v&&(r.track({type:1,doc:p}),k=!0,(u||c)&&(a=!0)),k&&(v?(o=o.add(v),i=P?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,C){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Vt:k})}};return P(v)-P(C)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,c=u!==this.Xa;return this.Xa=u,o.length!==0||c?{snapshot:new gi(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new RE(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new bE(r))}),n}cu(e){this.Za=e.ks,this.Ya=ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gi.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zp="SyncEngine";class Yk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Xk{constructor(e){this.key=e,this.hu=!1}}class Jk{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ys(a=>Hx(a),hc),this.Iu=new Map,this.Eu=new Set,this.Ru=new Pe(G.comparator),this.Au=new Map,this.Vu=new zp,this.du={},this.mu=new Map,this.fu=mi.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Zk(t,e,n=!0){const r=LE(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await kE(r,e,n,!0),s}async function eN(t,e){const n=LE(t);await kE(n,e,!0,!1)}async function kE(t,e,n,r){const s=await _k(t.localStore,xn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await tN(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&wE(t.remoteStore,s),a}async function tN(t,e,n,r,s){t.pu=(f,p,v)=>async function(P,k,x,y){let T=k.view.ru(x);T.Ss&&(T=await H0(P.localStore,k.query,!1).then(({documents:S})=>k.view.ru(S,T)));const N=y&&y.targetChanges.get(k.targetId),V=y&&y.targetMismatches.get(k.targetId)!=null,j=k.view.applyChanges(T,P.isPrimaryClient,N,V);return tv(P,k.targetId,j.au),j.snapshot}(t,f,p,v);const i=await H0(t.localStore,e,!0),o=new Qk(e,i.ks),a=o.ru(i.documents),u=Ia.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);tv(t,n,c.au);const h=new Yk(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function nN(t,e,n){const r=ee(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!hc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await nf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Kp(r.remoteStore,s.targetId),of(r,s.targetId)}).catch(Ii)):(of(r,s.targetId),await nf(r.localStore,s.targetId,!0))}async function rN(t,e){const n=ee(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kp(n.remoteStore,r.targetId))}async function sN(t,e,n){const r=hN(t);try{const s=await function(o,a){const u=ee(o),c=me.now(),h=a.reduce((v,C)=>v.add(C.key),ie());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=Wn(),P=ie();return u.xs.getEntries(v,h).next(k=>{C=k,C.forEach((x,y)=>{y.isValidDocument()||(P=P.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(k=>{f=k;const x=[];for(const y of a){const T=vR(y,f.get(y.key).overlayedDocument);T!=null&&x.push(new vs(y.key,T,Ox(T.value.mapValue),En.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,x,a)}).next(k=>{p=k;const x=k.applyToLocalDocumentSet(f,P);return u.documentOverlayCache.saveOverlays(v,k.batchId,x)})}).then(()=>({batchId:p.batchId,changes:Gx(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.du[o.currentUser.toKey()];c||(c=new Pe(se)),c=c.insert(a,u),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await ba(r,s.changes),await vc(r.remoteStore)}catch(s){const i=Xp(s,"Failed to persist write");n.reject(i)}}async function NE(t,e){const n=ee(t);try{const r=await gk(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(he(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?he(o.hu,14607):s.removedDocuments.size>0&&(he(o.hu,42227),o.hu=!1))}),await ba(n,r,e)}catch(r){await Ii(r)}}function ev(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=ee(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const p of f.ba)p.va(a)&&(c=!0)}),c&&Jp(u)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iN(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Pe(G.comparator);o=o.insert(i,ft.newNoDocument(i,Z.min()));const a=ie().add(i),u=new mc(Z.min(),new Map,new Pe(se),o,a);await NE(r,u),r.Ru=r.Ru.remove(i),r.Au.delete(e),em(r)}else await nf(r.localStore,e,!1).then(()=>of(r,e,n)).catch(Ii)}async function oN(t,e){const n=ee(t),r=e.batch.batchId;try{const s=await mk(n.localStore,e);DE(n,r,null),VE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ba(n,s)}catch(s){await Ii(s)}}async function aN(t,e,n){const r=ee(t);try{const s=await function(o,a){const u=ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(he(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);DE(r,e,n),VE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ba(r,s)}catch(s){await Ii(s)}}function VE(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function DE(t,e,n){const r=ee(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function of(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||ME(t,r)})}function ME(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Kp(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),em(t))}function tv(t,e,n){for(const r of n)r instanceof bE?(t.Vu.addReference(r.key,e),lN(t,r)):r instanceof RE?($(Zp,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||ME(t,r.key)):X(19791,{wu:r})}function lN(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||($(Zp,"New document in limbo: "+n),t.Eu.add(r),em(t))}function em(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(xe.fromString(e)),r=t.fu.next();t.Au.set(r,new Xk(n)),t.Ru=t.Ru.insert(n,r),wE(t.remoteStore,new ur(xn(cc(n.path)),r,"TargetPurposeLimboResolution",oc.ce))}}async function ba(t,e,n){const r=ee(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Wp.Es(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(u,c){const h=ee(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>O.forEach(c,p=>O.forEach(p.Ts,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>O.forEach(p.Is,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!Pi(f))throw f;$(Hp,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const v=h.vs.get(p),C=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(C);h.vs=h.vs.insert(p,P)}}}(r.localStore,i))}async function uN(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){$(Zp,"User change. New user:",e.toKey());const r=await gE(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new K(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ba(n,r.Ns)}}function cN(t,e){const n=ee(t),r=n.Au.get(e);if(r&&r.hu)return ie().add(r.key);{let s=ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function LE(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iN.bind(null,e),e.Pu.J_=qk.bind(null,e.eventManager),e.Pu.yu=Gk.bind(null,e.eventManager),e}function hN(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aN.bind(null,e),e}class bu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pk(this.persistence,new hk,e.initialUser,this.serializer)}Cu(e){return new mE($p.Vi,this.serializer)}Du(e){return new xk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bu.provider={build:()=>new bu};class dN extends bu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){he(this.persistence.referenceDelegate instanceof Iu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new YR(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tt.withCacheSize(this.cacheSizeBytes):Tt.DEFAULT;return new mE(r=>Iu.Vi(r,n),this.serializer)}}class af{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ev(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uN.bind(null,this.syncEngine),await Wk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kk}()}createDatastore(e){const n=gc(e.databaseInfo.databaseId),r=Ck(e.databaseInfo);return kk(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Vk(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ev(this.syncEngine,n,0),function(){return G0.v()?new G0:new Ek}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,h){const f=new Jk(s,i,o,a,u,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ee(s);$(hs,"RemoteStore shutting down."),i.Ea.add(5),await Pa(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}af.provider={build:()=>new af};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="FirestoreClient";class fN{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=ht.UNAUTHENTICATED,this.clientId=ic.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{$(Rr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($(Rr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bh(t,e){t.asyncQueue.verifyOperationInProgress(),$(Rr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await gE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pN(t);$(Rr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Y0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Y0(e.remoteStore,s)),t._onlineComponents=e}async function pN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(Rr,"Using user provided OfflineComponentProvider");try{await bh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;cs("Error using user provided cache. Falling back to memory cache: "+n),await bh(t,new bu)}}else $(Rr,"Using default OfflineComponentProvider"),await bh(t,new dN(void 0));return t._offlineComponents}async function OE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(Rr,"Using user provided OnlineComponentProvider"),await nv(t,t._uninitializedComponentsProvider._online)):($(Rr,"Using default OnlineComponentProvider"),await nv(t,new af))),t._onlineComponents}function mN(t){return OE(t).then(e=>e.syncEngine)}async function lf(t){const e=await OE(t),n=e.eventManager;return n.onListen=Zk.bind(null,e.syncEngine),n.onUnlisten=nN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rN.bind(null,e.syncEngine),n}function gN(t,e,n,r){const s=new jE(r),i=new PE(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>CE(await lf(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>IE(await lf(t),i))}}function yN(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new jE({next:p=>{h.Nu(),o.enqueueAndForget(()=>IE(i,f));const v=p.docs.has(a);!v&&p.fromCache?c.reject(new K(B.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&u&&u.source==="server"?c.reject(new K(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new PE(cc(a.path),h,{includeMetadataChanges:!0,Ka:!0});return CE(i,f)}(await lf(t),t.asyncQueue,e,n,r)),r.promise}function vN(t,e){const n=new xr;return t.asyncQueue.enqueueAndForget(async()=>sN(await mN(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="ComponentProvider",rv=new Map;function wN(t,e,n,r,s){return new Bb(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,FE(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",sv=!0;class iv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=sv}else this.host=e.host,this.ssl=e.ssl??sv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GR)throw new K(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ix("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _c{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ax;switch(r.type){case"firstParty":return new Sb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rv.get(n);r&&($(_N,"Removing Datastore"),rv.delete(n),r.terminate())}(this),Promise.resolve()}}function UE(t,e,n,r={}){var c;t=wn(t,_c);const s=Pp(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(qI(`https://${a}`),XI("Firestore",!0)),i.host!==BE&&i.host!==a&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!gu(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=ht.MOCK_USER;else{h=GI(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ht(p)}t._authCredentials=new xb(new Sx(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ra(this.firestore,e,this._query)}}class Me{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Me(this.firestore,e,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Aa(n,Me._jsonSchema))return new Me(e,r||null,new G(xe.fromString(n.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Oe("string",Me._jsonSchemaVersion),referencePath:Oe("string")};class Mn extends Ra{constructor(e,n,r){super(e,n,cc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Me(this.firestore,null,new G(e))}withConverter(e){return new Mn(this.firestore,e,this._path)}}function xN(t,e,...n){if(t=ci(t),Cx("collection","path",e),t instanceof _c){const r=xe.fromString(e,...n);return _0(r),new Mn(t,null,r)}{if(!(t instanceof Me||t instanceof Mn))throw new K(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return _0(r),new Mn(t.firestore,null,r)}}function Pn(t,e,...n){if(t=ci(t),arguments.length===1&&(e=ic.newId()),Cx("doc","path",e),t instanceof _c){const r=xe.fromString(e,...n);return v0(r),new Me(t,null,new G(r))}{if(!(t instanceof Me||t instanceof Mn))throw new K(B.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return v0(r),new Me(t.firestore,t instanceof Mn?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="AsyncQueue";class av{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vE(this,"async_queue_retry"),this._c=()=>{const r=Ph();r&&$(ov,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new xr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Pi(e))throw e;$(ov,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,$n("INTERNAL UNHANDLED ERROR: ",lv(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Yp.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&X(47125,{Pc:lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function lv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ds extends _c{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new av,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new av(e),this._firestoreClient=void 0,await e}}}function zE(t,e){const n=typeof t=="object"?t:ab(),r=typeof t=="string"?t:wu,s=nb(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=HI("firestore");i&&UE(s,...i)}return s}function wc(t){if(t._terminated)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EN(t),t._firestoreClient}function EN(t){var r,s,i,o;const e=t._freezeSettings(),n=wN(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vt(et.fromBase64String(e))}catch(n){throw new K(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vt(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Aa(e,Vt._jsonSchema))return Vt.fromBase64String(e.bytes)}}Vt._jsonSchemaVersion="firestore/bytes/1.0",Vt._jsonSchema={type:Oe("string",Vt._jsonSchemaVersion),bytes:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:an._jsonSchemaVersion}}static fromJSON(e){if(Aa(e,an._jsonSchema))return new an(e.latitude,e.longitude)}}an._jsonSchemaVersion="firestore/geoPoint/1.0",an._jsonSchema={type:Oe("string",an._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gt._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Aa(e,Gt._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Gt(e.vectorValues);throw new K(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gt._jsonSchemaVersion="firestore/vectorValue/1.0",Gt._jsonSchema={type:Oe("string",Gt._jsonSchemaVersion),vectorValues:Oe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=/^__.*__$/;class SN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ca(e,this.data,n,this.fieldTransforms)}}function $E(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{dataSource:t})}}class rm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new rm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ru(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($E(this.dataSource)&&TN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class AN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gc(e)}createContext(e,n,r,s=!1){return new rm({dataSource:e,methodName:n,targetDoc:r,path:Je.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CN(t){const e=t._freezeSettings(),n=gc(t._databaseId);return new AN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IN(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);qE("Data must be an object, but it was:",o,r);const a=HE(r,o);let u,c;if(i.merge)u=new rn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=sm(e,f,n);if(!o.contains(p))throw new K(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);RN(h,p)||h.push(p)}u=new rn(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new SN(new Ht(a),u,c)}function WE(t,e){if(KE(t=ci(t)))return qE("Unsupported field value:",e,t),HE(t,e);if(t instanceof nm)return function(r,s){if(!$E(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=WE(a,s.childContextForArray(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ci(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dR(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=me.fromDate(r);return{timestampValue:Cu(s.serializer,i)}}if(r instanceof me){const i=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cu(s.serializer,i)}}if(r instanceof an)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vt)return{bytesValue:oE(s.serializer,r._byteString)};if(r instanceof Me){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Up(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Gt)return function(o,a){const u=o instanceof Gt?o.toArray():o;return{mapValue:{fields:{[Lx]:{stringValue:jx},[xu]:{arrayValue:{values:u.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return jp(a.serializer,h)})}}}}}}(r,s);if(fE(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${kp(r)}`)}(t,e)}function HE(t,e){const n={};return Rx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(t,(r,s)=>{const i=WE(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function KE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof me||t instanceof an||t instanceof Vt||t instanceof Me||t instanceof nm||t instanceof Gt||fE(t))}function qE(t,e,n){if(!KE(n)||!Px(n)){const r=kp(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function sm(t,e,n){if((e=ci(e))instanceof tm)return e._internalPath;if(typeof e=="string")return bN(t,e);throw Ru("Field path arguments must be of type string or ",t,!1,void 0,n)}const PN=new RegExp("[~\\*/\\[\\]]");function bN(t,e,n){if(e.search(PN)>=0)throw Ru(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tm(...e.split("."))._internalPath}catch{throw Ru(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ru(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new K(B.INVALID_ARGUMENT,a+t+u)}function RN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{convertValue(e,n="none"){switch(Pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[xu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ve(o.doubleValue));return new Gt(n)}convertGeoPoint(e){return new an(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(la(e));default:return null}}convertTimestamp(e){const n=Cr(e);return new me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xe.fromString(e);he(dE(r),9688,{name:e});const s=new di(r.get(1),r.get(3)),i=new G(r.popFirst(5));return s.isEqual(n)||$n(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends GE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Me(this.firestore,null,n)}}const uv="@firebase/firestore",cv="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(sm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kN extends YE{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function VN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class zs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Er extends YE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Do(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Er._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Er._jsonSchemaVersion="firestore/documentSnapshot/1.0",Er._jsonSchema={type:Oe("string",Er._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Do extends Er{data(e={}){return super.data(e)}}class ns{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new zs(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Do(this._firestore,this._userDataWriter,r.key,r,new zs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new Do(s._firestore,s._userDataWriter,a.doc.key,a.doc,new zs(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Do(s._firestore,s._userDataWriter,a.doc.key,a.doc,new zs(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:DN(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ns._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ic.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns._jsonSchemaVersion="firestore/querySnapshot/1.0",ns._jsonSchema={type:Oe("string",ns._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t){t=wn(t,Me);const e=wn(t.firestore,ds),n=wc(e);return yN(n,t._key).then(r=>XE(e,t,r))}function da(t,e,n){t=wn(t,Me);const r=wn(t.firestore,ds),s=VN(t.converter,e),i=CN(r);return om(r,[IN(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,En.none())])}function MN(t){return om(wn(t.firestore,ds),[new Op(t._key,En.none())])}function xc(t,...e){var c,h,f;t=ci(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||hv(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(hv(e[r])){const p=e[r];e[r]=(c=p.next)==null?void 0:c.bind(p),e[r+1]=(h=p.error)==null?void 0:h.bind(p),e[r+2]=(f=p.complete)==null?void 0:f.bind(p)}let i,o,a;if(t instanceof Me)o=wn(t.firestore,ds),a=cc(t._key.path),i={next:p=>{e[r]&&e[r](XE(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=wn(t,Ra);o=wn(p.firestore,ds),a=p._query;const v=new QE(o);i={next:C=>{e[r]&&e[r](new ns(o,v,p,C))},error:e[r+1],complete:e[r+2]},NN(t._query)}const u=wc(o);return gN(u,a,s,i)}function om(t,e){const n=wc(t);return vN(n,e)}function XE(t,e,n){const r=n.docs.get(e._key),s=new QE(t);return new Er(t,s,e._key,r,new zs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){wb(ob),vu(new ia("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ds(new Eb(r.getProvider("auth-internal")),new Ab(o,r.getProvider("app-check-internal")),Ub(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ei(uv,cv,e),ei(uv,cv,"esm2020")})();const JE=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:GE,Bytes:Vt,CollectionReference:Mn,DocumentReference:Me,DocumentSnapshot:Er,FieldPath:tm,FieldValue:nm,Firestore:ds,FirestoreError:K,GeoPoint:an,Query:Ra,QueryDocumentSnapshot:Do,QuerySnapshot:ns,SnapshotMetadata:zs,Timestamp:me,VectorValue:Gt,_AutoId:ic,_ByteString:et,_DatabaseId:di,_DocumentKey:G,_EmptyAuthCredentialsProvider:Ax,_FieldPath:Je,_cast:wn,_logWarn:cs,_validateIsNotUsedTogether:Ix,collection:xN,connectFirestoreEmulator:UE,deleteDoc:MN,doc:Pn,ensureFirestoreConfigured:wc,executeWrite:om,getDoc:im,getFirestore:zE,onSnapshot:xc,setDoc:da},Symbol.toStringTag,{value:"Module"})),mo={apiKey:"AIzaSyBYF6q6PYaVnq1b3pMSTc4qCvfQgQpvOcw",authDomain:"gamification-dashboard.firebaseapp.com",projectId:"gamification-dashboard",storageBucket:"gamification-dashboard.firebasestorage.app",messagingSenderId:"644907580810",appId:"1:644907580810:web:d4a9e758ee6d8caf085c73"},un=()=>mo.apiKey&&mo.apiKey!=="your-api-key-here"&&mo.projectId&&mo.projectId!=="your-project-id";let dv=null,Fe=null;if(un())try{dv=px(mo),Fe=zE(dv),console.log(" Firebase initialized successfully")}catch(t){console.error(" Firebase initialization error:",t)}else console.warn(" Firebase not configured. Please add credentials to .env.local file.");async function ZE(t,e=300,n=.8){return new Promise((r,s)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=o=>{const a=new Image;a.src=o.target.result,a.onload=()=>{const u=document.createElement("canvas");let c=a.width,h=a.height;c>e&&(h=h*e/c,c=e),u.width=c,u.height=h,u.getContext("2d").drawImage(a,0,0,c,h);const p=u.toDataURL("image/jpeg",n);r(p)},a.onerror=u=>s(u)},i.onerror=o=>s(o)})}async function LN(t,e=150,n=.6){return new Promise((r,s)=>{const i=new Image;i.src=t,i.onload=()=>{const o=document.createElement("canvas");let a=i.width,u=i.height;a>e&&(u=u*e/a,a=e),o.width=a,o.height=u,o.getContext("2d").drawImage(i,0,0,a,u);const h=o.toDataURL("image/jpeg",n);r(h)},i.onerror=o=>s(o)})}const fs="conference_data",ku="units",am="config";let Rh=null,fv=null,uf=null;async function jN(t,e=!1){if(!un()||!Fe)return console.warn("Firebase not configured, skipping save to Firestore"),!1;const n=fa(t),r=JSON.stringify(n);return uf===r?!0:(fv=t,Rh&&clearTimeout(Rh),e?await cf(t):new Promise(s=>{Rh=setTimeout(async()=>{const i=await cf(fv);s(i)},500)}))}function fa(t){if(t===void 0)return null;if(Array.isArray(t))return t.filter(e=>e!==void 0).map(e=>fa(e));if(t!==null&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))r!==void 0&&(n==="logo"&&r===null?e[n]="":e[n]=fa(r));return e}return t}async function cf(t,e=0){try{const r=fa(t),s=JSON.stringify({units:r}),i=new Blob([s]).size,o=1048576;if(i>o*.9&&console.warn(` Warning: Data size is close to Firestore limit: ${(i/1024).toFixed(2)}KB`),i>o){console.warn(` Data too large (${(i/1024/1024).toFixed(2)}MB). Attempting auto-compression of existing images...`);let u=!1;const c=await Promise.all(r.map(async h=>{const f=JSON.stringify(h).length;if(h.logo&&h.logo.length>5e4)try{console.log(` Compressing logo for unit: ${h.name} (Original size: ${(h.logo.length/1024).toFixed(2)}KB)`);const p=await LN(h.logo,100,.5);return console.log(`    Compressed to: ${(p.length/1024).toFixed(2)}KB`),u=!0,{...h,logo:p}}catch(p){return console.error(`Failed to compress unit ${h.name}:`,p),h}return h}));if(u){const h=JSON.stringify({units:c}),f=new Blob([h]).size;if(f<o){console.log(` Auto-compression successful! New size: ${(f/1024).toFixed(2)}KB. Saving...`);const p=Pn(Fe,fs,ku);return await da(p,{units:c,lastUpdated:new Date().toISOString()}),uf=JSON.stringify(c),!0}else return console.error(` Still too large after compression: ${(f/1024/1024).toFixed(2)}MB.`),!1}else return console.error(" No compressible images found specifically, but payload is too large."),!1}const a=Pn(Fe,fs,ku);return await da(a,{units:r,lastUpdated:new Date().toISOString()}),uf=JSON.stringify(r),!0}catch(r){if(r.code==="unavailable"&&e<3){console.warn(` Firebase unavailable, retrying... (${e+1}/3)`);const s=Math.pow(2,e)*1e3;return await new Promise(i=>setTimeout(i,s)),await cf(t,e+1)}return r.code==="resource-exhausted"?console.error(" Firebase Quota Exceeded (resource-exhausted). Stop saving temporarily."):(console.error(" Error saving units to Firebase:",r.code||r.message),console.error("Data causing error (sanitized):",JSON.stringify(fa(t)).substring(0,500)+"...")),!1}}async function ON(){if(!un()||!Fe)return console.warn("Firebase not configured, cannot load from Firestore"),null;try{const t=Pn(Fe,fs,ku),e=await im(t);return e.exists()?e.data().units||null:(console.log(" No units data found in Firebase"),null)}catch(t){return console.error(" Error loading units from Firebase:",t),null}}async function pv(t){if(!un()||!Fe)return console.warn("Firebase not configured, skipping config save to Firestore"),!1;try{const e=Pn(Fe,fs,am);return await da(e,{config:t,lastUpdated:new Date().toISOString()}),console.log(" Config saved to Firebase"),!0}catch(e){return console.error(" Error saving config to Firebase:",e),!1}}async function FN(){if(!un()||!Fe)return console.warn("Firebase not configured, cannot load config from Firestore"),null;try{const t=Pn(Fe,fs,am),e=await im(t);if(e.exists()){const n=e.data();return console.log(" Config loaded from Firebase"),n.config||null}else return console.log(" No config found in Firebase"),null}catch(t){return console.error(" Error loading config from Firebase:",t),null}}function BN(t){if(!un()||!Fe)return console.warn("Firebase not configured, cannot subscribe to units data"),null;try{const e=Pn(Fe,fs,ku);return xc(e,r=>{if(r.exists()){const s=r.data();t(s.units||null)}},r=>{console.error(" Error in units subscription:",r)})}catch(e){return console.error(" Error subscribing to units:",e),null}}function UN(t){if(!un()||!Fe)return console.warn("Firebase not configured, cannot subscribe to config"),null;try{const e=Pn(Fe,fs,am);return xc(e,r=>{if(r.exists()){const s=r.data();t(s.config||null)}},r=>{console.error(" Error in config subscription:",r)})}catch(e){return console.error(" Error subscribing to config:",e),null}}const lm="logos";async function zN(t){if(!un()||!Fe)return!1;try{const e=Pn(Fe,lm,t.id);return await da(e,{...t,lastUpdated:new Date().toISOString()}),console.log(" Logo saved to Firebase"),!0}catch(e){return console.error(" Error saving logo:",e),!1}}async function $N(t){if(!un()||!Fe)return!1;try{const{deleteDoc:e}=await ox(async()=>{const{deleteDoc:r}=await Promise.resolve().then(()=>JE);return{deleteDoc:r}},void 0),n=Pn(Fe,lm,t);return await e(n),console.log(" Logo deleted from Firebase"),!0}catch(e){return console.error(" Error deleting logo:",e),!1}}function WN(t){if(!un()||!Fe)return null;try{return ox(async()=>{const{collection:e}=await Promise.resolve().then(()=>JE);return{collection:e}},void 0).then(({collection:e})=>{const n=e(Fe,lm);xc(n,r=>{const s=[];r.forEach(i=>{s.push(i.data())}),t(s)},r=>{console.error(" Error in logos subscription:",r)})}),()=>{}}catch(e){return console.error(" Error subscribing to logos:",e),null}}const go="conference_units_data",Ul="conference_config",hf=()=>[{id:"booth-1",name:" 1",color:"#FF6B6B"},{id:"booth-2",name:" 2",color:"#4ECDC4"},{id:"booth-3",name:" 3",color:"#45B7D1"},{id:"booth-4",name:" 4",color:"#FFA07A"},{id:"booth-5",name:" 5",color:"#98D8C8"},{id:"booth-6",name:" 6",color:"#F7DC6F"},{id:"booth-7",name:" 7",color:"#BB8FCE"},{id:"booth-8",name:" 8",color:"#85C1E2"},{id:"booth-9",name:" 9",color:"#F8B739"},{id:"booth-10",name:" 10",color:"#52BE80"}],df=()=>Array.from({length:40},(t,e)=>({id:e+1,name:`Unit ${e+1}`,booths:[],logo:null})),HN=(t,e)=>t.map(n=>{if(typeof n.score=="number"&&!n.booths){const r=[];for(let s=0;s<n.score&&s<e.length;s++)r.push(e[s].id);return{...n,booths:r,score:void 0}}return{...n,booths:n.booths||[]}}),mv=async(t="localStorage",e)=>{let n=null;if(t==="localStorage"){const r=localStorage.getItem(go);if(r)try{n=JSON.parse(r)}catch(s){console.error("Failed to parse storage",s)}}else if(t==="firebase")try{const r=await ON();r&&(n=r)}catch(r){console.error("Error loading from Firebase:",r)}return n?HN(n,e||hf()):df()},KN=()=>{const t=localStorage.getItem(Ul),e={pageSize:10,showZero:!1,storageType:"firebase",availableBooths:hf()};if(!t)return e;const n=JSON.parse(t);return n.availableBooths||(n.availableBooths=hf()),n};function ka(){const[t,e]=D.useState(KN),n=un()?"firebase":t.storageType||"localStorage",[r,s]=D.useState(df),[i,o]=D.useState([]),[a,u]=D.useState(!1);D.useEffect(()=>{let I=!0;return(async()=>{u(!0);try{if(n==="firebase"){const Q=await FN();Q&&Q.availableBooths&&I&&e(oe=>({...oe,availableBooths:Q.availableBooths}))}const W=await mv(n,t.availableBooths);I&&s(W)}catch(W){console.error("Error loading initial data:",W),I&&s(df())}finally{I&&u(!1)}})(),()=>{I=!1}},[n]),D.useEffect(()=>{if(n!=="firebase")return;console.log(" Firebase real-time listener activated");let I=null,E=null;I=BN(Q=>{Q?(console.log(" Received Firebase update, units count:",Q.length),s(Q)):console.warn(" Received null/empty update from Firebase")}),E=UN(Q=>{Q&&Q.availableBooths&&(console.log(" Received Firebase config update, booths count:",Q.availableBooths.length),e(oe=>({...oe,availableBooths:Q.availableBooths})))});const W=WN(Q=>{Q&&(console.log(" Received logos update:",Q.length),o(Q))});return()=>{console.log(" Unsubscribing from Firebase listeners"),I&&I(),E&&E(),W&&W()}},[n]),D.useEffect(()=>{if(n!=="localStorage")return;const I=E=>{if(E.key===go&&E.newValue)try{s(JSON.parse(E.newValue))}catch{}if(E.key===Ul&&E.newValue)try{e(JSON.parse(E.newValue))}catch{}};return window.addEventListener("storage",I),()=>window.removeEventListener("storage",I)},[n]);const c=async I=>{if(s(I),n==="localStorage")localStorage.setItem(go,JSON.stringify(I)),console.log(" Data saved to localStorage successfully");else if(n==="firebase")try{await jN(I)?console.log(" Data saved to Firebase successfully"):(console.warn(" Firebase save failed, using localStorage as fallback"),localStorage.setItem(go,JSON.stringify(I)))}catch(E){console.error(" Firebase save error:",E),localStorage.setItem(go,JSON.stringify(I))}},h=async I=>{if(e(I),localStorage.setItem(Ul,JSON.stringify(I)),n==="firebase")try{await pv(I)?console.log(" Config saved to Firebase successfully"):console.warn(" Firebase config save failed, using localStorage fallback")}catch(E){console.error(" Firebase config save error:",E)}},f=(I,E)=>{const W=`booth-${Date.now()}`,Q={id:W,name:I,color:E},oe=[...t.availableBooths||[],Q];return console.log(` Booth added: ${I} (${E})`),N({availableBooths:oe}),W},p=(I,E)=>{const W=(t.availableBooths||[]).map(Q=>Q.id===I?{...Q,...E}:Q);console.log(` Booth updated: ${I}`,E),N({availableBooths:W})},v=I=>{var oe;const E=(oe=t.availableBooths)==null?void 0:oe.find(ne=>ne.id===I),W=(t.availableBooths||[]).filter(ne=>ne.id!==I),Q=r.map(ne=>({...ne,booths:(ne.booths||[]).filter(F=>F!==I)}));console.log(` Booth removed: ${E==null?void 0:E.name} (removed from all units)`),N({availableBooths:W}),c(Q)},C=(I,E)=>{var ne;const W=r.find(F=>F.id===I),Q=(ne=t.availableBooths)==null?void 0:ne.find(F=>F.id===E),oe=r.map(F=>F.id===I&&!(F.booths||[]).includes(E)?{...F,booths:[...F.booths||[],E]}:F);console.log(` Booth added to unit: ${Q==null?void 0:Q.name}  ${W==null?void 0:W.name}`),c(oe)},P=(I,E)=>{var ne;const W=r.find(F=>F.id===I),Q=(ne=t.availableBooths)==null?void 0:ne.find(F=>F.id===E),oe=r.map(F=>F.id===I?{...F,booths:(F.booths||[]).filter(q=>q!==E)}:F);console.log(` Booth removed from unit: ${Q==null?void 0:Q.name}  ${W==null?void 0:W.name}`),c(oe)},k=(I,E)=>{console.warn(" updateScore is deprecated, use addBoothToUnit/removeBoothFromUnit instead")},x=(I,E)=>{const W=r.find(oe=>oe.id===I),Q=r.map(oe=>oe.id===I?{...oe,...E}:oe);console.log(` Unit updated: ${W==null?void 0:W.name}  ${E.name||(W==null?void 0:W.name)}`,E),c(Q)},y=I=>{const W={id:r.reduce((Q,oe)=>Math.max(Q,oe.id),0)+1,name:I,booths:[],logo:null};console.log(` Unit added: ${I} (ID: ${W.id})`),c([...r,W])},T=I=>{const E=r.find(W=>W.id===I);console.log(` Unit removed: ${E==null?void 0:E.name} (ID: ${I})`),c(r.filter(W=>W.id!==I))},N=I=>{console.log(" Config updated:",I),h({...t,...I})};return{units:r,config:t,updateScore:k,updateUnit:x,addUnit:y,removeUnit:T,addBooth:f,updateBooth:p,removeBooth:v,addBoothToUnit:C,removeBoothFromUnit:P,updateConfig:N,resetData:()=>{const I=r.map(E=>({...E,booths:[]}));console.log(` All booths cleared (${r.length} units)`),c(I)},refreshData:async()=>{u(!0);try{const I=await mv(n,t.availableBooths);return s(I),console.log(" Data refreshed successfully"),!0}catch(I){return console.error(" Error refreshing data:",I),!1}finally{u(!1)}},syncLocalStorageToFirebase:async()=>{if(n!=="firebase")return console.warn(" Cannot sync - not in Firebase mode"),!1;try{const I=localStorage.getItem(Ul);if(!I)return console.warn(" No config found in localStorage"),!1;const E=JSON.parse(I);return console.log(" Uploading config from localStorage to Firebase..."),await pv(E)?(console.log(" Successfully synced localStorage config to Firebase!"),e(E),!0):(console.error(" Failed to sync to Firebase"),!1)}catch(I){return console.error(" Error syncing to Firebase:",I),!1}},isLoading:a,logos:i,addNewLogo:async(I,E)=>{const W=`logo-${Date.now()}`,Q={id:W,name:I,data:E};return n==="firebase"?await zN(Q):o(oe=>[...oe,Q]),W},removeLogoArg:async I=>{n==="firebase"?await $N(I):o(E=>E.filter(W=>W.id!==I))},getUnitLogo:I=>{if(I.logoId){const E=i.find(W=>W.id===I.logoId);if(E)return E.data}return I.logo?I.logo:null},clearAllEmbeddedLogos:()=>{const I=r.map(E=>({...E,logo:null}));console.log(" Cleared all embedded logos from units"),c(I)}}}const pa=D.createContext({});function um(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ec=D.createContext(null),cm=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class qN extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function GN({children:t,isPresent:e}){const n=D.useId(),r=D.useRef(null),s=D.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=D.useContext(cm);return D.useInsertionEffect(()=>{const{width:o,height:a,top:u,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return i&&(h.nonce=i),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${u}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),g.jsx(qN,{isPresent:e,childRef:r,sizeRef:s,children:D.cloneElement(t,{ref:r})})}const QN=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=um(YN),u=D.useId(),c=D.useCallback(f=>{a.set(f,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),h=D.useMemo(()=>({id:u,initial:e,isPresent:n,custom:s,onExitComplete:c,register:f=>(a.set(f,!1),()=>a.delete(f))}),i?[Math.random(),c]:[n,c]);return D.useMemo(()=>{a.forEach((f,p)=>a.set(p,!1))},[n]),D.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(GN,{isPresent:n,children:t})),g.jsx(Ec.Provider,{value:h,children:t})};function YN(){return new Map}function eT(t=!0){const e=D.useContext(Ec);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=D.useId();D.useEffect(()=>{t&&s(i)},[t]);const o=D.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const _l=t=>t.key||"";function gv(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const hm=typeof window<"u",dm=hm?D.useLayoutEffect:D.useEffect,Mo=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,u]=eT(o),c=D.useMemo(()=>gv(t),[t]),h=o&&!a?[]:c.map(_l),f=D.useRef(!0),p=D.useRef(c),v=um(()=>new Map),[C,P]=D.useState(c),[k,x]=D.useState(c);dm(()=>{f.current=!1,p.current=c;for(let N=0;N<k.length;N++){const V=_l(k[N]);h.includes(V)?v.delete(V):v.get(V)!==!0&&v.set(V,!1)}},[k,h.length,h.join("-")]);const y=[];if(c!==C){let N=[...c];for(let V=0;V<k.length;V++){const j=k[V],S=_l(j);h.includes(S)||(N.splice(V,0,j),y.push(j))}i==="wait"&&y.length&&(N=y),x(gv(N)),P(c);return}const{forceRender:T}=D.useContext(pa);return g.jsx(g.Fragment,{children:k.map(N=>{const V=_l(N),j=o&&!a?!1:c===k||h.includes(V),S=()=>{if(v.has(V))v.set(V,!0);else return;let _=!0;v.forEach(A=>{A||(_=!1)}),_&&(T==null||T(),x(p.current),o&&(u==null||u()),r&&r())};return g.jsx(QN,{isPresent:j,initial:!f.current||n?void 0:!1,custom:j?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:j?void 0:S,children:N},V)})})},XN=D.createContext(null);function JN(){const t=D.useRef(!1);return dm(()=>(t.current=!0,()=>{t.current=!1}),[]),t}const Lt=t=>t;let tT=Lt;function fm(t){let e;return()=>(e===void 0&&(e=t()),e)}const yi=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ln=t=>t*1e3,jn=t=>t/1e3,ZN={useManualTiming:!1};function eV(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,h=!1,f=!1)=>{const v=f&&r?e:n;return h&&i.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,u.process(c))}};return u}const wl=["read","resolveKeyframes","update","preRender","render","postRender"],tV=40;function nT(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=wl.reduce((x,y)=>(x[y]=eV(i),x),{}),{read:a,resolveKeyframes:u,update:c,preRender:h,render:f,postRender:p}=o,v=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,tV),1),s.timestamp=x,s.isProcessing=!0,a.process(s),u.process(s),c.process(s),h.process(s),f.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},C=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:wl.reduce((x,y)=>{const T=o[y];return x[y]=(N,V=!1,j=!1)=>(n||C(),T.schedule(N,V,j)),x},{}),cancel:x=>{for(let y=0;y<wl.length;y++)o[wl[y]].cancel(x)},state:s,steps:o}}const{schedule:ye,cancel:kr,state:nt,steps:kh}=nT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lt,!0);function nV(){const t=JN(),[e,n]=D.useState(0),r=D.useCallback(()=>{t.current&&n(e+1)},[e]);return[D.useCallback(()=>ye.postRender(r),[r]),e]}const rV=t=>!t.isLayoutDirty&&t.willUpdate(!1);function yv(){const t=new Set,e=new WeakMap,n=()=>t.forEach(rV);return{add:r=>{t.add(r),e.set(r,r.addEventListener("willUpdate",n))},remove:r=>{t.delete(r);const s=e.get(r);s&&(s(),e.delete(r)),n()},dirty:n}}const rT=t=>t===!0,sV=t=>rT(t===!0)||t==="id",vv=({children:t,id:e,inherit:n=!0})=>{const r=D.useContext(pa),s=D.useContext(XN),[i,o]=nV(),a=D.useRef(null),u=r.id||s;a.current===null&&(sV(n)&&u&&(e=e?u+"-"+e:u),a.current={id:e,group:rT(n)&&r.group||yv()});const c=D.useMemo(()=>({...a.current,forceRender:i}),[o]);return g.jsx(pa.Provider,{value:c,children:t})},sT=D.createContext({strict:!1}),_v={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vi={};for(const t in _v)vi[t]={isEnabled:e=>_v[t].some(n=>!!e[n])};function iV(t){for(const e in t)vi[e]={...vi[e],...t[e]}}const oV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||oV.has(t)}let iT=t=>!Nu(t);function aV(t){t&&(iT=e=>e.startsWith("on")?!Nu(e):t(e))}try{aV(require("@emotion/is-prop-valid").default)}catch{}function lV(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(iT(s)||n===!0&&Nu(s)||!e&&!Nu(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function uV(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Tc=D.createContext({});function ma(t){return typeof t=="string"||Array.isArray(t)}function Sc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const pm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mm=["initial",...pm];function Ac(t){return Sc(t.animate)||mm.some(e=>ma(t[e]))}function oT(t){return!!(Ac(t)||t.variants)}function cV(t,e){if(Ac(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ma(n)?n:void 0,animate:ma(r)?r:void 0}}return t.inherit!==!1?e:{}}function hV(t){const{initial:e,animate:n}=cV(t,D.useContext(Tc));return D.useMemo(()=>({initial:e,animate:n}),[wv(e),wv(n)])}function wv(t){return Array.isArray(t)?t.join(" "):t}const dV=Symbol.for("motionComponentSymbol");function $s(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fV(t,e,n){return D.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$s(n)&&(n.current=r))},[e])}const gm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pV="framerAppearId",aT="data-"+gm(pV),{schedule:ym}=nT(queueMicrotask,!1),lT=D.createContext({});function mV(t,e,n,r,s){var i,o;const{visualElement:a}=D.useContext(Tc),u=D.useContext(sT),c=D.useContext(Ec),h=D.useContext(cm).reducedMotion,f=D.useRef(null);r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,v=D.useContext(lT);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&gV(f.current,n,s,v);const C=D.useRef(!1);D.useInsertionEffect(()=>{p&&C.current&&p.update(n,c)});const P=n[aT],k=D.useRef(!!P&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,P))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,P)));return dm(()=>{p&&(C.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),ym.render(p.render),k.current&&p.animationState&&p.animationState.animateChanges())}),D.useEffect(()=>{p&&(!k.current&&p.animationState&&p.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,P)}),k.current=!1))}),p}function gV(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:uT(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&$s(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:c})}function uT(t){if(t)return t.options.allowProjection!==!1?t.projection:uT(t.parent)}function yV({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&iV(t);function a(c,h){let f;const p={...D.useContext(cm),...c,layoutId:vV(c)},{isStatic:v}=p,C=hV(c),P=r(c,v);if(!v&&hm){_V();const k=wV(p);f=k.MeasureLayout,C.visualElement=mV(s,P,p,e,k.ProjectionNode)}return g.jsxs(Tc.Provider,{value:C,children:[f&&C.visualElement?g.jsx(f,{visualElement:C.visualElement,...p}):null,n(s,c,fV(P,C.visualElement,h),P,v,C.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const u=D.forwardRef(a);return u[dV]=s,u}function vV({layoutId:t}){const e=D.useContext(pa).id;return e&&t!==void 0?e+"-"+t:t}function _V(t,e){D.useContext(sT).strict}function wV(t){const{drag:e,layout:n}=vi;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const xV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vm(t){return typeof t!="string"||t.includes("-")?!1:!!(xV.indexOf(t)>-1||/[A-Z]/u.test(t))}function xv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function _m(t,e,n,r){if(typeof e=="function"){const[s,i]=xv(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=xv(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const ff=t=>Array.isArray(t),EV=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),TV=t=>ff(t)?t[t.length-1]||0:t,pt=t=>!!(t&&t.getVelocity);function zl(t){const e=pt(t)?t.get():t;return EV(e)?e.toValue():e}function SV({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:AV(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const cT=t=>(e,n)=>{const r=D.useContext(Tc),s=D.useContext(Ec),i=()=>SV(t,e,r,s);return n?i():um(i)};function AV(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=zl(i[p]);let{initial:o,animate:a}=t;const u=Ac(t),c=oT(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!Sc(f)){const p=Array.isArray(f)?f:[f];for(let v=0;v<p.length;v++){const C=_m(t,p[v]);if(C){const{transitionEnd:P,transition:k,...x}=C;for(const y in x){let T=x[y];if(Array.isArray(T)){const N=h?T.length-1:0;T=T[N]}T!==null&&(s[y]=T)}for(const y in P)s[y]=P[y]}}}return s}const Ri=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ws=new Set(Ri),hT=t=>e=>typeof e=="string"&&e.startsWith(t),dT=hT("--"),CV=hT("var(--"),wm=t=>CV(t)?IV.test(t.split("/*")[0].trim()):!1,IV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Hn=(t,e,n)=>n>e?e:n<t?t:n,ki={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ga={...ki,transform:t=>Hn(0,1,t)},xl={...ki,default:1},Na=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),tr=Na("deg"),Sn=Na("%"),Y=Na("px"),PV=Na("vh"),bV=Na("vw"),Ev={...Sn,parse:t=>Sn.parse(t)/100,transform:t=>Sn.transform(t*100)},RV={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y},kV={rotate:tr,rotateX:tr,rotateY:tr,rotateZ:tr,scale:xl,scaleX:xl,scaleY:xl,scaleZ:xl,skew:tr,skewX:tr,skewY:tr,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:ga,originX:Ev,originY:Ev,originZ:Y},Tv={...ki,transform:Math.round},xm={...RV,...kV,zIndex:Tv,size:Y,fillOpacity:ga,strokeOpacity:ga,numOctaves:Tv},NV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VV=Ri.length;function DV(t,e,n){let r="",s=!0;for(let i=0;i<VV;i++){const o=Ri[i],a=t[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const c=fT(a,xm[o]);if(!u){s=!1;const h=NV[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Em(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const u in e){const c=e[u];if(ws.has(u)){o=!0;continue}else if(dT(u)){s[u]=c;continue}else{const h=fT(c,xm[u]);u.startsWith("origin")?(a=!0,i[u]=h):r[u]=h}}if(e.transform||(o||n?r.transform=DV(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:u="50%",originY:c="50%",originZ:h=0}=i;r.transformOrigin=`${u} ${c} ${h}`}}const MV={offset:"stroke-dashoffset",array:"stroke-dasharray"},LV={offset:"strokeDashoffset",array:"strokeDasharray"};function jV(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?MV:LV;t[i.offset]=Y.transform(-r);const o=Y.transform(e),a=Y.transform(n);t[i.array]=`${o} ${a}`}function Sv(t,e,n){return typeof t=="string"?t:Y.transform(e+n*t)}function OV(t,e,n){const r=Sv(e,t.x,t.width),s=Sv(n,t.y,t.height);return`${r} ${s}`}function Tm(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},h,f){if(Em(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:C}=t;p.transform&&(C&&(v.transform=p.transform),delete p.transform),C&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=OV(C,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&jV(p,o,a,u,!1)}const Sm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),pT=()=>({...Sm(),attrs:{}}),Am=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mT(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const gT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yT(t,e,n,r){mT(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(gT.has(s)?s:gm(s),e.attrs[s])}const Vu={};function FV(t){Object.assign(Vu,t)}function vT(t,{layout:e,layoutId:n}){return ws.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vu[t]||t==="opacity")}function Cm(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(pt(s[o])||e.style&&pt(e.style[o])||vT(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function _T(t,e,n){const r=Cm(t,e,n);for(const s in t)if(pt(t[s])||pt(e[s])){const i=Ri.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function BV(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Av=["x","y","width","height","cx","cy","r"],UV={useVisualState:cT({scrapeMotionValuesFromProps:_T,createRenderState:pT,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(ws.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<Av.length;a++){const u=Av[a];t[u]!==e[u]&&(o=!0)}o&&ye.read(()=>{BV(n,r),ye.render(()=>{Tm(r,s,Am(n.tagName),t.transformTemplate),yT(n,r)})})}})},zV={useVisualState:cT({scrapeMotionValuesFromProps:Cm,createRenderState:Sm})};function wT(t,e,n){for(const r in e)!pt(e[r])&&!vT(r,n)&&(t[r]=e[r])}function $V({transformTemplate:t},e){return D.useMemo(()=>{const n=Sm();return Em(n,e,t),Object.assign({},n.vars,n.style)},[e])}function WV(t,e){const n=t.style||{},r={};return wT(r,n,t),Object.assign(r,$V(t,e)),r}function HV(t,e){const n={},r=WV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function KV(t,e,n,r){const s=D.useMemo(()=>{const i=pT();return Tm(i,e,Am(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};wT(i,t.style,t),s.style={...i,...s.style}}return s}function qV(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(vm(n)?KV:HV)(r,i,o,n),c=lV(r,typeof n=="string",t),h=n!==D.Fragment?{...c,...u,ref:s}:{},{children:f}=r,p=D.useMemo(()=>pt(f)?f.get():f,[f]);return D.createElement(n,{...h,children:p})}}function GV(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...vm(r)?UV:zV,preloadedFeatures:t,useRender:qV(s),createVisualElement:e,Component:r};return yV(o)}}function xT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Cc(t,e,n){const r=t.getProps();return _m(r,e,n!==void 0?n:r.custom,t)}const QV=fm(()=>window.ScrollTimeline!==void 0);class YV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(QV()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class XV extends YV{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Im(t,e){return t?t[e]||t.default||t:void 0}const pf=2e4;function ET(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<pf;)e+=n,r=t.next(e);return e>=pf?1/0:e}function Pm(t){return typeof t=="function"}function Cv(t,e){t.timeline=e,t.onfinish=null}const bm=t=>Array.isArray(t)&&typeof t[0]=="number",JV={linearEasing:void 0};function ZV(t,e){const n=fm(t);return()=>{var r;return(r=JV[e])!==null&&r!==void 0?r:n()}}const Du=ZV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),TT=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(yi(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function ST(t){return!!(typeof t=="function"&&Du()||!t||typeof t=="string"&&(t in mf||Du())||bm(t)||Array.isArray(t)&&t.every(ST))}const yo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yo([0,.65,.55,1]),circOut:yo([.55,0,1,.45]),backIn:yo([.31,.01,.66,-.59]),backOut:yo([.33,1.53,.69,.99])};function AT(t,e){if(t)return typeof t=="function"&&Du()?TT(t,e):bm(t)?yo(t):Array.isArray(t)?t.map(n=>AT(n,e)||mf.easeOut):mf[t]}const Zt={x:!1,y:!1};function CT(){return Zt.x||Zt.y}function e4(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function IT(t,e){const n=e4(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Iv(t){return e=>{e.pointerType==="touch"||CT()||t(e)}}function t4(t,e,n={}){const[r,s,i]=IT(t,n),o=Iv(a=>{const{target:u}=a,c=e(a);if(typeof c!="function"||!u)return;const h=Iv(f=>{c(f),u.removeEventListener("pointerleave",h)});u.addEventListener("pointerleave",h,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const PT=(t,e)=>e?t===e?!0:PT(t,e.parentElement):!1,Rm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,n4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function r4(t){return n4.has(t.tagName)||t.tabIndex!==-1}const vo=new WeakSet;function Pv(t){return e=>{e.key==="Enter"&&t(e)}}function Nh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const s4=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Pv(()=>{if(vo.has(n))return;Nh(n,"down");const s=Pv(()=>{Nh(n,"up")}),i=()=>Nh(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function bv(t){return Rm(t)&&!CT()}function i4(t,e,n={}){const[r,s,i]=IT(t,n),o=a=>{const u=a.currentTarget;if(!bv(a)||vo.has(u))return;vo.add(u);const c=e(a),h=(v,C)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!bv(v)||!vo.has(u))&&(vo.delete(u),typeof c=="function"&&c(v,{success:C}))},f=v=>{h(v,n.useGlobalTarget||PT(u,v.target))},p=v=>{h(v,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{!r4(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>s4(c,s),s)}),i}function o4(t){return t==="x"||t==="y"?Zt[t]?null:(Zt[t]=!0,()=>{Zt[t]=!1}):Zt.x||Zt.y?null:(Zt.x=Zt.y=!0,()=>{Zt.x=Zt.y=!1})}const bT=new Set(["width","height","top","left","right","bottom",...Ri]);let $l;function a4(){$l=void 0}const An={now:()=>($l===void 0&&An.set(nt.isProcessing||ZN.useManualTiming?nt.timestamp:performance.now()),$l),set:t=>{$l=t,queueMicrotask(a4)}};function km(t,e){t.indexOf(e)===-1&&t.push(e)}function Nm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Vm{constructor(){this.subscriptions=[]}add(e){return km(this.subscriptions,e),()=>Nm(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function RT(t,e){return e?t*(1e3/e):0}const Rv=30,l4=t=>!isNaN(parseFloat(t));class u4{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=An.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=An.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=l4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vm);const r=this.events[e].add(n);return e==="change"?()=>{r(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Rv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rv);return RT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ya(t,e){return new u4(t,e)}function c4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ya(n))}function h4(t,e){const n=Cc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=TV(i[o]);c4(t,o,a)}}function d4(t){return!!(pt(t)&&t.add)}function gf(t,e){const n=t.getValue("willChange");if(d4(n))return n.add(e)}function kT(t){return t.props[aT]}const NT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,f4=1e-7,p4=12;function m4(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=NT(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>f4&&++a<p4);return o}function Va(t,e,n,r){if(t===e&&n===r)return Lt;const s=i=>m4(i,0,1,t,n);return i=>i===0||i===1?i:NT(s(i),e,r)}const VT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,DT=t=>e=>1-t(1-e),MT=Va(.33,1.53,.69,.99),Dm=DT(MT),LT=VT(Dm),jT=t=>(t*=2)<1?.5*Dm(t):.5*(2-Math.pow(2,-10*(t-1))),Mm=t=>1-Math.sin(Math.acos(t)),OT=DT(Mm),FT=VT(Mm),BT=t=>/^0[^.\s]+$/u.test(t);function g4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||BT(t):!0}const Lo=t=>Math.round(t*1e5)/1e5,Lm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y4(t){return t==null}const v4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jm=(t,e)=>n=>!!(typeof n=="string"&&v4.test(n)&&n.startsWith(t)||e&&!y4(n)&&Object.prototype.hasOwnProperty.call(n,e)),UT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Lm);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},_4=t=>Hn(0,255,t),Vh={...ki,transform:t=>Math.round(_4(t))},Jr={test:jm("rgb","red"),parse:UT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Vh.transform(t)+", "+Vh.transform(e)+", "+Vh.transform(n)+", "+Lo(ga.transform(r))+")"};function w4(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const yf={test:jm("#"),parse:w4,transform:Jr.transform},Ws={test:jm("hsl","hue"),parse:UT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Sn.transform(Lo(e))+", "+Sn.transform(Lo(n))+", "+Lo(ga.transform(r))+")"},ct={test:t=>Jr.test(t)||yf.test(t)||Ws.test(t),parse:t=>Jr.test(t)?Jr.parse(t):Ws.test(t)?Ws.parse(t):yf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Jr.transform(t):Ws.transform(t)},x4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function E4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Lm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(x4))===null||n===void 0?void 0:n.length)||0)>0}const zT="number",$T="color",T4="var",S4="var(",kv="${}",A4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function va(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(A4,u=>(ct.test(u)?(r.color.push(i),s.push($T),n.push(ct.parse(u))):u.startsWith(S4)?(r.var.push(i),s.push(T4),n.push(u)):(r.number.push(i),s.push(zT),n.push(parseFloat(u))),++i,kv)).split(kv);return{values:n,split:a,indexes:r,types:s}}function WT(t){return va(t).values}function HT(t){const{split:e,types:n}=va(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===zT?i+=Lo(s[o]):a===$T?i+=ct.transform(s[o]):i+=s[o]}return i}}const C4=t=>typeof t=="number"?0:t;function I4(t){const e=WT(t);return HT(t)(e.map(C4))}const Nr={test:E4,parse:WT,createTransformer:HT,getAnimatableNone:I4},P4=new Set(["brightness","contrast","saturate","opacity"]);function b4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Lm)||[];if(!r)return t;const s=n.replace(r,"");let i=P4.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const R4=/\b([a-z-]*)\(.*?\)/gu,vf={...Nr,getAnimatableNone:t=>{const e=t.match(R4);return e?e.map(b4).join(" "):t}},k4={...xm,color:ct,backgroundColor:ct,outlineColor:ct,fill:ct,stroke:ct,borderColor:ct,borderTopColor:ct,borderRightColor:ct,borderBottomColor:ct,borderLeftColor:ct,filter:vf,WebkitFilter:vf},Om=t=>k4[t];function KT(t,e){let n=Om(t);return n!==vf&&(n=Nr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const N4=new Set(["auto","none","0"]);function V4(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!N4.has(i)&&va(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=KT(n,s)}const Nv=t=>t===ki||t===Y,Vv=(t,e)=>parseFloat(t.split(", ")[e]),Dv=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Vv(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?Vv(i[1],t):0}},D4=new Set(["x","y","z"]),M4=Ri.filter(t=>!D4.has(t));function L4(t){const e=[];return M4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const _i={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Dv(4,13),y:Dv(5,14)};_i.translateX=_i.x;_i.translateY=_i.y;const rs=new Set;let _f=!1,wf=!1;function qT(){if(wf){const t=Array.from(rs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=L4(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}wf=!1,_f=!1,rs.forEach(t=>t.complete()),rs.clear()}function GT(){rs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wf=!0)})}function j4(){GT(),qT()}class Fm{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rs.add(this),_f||(_f=!0,ye.read(GT),ye.resolveKeyframes(qT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const QT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),O4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function F4(t){const e=O4.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function YT(t,e,n=1){const[r,s]=F4(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return QT(o)?parseFloat(o):o}return wm(s)?YT(s,e,n+1):s}const XT=t=>e=>e.test(t),B4={test:t=>t==="auto",parse:t=>t},JT=[ki,Y,Sn,tr,bV,PV,B4],Mv=t=>JT.find(XT(t));class ZT extends Fm{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),wm(c))){const h=YT(c,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!bT.has(r)||e.length!==2)return;const[s,i]=e,o=Mv(s),a=Mv(i);if(o!==a)if(Nv(o)&&Nv(a))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)g4(e[s])&&r.push(s);r.length&&V4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_i[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=_i[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,c])=>{n.getValue(u).set(c)}),this.resolveNoneKeyframes()}}const Lv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Nr.test(t)||t==="0")&&!t.startsWith("url("));function U4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function z4(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Lv(s,e),a=Lv(i,e);return!o||!a?!1:U4(t)||(n==="spring"||Pm(n))&&r}const $4=t=>t!==null;function Ic(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter($4),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const W4=40;class eS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=An.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>W4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&j4(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=An.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:u,isGenerator:c}=this.options;if(!c&&!z4(e,r,s,i))if(o)this.options.duration=0;else{u&&u(Ic(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ae=(t,e,n)=>t+(e-t)*n;function Dh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function H4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;s=Dh(u,a,t+1/3),i=Dh(u,a,t),o=Dh(u,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Mu(t,e){return n=>n>0?e:t}const Mh=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},K4=[yf,Jr,Ws],q4=t=>K4.find(e=>e.test(t));function jv(t){const e=q4(t);if(!e)return!1;let n=e.parse(t);return e===Ws&&(n=H4(n)),n}const Ov=(t,e)=>{const n=jv(t),r=jv(e);if(!n||!r)return Mu(t,e);const s={...n};return i=>(s.red=Mh(n.red,r.red,i),s.green=Mh(n.green,r.green,i),s.blue=Mh(n.blue,r.blue,i),s.alpha=Ae(n.alpha,r.alpha,i),Jr.transform(s))},G4=(t,e)=>n=>e(t(n)),Da=(...t)=>t.reduce(G4),xf=new Set(["none","hidden"]);function Q4(t,e){return xf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Y4(t,e){return n=>Ae(t,e,n)}function Bm(t){return typeof t=="number"?Y4:typeof t=="string"?wm(t)?Mu:ct.test(t)?Ov:Z4:Array.isArray(t)?tS:typeof t=="object"?ct.test(t)?Ov:X4:Mu}function tS(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Bm(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function X4(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Bm(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function J4(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],u=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=u,s[o]++}return r}const Z4=(t,e)=>{const n=Nr.createTransformer(e),r=va(t),s=va(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?xf.has(t)&&!s.values.length||xf.has(e)&&!r.values.length?Q4(t,e):Da(tS(J4(r,s),s.values),n):Mu(t,e)};function nS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ae(t,e,n):Bm(t)(t,e)}const eD=5;function rS(t,e,n){const r=Math.max(e-eD,0);return RT(n-t(r),e-r)}const Re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lh=.001;function tD({duration:t=Re.duration,bounce:e=Re.bounce,velocity:n=Re.velocity,mass:r=Re.mass}){let s,i,o=1-e;o=Hn(Re.minDamping,Re.maxDamping,o),t=Hn(Re.minDuration,Re.maxDuration,jn(t)),o<1?(s=c=>{const h=c*o,f=h*t,p=h-n,v=Ef(c,o),C=Math.exp(-f);return Lh-p/v*C},i=c=>{const f=c*o*t,p=f*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,C=Math.exp(-f),P=Ef(Math.pow(c,2),o);return(-s(c)+Lh>0?-1:1)*((p-v)*C)/P}):(s=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Lh+h*f},i=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,u=rD(s,i,a);if(t=Ln(t),isNaN(u))return{stiffness:Re.stiffness,damping:Re.damping,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const nD=12;function rD(t,e,n){let r=n;for(let s=1;s<nD;s++)r=r-t(r)/e(r);return r}function Ef(t,e){return t*Math.sqrt(1-e*e)}const sD=["duration","bounce"],iD=["stiffness","damping","mass"];function Fv(t,e){return e.some(n=>t[n]!==void 0)}function oD(t){let e={velocity:Re.velocity,stiffness:Re.stiffness,damping:Re.damping,mass:Re.mass,isResolvedFromDuration:!1,...t};if(!Fv(t,iD)&&Fv(t,sD))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Hn(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Re.mass,stiffness:s,damping:i}}else{const n=tD(t);e={...e,...n,mass:Re.mass},e.isResolvedFromDuration=!0}return e}function sS(t=Re.visualDuration,e=Re.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:u,damping:c,mass:h,duration:f,velocity:p,isResolvedFromDuration:v}=oD({...n,velocity:-jn(n.velocity||0)}),C=p||0,P=c/(2*Math.sqrt(u*h)),k=o-i,x=jn(Math.sqrt(u/h)),y=Math.abs(k)<5;r||(r=y?Re.restSpeed.granular:Re.restSpeed.default),s||(s=y?Re.restDelta.granular:Re.restDelta.default);let T;if(P<1){const V=Ef(x,P);T=j=>{const S=Math.exp(-P*x*j);return o-S*((C+P*x*k)/V*Math.sin(V*j)+k*Math.cos(V*j))}}else if(P===1)T=V=>o-Math.exp(-x*V)*(k+(C+x*k)*V);else{const V=x*Math.sqrt(P*P-1);T=j=>{const S=Math.exp(-P*x*j),_=Math.min(V*j,300);return o-S*((C+P*x*k)*Math.sinh(_)+V*k*Math.cosh(_))/V}}const N={calculatedDuration:v&&f||null,next:V=>{const j=T(V);if(v)a.done=V>=f;else{let S=0;P<1&&(S=V===0?Ln(C):rS(T,V,j));const _=Math.abs(S)<=r,A=Math.abs(o-j)<=s;a.done=_&&A}return a.value=a.done?o:j,a},toString:()=>{const V=Math.min(ET(N),pf),j=TT(S=>N.next(V*S).value,V,30);return V+"ms "+j}};return N}function Bv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},v=_=>a!==void 0&&_<a||u!==void 0&&_>u,C=_=>a===void 0?u:u===void 0||Math.abs(a-_)<Math.abs(u-_)?a:u;let P=n*e;const k=f+P,x=o===void 0?k:o(k);x!==k&&(P=x-f);const y=_=>-P*Math.exp(-_/r),T=_=>x+y(_),N=_=>{const A=y(_),b=T(_);p.done=Math.abs(A)<=c,p.value=p.done?x:b};let V,j;const S=_=>{v(p.value)&&(V=_,j=sS({keyframes:[p.value,C(p.value)],velocity:rS(T,_,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return S(0),{calculatedDuration:null,next:_=>{let A=!1;return!j&&V===void 0&&(A=!0,N(_),S(_)),V!==void 0&&_>=V?j.next(_-V):(!A&&N(_),p)}}}const aD=Va(.42,0,1,1),lD=Va(0,0,.58,1),iS=Va(.42,0,.58,1),uD=t=>Array.isArray(t)&&typeof t[0]!="number",cD={linear:Lt,easeIn:aD,easeInOut:iS,easeOut:lD,circIn:Mm,circInOut:FT,circOut:OT,backIn:Dm,backInOut:LT,backOut:MT,anticipate:jT},Uv=t=>{if(bm(t)){tT(t.length===4);const[e,n,r,s]=t;return Va(e,n,r,s)}else if(typeof t=="string")return cD[t];return t};function hD(t,e,n){const r=[],s=n||nS,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Lt:e;a=Da(u,a)}r.push(a)}return r}function dD(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(tT(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=hD(e,r,s),u=a.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=yi(t[f],t[f+1],h);return a[f](p)};return n?h=>c(Hn(t[0],t[i-1],h)):c}function fD(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=yi(0,e,r);t.push(Ae(n,1,s))}}function pD(t){const e=[0];return fD(e,t.length-1),e}function mD(t,e){return t.map(n=>n*e)}function gD(t,e){return t.map(()=>e||iS).splice(0,t.length-1)}function Lu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=uD(r)?r.map(Uv):Uv(r),i={done:!1,value:e[0]},o=mD(n&&n.length===e.length?n:pD(e),t),a=dD(o,e,{ease:Array.isArray(s)?s:gD(e,s)});return{calculatedDuration:t,next:u=>(i.value=a(u),i.done=u>=t,i)}}const yD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ye.update(e,!0),stop:()=>kr(e),now:()=>nt.isProcessing?nt.timestamp:An.now()}},vD={decay:Bv,inertia:Bv,tween:Lu,keyframes:Lu,spring:sS},_D=t=>t/100;class Um extends eS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Fm,a=(u,c)=>this.onKeyframesResolved(u,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Pm(n)?n:vD[n]||Lu;let u,c;a!==Lu&&typeof e[0]!="number"&&(u=Da(_D,nS(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=ET(h));const{calculatedDuration:f}=h,p=f+s,v=p*(r+1)-s;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:p,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:u,calculatedDuration:c,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:v,repeatType:C,repeatDelay:P,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?x<0:x>h;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let T=this.currentTime,N=i;if(v){const _=Math.min(this.currentTime,h)/f;let A=Math.floor(_),b=_%1;!b&&_>=1&&(b=1),b===1&&A--,A=Math.min(A,v+1),!!(A%2)&&(C==="reverse"?(b=1-b,P&&(b-=P/f)):C==="mirror"&&(N=o)),T=Hn(0,1,b)*f}const V=y?{done:!1,value:u[0]}:N.next(T);a&&(V.value=a(V.value));let{done:j}=V;!y&&c!==null&&(j=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return S&&s!==void 0&&(V.value=Ic(u,this.options,s)),k&&k(V.value),S&&this.finish(),V}get duration(){const{resolved:e}=this;return e?jn(e.calculatedDuration):0}get time(){return jn(this.currentTime)}set time(e){e=Ln(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=jn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=yD,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const wD=new Set(["opacity","clipPath","filter","transform"]);function xD(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:u}={}){const c={[e]:n};u&&(c.offset=u);const h=AT(a,s);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const ED=fm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ju=10,TD=2e4;function SD(t){return Pm(t.type)||t.type==="spring"||!ST(t.ease)}function AD(t,e){const n=new Um({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<TD;)r=n.sample(i),s.push(r.value),i+=ju;return{times:void 0,keyframes:s,duration:i-ju,ease:"linear"}}const oS={anticipate:jT,backInOut:LT,circInOut:FT};function CD(t){return t in oS}class zv extends eS{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new ZT(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:u,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&Du()&&CD(i)&&(i=oS[i]),SD(this.options)){const{onComplete:f,onUpdate:p,motionValue:v,element:C,...P}=this.options,k=AD(e,P);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,s=k.times,i=k.ease,o="keyframes"}const h=xD(a.owner.current,u,e,{...this.options,duration:r,times:s,ease:i});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(Cv(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(Ic(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return jn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return jn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ln(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Lt;const{animation:r}=n;Cv(r,e)}return Lt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:f,element:p,...v}=this.options,C=new Um({...v,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),P=Ln(this.time);c.setWithVelocity(C.sample(P-ju).value,C.sample(P).value,ju)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=n.owner.getProps();return ED()&&r&&wD.has(r)&&!u&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const ID={type:"spring",stiffness:500,damping:25,restSpeed:10},PD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bD={type:"keyframes",duration:.8},RD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kD=(t,{keyframes:e})=>e.length>2?bD:ws.has(t)?t.startsWith("scale")?PD(e[1]):ID:RD;function ND({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}const zm=(t,e,n,r={},s,i)=>o=>{const a=Im(r,t)||{},u=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ln(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};ND(a)||(h={...h,...kD(t,h)}),h.duration&&(h.duration=Ln(h.duration)),h.repeatDelay&&(h.repeatDelay=Ln(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const p=Ic(h.keyframes,a);if(p!==void 0)return ye.update(()=>{h.onUpdate(p),h.onComplete()}),new XV([])}return!i&&zv.supports(h)?new zv(h):new Um(h)};function VD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aS(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(o=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in u){const p=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),v=u[f];if(v===void 0||h&&VD(h,f))continue;const C={delay:n,...Im(o||{},f)};let P=!1;if(window.MotionHandoffAnimation){const x=kT(t);if(x){const y=window.MotionHandoffAnimation(x,f,ye);y!==null&&(C.startTime=y,P=!0)}}gf(t,f),p.start(zm(f,p,v,t.shouldReduceMotion&&bT.has(f)?{type:!1}:C,t,P));const k=p.animation;k&&c.push(k)}return a&&Promise.all(c).then(()=>{ye.update(()=>{a&&h4(t,a)})}),c}function Tf(t,e,n={}){var r;const s=Cc(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(aS(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return DD(t,e,h+c,f,p,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[c,h]=u==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function DD(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,u=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(MD).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Tf(c,e,{...i,delay:n+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function MD(t,e){return t.sortNodePosition(e)}function LD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Tf(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Tf(t,e,n);else{const s=typeof e=="function"?Cc(t,e,n.custom):e;r=Promise.all(aS(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const jD=mm.length;function lS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<jD;n++){const r=mm[n],s=t.props[r];(ma(s)||s===!1)&&(e[r]=s)}return e}const OD=[...pm].reverse(),FD=pm.length;function BD(t){return e=>Promise.all(e.map(({animation:n,options:r})=>LD(t,n,r)))}function UD(t){let e=BD(t),n=$v(),r=!0;const s=u=>(c,h)=>{var f;const p=Cc(t,h,u==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:v,transitionEnd:C,...P}=p;c={...c,...P,...C}}return c};function i(u){e=u(t)}function o(u){const{props:c}=t,h=lS(t.parent)||{},f=[],p=new Set;let v={},C=1/0;for(let k=0;k<FD;k++){const x=OD[k],y=n[x],T=c[x]!==void 0?c[x]:h[x],N=ma(T),V=x===u?y.isActive:null;V===!1&&(C=k);let j=T===h[x]&&T!==c[x]&&N;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...v},!y.isActive&&V===null||!T&&!y.prevProp||Sc(T)||typeof T=="boolean")continue;const S=zD(y.prevProp,T);let _=S||x===u&&y.isActive&&!j&&N||k>C&&N,A=!1;const b=Array.isArray(T)?T:[T];let R=b.reduce(s(x),{});V===!1&&(R={});const{prevResolvedValues:I={}}=y,E={...I,...R},W=ne=>{_=!0,p.has(ne)&&(A=!0,p.delete(ne)),y.needsAnimating[ne]=!0;const F=t.getValue(ne);F&&(F.liveStyle=!1)};for(const ne in E){const F=R[ne],q=I[ne];if(v.hasOwnProperty(ne))continue;let J=!1;ff(F)&&ff(q)?J=!xT(F,q):J=F!==q,J?F!=null?W(ne):p.add(ne):F!==void 0&&p.has(ne)?W(ne):y.protectedKeys[ne]=!0}y.prevProp=T,y.prevResolvedValues=R,y.isActive&&(v={...v,...R}),r&&t.blockInitialAnimation&&(_=!1),_&&(!(j&&S)||A)&&f.push(...b.map(ne=>({animation:ne,options:{type:x}})))}if(p.size){const k={};p.forEach(x=>{const y=t.getBaseTarget(x),T=t.getValue(x);T&&(T.liveStyle=!0),k[x]=y??null}),f.push({animation:k})}let P=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(f):Promise.resolve()}function a(u,c){var h;if(n[u].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(u,c)}),n[u].isActive=c;const f=o(u);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=$v(),r=!0}}}function zD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xT(e,t):!1}function zr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $v(){return{animate:zr(!0),whileInView:zr(),whileHover:zr(),whileTap:zr(),whileDrag:zr(),whileFocus:zr(),exit:zr()}}class Lr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class $D extends Lr{constructor(e){super(e),e.animationState||(e.animationState=UD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let WD=0;class HD extends Lr{constructor(){super(...arguments),this.id=WD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const KD={animation:{Feature:$D},exit:{Feature:HD}};function _a(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ma(t){return{point:{x:t.pageX,y:t.pageY}}}const qD=t=>e=>Rm(e)&&t(e,Ma(e));function jo(t,e,n,r){return _a(t,e,qD(n),r)}const Wv=(t,e)=>Math.abs(t-e);function GD(t,e){const n=Wv(t.x,e.x),r=Wv(t.y,e.y);return Math.sqrt(n**2+r**2)}class uS{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Oh(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=GD(f.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:C}=f,{timestamp:P}=nt;this.history.push({...C,timestamp:P});const{onStart:k,onMove:x}=this.handlers;p||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=jh(p,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:v,onSessionEnd:C,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Oh(f.type==="pointercancel"?this.lastMoveEventInfo:jh(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,k),C&&C(f,k)},!Rm(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ma(e),a=jh(o,this.transformPagePoint),{point:u}=a,{timestamp:c}=nt;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Oh(a,this.history)),this.removeListeners=Da(jo(this.contextWindow,"pointermove",this.handlePointerMove),jo(this.contextWindow,"pointerup",this.handlePointerUp),jo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),kr(this.updatePoint)}}function jh(t,e){return e?{point:e(t.point)}:t}function Hv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Oh({point:t},e){return{point:t,delta:Hv(t,cS(e)),offset:Hv(t,QD(e)),velocity:YD(e,.1)}}function QD(t){return t[0]}function cS(t){return t[t.length-1]}function YD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=cS(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ln(e)));)n--;if(!r)return{x:0,y:0};const i=jn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const hS=1e-4,XD=1-hS,JD=1+hS,dS=.01,ZD=0-dS,e5=0+dS;function Ot(t){return t.max-t.min}function t5(t,e,n){return Math.abs(t-e)<=n}function Kv(t,e,n,r=.5){t.origin=r,t.originPoint=Ae(e.min,e.max,t.origin),t.scale=Ot(n)/Ot(e),t.translate=Ae(n.min,n.max,t.origin)-t.originPoint,(t.scale>=XD&&t.scale<=JD||isNaN(t.scale))&&(t.scale=1),(t.translate>=ZD&&t.translate<=e5||isNaN(t.translate))&&(t.translate=0)}function Oo(t,e,n,r){Kv(t.x,e.x,n.x,r?r.originX:void 0),Kv(t.y,e.y,n.y,r?r.originY:void 0)}function qv(t,e,n){t.min=n.min+e.min,t.max=t.min+Ot(e)}function n5(t,e,n){qv(t.x,e.x,n.x),qv(t.y,e.y,n.y)}function Gv(t,e,n){t.min=e.min-n.min,t.max=t.min+Ot(e)}function Fo(t,e,n){Gv(t.x,e.x,n.x),Gv(t.y,e.y,n.y)}function r5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ae(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ae(n,t,r.max):Math.min(t,n)),t}function Qv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function s5(t,{top:e,left:n,bottom:r,right:s}){return{x:Qv(t.x,n,s),y:Qv(t.y,e,r)}}function Yv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function i5(t,e){return{x:Yv(t.x,e.x),y:Yv(t.y,e.y)}}function o5(t,e){let n=.5;const r=Ot(t),s=Ot(e);return s>r?n=yi(e.min,e.max-r,t.min):r>s&&(n=yi(t.min,t.max-s,e.min)),Hn(0,1,n)}function a5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sf=.35;function l5(t=Sf){return t===!1?t=0:t===!0&&(t=Sf),{x:Xv(t,"left","right"),y:Xv(t,"top","bottom")}}function Xv(t,e,n){return{min:Jv(t,e),max:Jv(t,n)}}function Jv(t,e){return typeof t=="number"?t:t[e]||0}const Zv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hs=()=>({x:Zv(),y:Zv()}),e_=()=>({min:0,max:0}),Ne=()=>({x:e_(),y:e_()});function zt(t){return[t("x"),t("y")]}function fS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function u5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function c5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fh(t){return t===void 0||t===1}function Af({scale:t,scaleX:e,scaleY:n}){return!Fh(t)||!Fh(e)||!Fh(n)}function Kr(t){return Af(t)||pS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function pS(t){return t_(t.x)||t_(t.y)}function t_(t){return t&&t!=="0%"}function Ou(t,e,n){const r=t-n,s=e*r;return n+s}function n_(t,e,n,r,s){return s!==void 0&&(t=Ou(t,s,r)),Ou(t,n,r)+e}function Cf(t,e=0,n=1,r,s){t.min=n_(t.min,e,n,r,s),t.max=n_(t.max,e,n,r,s)}function mS(t,{x:e,y:n}){Cf(t.x,e.translate,e.scale,e.originPoint),Cf(t.y,n.translate,n.scale,n.originPoint)}const r_=.999999999999,s_=1.0000000000001;function h5(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qs(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,mS(t,o)),r&&Kr(i.latestValues)&&qs(t,i.latestValues))}e.x<s_&&e.x>r_&&(e.x=1),e.y<s_&&e.y>r_&&(e.y=1)}function Ks(t,e){t.min=t.min+e,t.max=t.max+e}function i_(t,e,n,r,s=.5){const i=Ae(t.min,t.max,s);Cf(t,e,n,i,r)}function qs(t,e){i_(t.x,e.x,e.scaleX,e.scale,e.originX),i_(t.y,e.y,e.scaleY,e.scale,e.originY)}function gS(t,e){return fS(c5(t.getBoundingClientRect(),e))}function d5(t,e,n){const r=gS(t,n),{scroll:s}=e;return s&&(Ks(r.x,s.offset.x),Ks(r.y,s.offset.y)),r}const yS=({current:t})=>t?t.ownerDocument.defaultView:null,f5=new WeakMap;class p5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ne(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ma(h).point)},i=(h,f)=>{const{drag:p,dragPropagation:v,onDragStart:C}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=o4(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zt(k=>{let x=this.getAxisMotionValue(k).get()||0;if(Sn.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const T=y.layout.layoutBox[k];T&&(x=Ot(T)*(parseFloat(x)/100))}}this.originPoint[k]=x}),C&&ye.postRender(()=>C(h,f)),gf(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:C,onDrag:P}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:k}=f;if(v&&this.currentDirection===null){this.currentDirection=m5(k),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),P&&P(h,f)},a=(h,f)=>this.stop(h,f),u=()=>zt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new uS(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:yS(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ye.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!El(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=r5(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&$s(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=s5(s.layoutBox,n):this.constraints=!1,this.elastic=l5(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=a5(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$s(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=d5(r,s.root,this.visualElement.getTransformPagePoint());let o=i5(s.layout.layoutBox,i);if(n){const a=n(u5(o));this.hasMutatedConstraints=!!a,a&&(o=fS(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=zt(h=>{if(!El(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const p=s?200:1e6,v=s?40:1e7,C={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,C)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gf(this.visualElement,e),r.start(zm(e,r,0,n,this.visualElement,!1))}stopAnimation(){zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zt(n=>{const{drag:r}=this.getProps();if(!El(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Ae(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$s(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();s[o]=o5({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zt(o=>{if(!El(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(Ae(u,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;f5.set(this.visualElement,this);const e=this.visualElement.current,n=jo(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();$s(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ye.read(r);const o=_a(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(zt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Sf,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function El(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function m5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class g5 extends Lr{constructor(e){super(e),this.removeGroupControls=Lt,this.removeListeners=Lt,this.controls=new p5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const o_=t=>(e,n)=>{t&&ye.postRender(()=>t(e,n))};class y5 extends Lr{constructor(){super(...arguments),this.removePointerDownListener=Lt}onPointerDown(e){this.session=new uS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:o_(e),onStart:o_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ye.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=jo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const io={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const n=a_(t,e.target.x),r=a_(t,e.target.y);return`${n}% ${r}%`}},v5={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Nr.parse(t);if(s.length>5)return r;const i=Nr.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=u;const c=Ae(a,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class _5 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;FV(w5),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Wl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ye.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ym.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function vS(t){const[e,n]=eT(),r=D.useContext(pa);return g.jsx(_5,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(lT),isPresent:e,safeToRemove:n})}const w5={borderRadius:{...io,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:io,borderTopRightRadius:io,borderBottomLeftRadius:io,borderBottomRightRadius:io,boxShadow:v5};function x5(t,e,n){const r=pt(t)?t:ya(t);return r.start(zm("",r,e,n)),r.animation}function E5(t){return t instanceof SVGElement&&t.tagName!=="svg"}const T5=(t,e)=>t.depth-e.depth;class S5{constructor(){this.children=[],this.isDirty=!1}add(e){km(this.children,e),this.isDirty=!0}remove(e){Nm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(T5),this.isDirty=!1,this.children.forEach(e)}}function A5(t,e){const n=An.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(kr(r),t(i-e))};return ye.read(r,!0),()=>kr(r)}const _S=["TopLeft","TopRight","BottomLeft","BottomRight"],C5=_S.length,l_=t=>typeof t=="string"?parseFloat(t):t,u_=t=>typeof t=="number"||Y.test(t);function I5(t,e,n,r,s,i){s?(t.opacity=Ae(0,n.opacity!==void 0?n.opacity:1,P5(r)),t.opacityExit=Ae(e.opacity!==void 0?e.opacity:1,0,b5(r))):i&&(t.opacity=Ae(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<C5;o++){const a=`border${_S[o]}Radius`;let u=c_(e,a),c=c_(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||u_(u)===u_(c)?(t[a]=Math.max(Ae(l_(u),l_(c),r),0),(Sn.test(c)||Sn.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ae(e.rotate||0,n.rotate||0,r))}function c_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const P5=wS(0,.5,OT),b5=wS(.5,.95,Lt);function wS(t,e,n){return r=>r<t?0:r>e?1:n(yi(t,e,r))}function h_(t,e){t.min=e.min,t.max=e.max}function Ut(t,e){h_(t.x,e.x),h_(t.y,e.y)}function d_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function f_(t,e,n,r,s){return t-=e,t=Ou(t,1/n,r),s!==void 0&&(t=Ou(t,1/s,r)),t}function R5(t,e=0,n=1,r=.5,s,i=t,o=t){if(Sn.test(e)&&(e=parseFloat(e),e=Ae(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ae(i.min,i.max,r);t===i&&(a-=e),t.min=f_(t.min,e,n,a,s),t.max=f_(t.max,e,n,a,s)}function p_(t,e,[n,r,s],i,o){R5(t,e[n],e[r],e[s],e.scale,i,o)}const k5=["x","scaleX","originX"],N5=["y","scaleY","originY"];function m_(t,e,n,r){p_(t.x,e,k5,n?n.x:void 0,r?r.x:void 0),p_(t.y,e,N5,n?n.y:void 0,r?r.y:void 0)}function g_(t){return t.translate===0&&t.scale===1}function xS(t){return g_(t.x)&&g_(t.y)}function y_(t,e){return t.min===e.min&&t.max===e.max}function V5(t,e){return y_(t.x,e.x)&&y_(t.y,e.y)}function v_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ES(t,e){return v_(t.x,e.x)&&v_(t.y,e.y)}function __(t){return Ot(t.x)/Ot(t.y)}function w_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class D5{constructor(){this.members=[]}add(e){km(this.members,e),e.scheduleRender()}remove(e){if(Nm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function M5(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:p,skewX:v,skewY:C}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),v&&(r+=`skewX(${v}deg) `),C&&(r+=`skewY(${C}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const qr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_o=typeof window<"u"&&window.MotionDebug!==void 0,Bh=["","X","Y","Z"],L5={visibility:"hidden"},x_=1e3;let j5=0;function Uh(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function TS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=kT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ye,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&TS(r)}function SS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=j5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_o&&(qr.totalNodes=qr.resolvedTargetDeltas=qr.recalculatedProjection=0),this.nodes.forEach(B5),this.nodes.forEach(H5),this.nodes.forEach(K5),this.nodes.forEach(U5),_o&&window.MotionDebug.record(qr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new S5)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Vm),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=E5(o),this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||u)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=A5(p,250),Wl.hasAnimatedSinceResize&&(Wl.hasAnimatedSinceResize=!1,this.nodes.forEach(T_))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||h.getDefaultTransition()||X5,{onLayoutAnimationStart:k,onLayoutAnimationComplete:x}=h.getProps(),y=!this.targetLayout||!ES(this.targetLayout,C)||v,T=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const N={...Im(P,"layout"),onPlay:k,onComplete:x};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else p||T_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q5),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E_);return}this.isUpdating||this.nodes.forEach($5),this.isUpdating=!1,this.nodes.forEach(W5),this.nodes.forEach(O5),this.nodes.forEach(F5),this.clearAllSnapshots();const a=An.now();nt.delta=Hn(0,1e3/60,a-nt.timestamp),nt.timestamp=a,nt.isProcessing=!0,kh.update.process(nt),kh.preRender.process(nt),kh.render.process(nt),nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ym.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z5),this.sharedNodes.forEach(G5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!xS(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Kr(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),J5(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ne();const u=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Z5))){const{scroll:h}=this.root;h&&(Ks(u.x,h.offset.x),Ks(u.y,h.offset.y))}return u}removeElementScroll(o){var a;const u=Ne();if(Ut(u,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return u;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Ut(u,o),Ks(u.x,f.offset.x),Ks(u.y,f.offset.y))}return u}applyTransform(o,a=!1){const u=Ne();Ut(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&qs(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Kr(h.latestValues)&&qs(u,h.latestValues)}return Kr(this.latestValues)&&qs(u,this.latestValues),u}removeTransform(o){const a=Ne();Ut(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Kr(c.latestValues))continue;Af(c.latestValues)&&c.updateSnapshot();const h=Ne(),f=c.measurePageBox();Ut(h,f),m_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Kr(this.latestValues)&&m_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=nt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),Fo(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ne(),this.targetWithTransforms=Ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),n5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ut(this.target,this.layout.layoutBox),mS(this.target,this.targetDelta)):Ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),Fo(this.relativeTargetOrigin,this.target,v.target),Ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_o&&qr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Af(this.parent.latestValues)||pS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===nt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Ut(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;h5(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ne());const{target:C}=a;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(d_(this.prevProjectionDelta.x,this.projectionDelta.x),d_(this.prevProjectionDelta.y,this.projectionDelta.y)),Oo(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!w_(this.projectionDelta.x,this.prevProjectionDelta.x)||!w_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),_o&&qr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hs(),this.projectionDelta=Hs(),this.projectionDeltaWithTransform=Hs()}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},f=Hs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ne(),v=u?u.source:void 0,C=this.layout?this.layout.source:void 0,P=v!==C,k=this.getStack(),x=!k||k.members.length<=1,y=!!(P&&!x&&this.options.crossfade===!0&&!this.path.some(Y5));this.animationProgress=0;let T;this.mixTargetDelta=N=>{const V=N/1e3;S_(f.x,o.x,V),S_(f.y,o.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Q5(this.relativeTarget,this.relativeTargetOrigin,p,V),T&&V5(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ne()),Ut(T,this.relativeTarget)),P&&(this.animationValues=h,I5(h,c,this.latestValues,V,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{Wl.hasAnimatedSinceResize=!0,this.currentAnimation=x5(0,x_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(x_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&AS(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Ne();const f=Ot(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const p=Ot(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}Ut(a,u),qs(a,h),Oo(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new D5),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&Uh("z",o,c,this.animationValues);for(let h=0;h<Bh.length;h++)Uh(`rotate${Bh[h]}`,o,c,this.animationValues),Uh(`skew${Bh[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return L5;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=zl(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=zl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Kr(this.latestValues)&&(P.transform=h?h({},""):"none",this.hasProjected=!1),P}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=M5(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:v,y:C}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${C.origin*100}% 0`,f.animationValues?c.opacity=f===this?(u=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const P in Vu){if(p[P]===void 0)continue;const{correct:k,applyTo:x}=Vu[P],y=c.transform==="none"?p[P]:k(p[P],f);if(x){const T=x.length;for(let N=0;N<T;N++)c[x[N]]=y}else c[P]=y}return this.options.layoutId&&(c.pointerEvents=f===this?zl(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(E_),this.root.sharedNodes.clear()}}}function O5(t){t.updateLayout()}function F5(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?zt(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],v=Ot(p);p.min=r[f].min,p.max=p.min+v}):AS(i,n.layoutBox,r)&&zt(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],v=Ot(r[f]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const a=Hs();Oo(a,r,n.layoutBox);const u=Hs();o?Oo(u,t.applyTransform(s,!0),n.measuredBox):Oo(u,r,n.layoutBox);const c=!xS(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:v}=f;if(p&&v){const C=Ne();Fo(C,n.layoutBox,p.layoutBox);const P=Ne();Fo(P,r,v.layoutBox),ES(C,P)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=C,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function B5(t){_o&&qr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function U5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function z5(t){t.clearSnapshot()}function E_(t){t.clearMeasurements()}function $5(t){t.isLayoutDirty=!1}function W5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function T_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function H5(t){t.resolveTargetDelta()}function K5(t){t.calcProjection()}function q5(t){t.resetSkewAndRotation()}function G5(t){t.removeLeadSnapshot()}function S_(t,e,n){t.translate=Ae(e.translate,0,n),t.scale=Ae(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function A_(t,e,n,r){t.min=Ae(e.min,n.min,r),t.max=Ae(e.max,n.max,r)}function Q5(t,e,n,r){A_(t.x,e.x,n.x,r),A_(t.y,e.y,n.y,r)}function Y5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const X5={duration:.45,ease:[.4,0,.1,1]},C_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),I_=C_("applewebkit/")&&!C_("chrome/")?Math.round:Lt;function P_(t){t.min=I_(t.min),t.max=I_(t.max)}function J5(t){P_(t.x),P_(t.y)}function AS(t,e,n){return t==="position"||t==="preserve-aspect"&&!t5(__(e),__(n),.2)}function Z5(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const eM=SS({attachResizeListener:(t,e)=>_a(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zh={current:void 0},CS=SS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zh.current){const t=new eM({});t.mount(window),t.setOptions({layoutScroll:!0}),zh.current=t}return zh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),tM={pan:{Feature:y5},drag:{Feature:g5,ProjectionNode:CS,MeasureLayout:vS}};function b_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ye.postRender(()=>i(e,Ma(e)))}class nM extends Lr{mount(){const{current:e}=this.node;e&&(this.unmount=t4(e,n=>(b_(this.node,n,"Start"),r=>b_(this.node,r,"End"))))}unmount(){}}class rM extends Lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Da(_a(this.node.current,"focus",()=>this.onFocus()),_a(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R_(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ye.postRender(()=>i(e,Ma(e)))}class sM extends Lr{mount(){const{current:e}=this.node;e&&(this.unmount=i4(e,n=>(R_(this.node,n,"Start"),(r,{success:s})=>R_(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const If=new WeakMap,$h=new WeakMap,iM=t=>{const e=If.get(t.target);e&&e(t)},oM=t=>{t.forEach(iM)};function aM({root:t,...e}){const n=t||document;$h.has(n)||$h.set(n,{});const r=$h.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(oM,{root:t,...e})),r[s]}function lM(t,e,n){const r=aM(e);return If.set(t,n),r.observe(t),()=>{If.delete(t),r.unobserve(t)}}const uM={some:0,all:1};class cM extends Lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:uM[s]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=c?h:f;p&&p(u)};return lM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hM(e,n))&&this.startObserver()}unmount(){}}function hM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const dM={inView:{Feature:cM},tap:{Feature:sM},focus:{Feature:rM},hover:{Feature:nM}},fM={layout:{ProjectionNode:CS,MeasureLayout:vS}},Pf={current:null},IS={current:!1};function pM(){if(IS.current=!0,!!hm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pf.current=t.matches;t.addListener(e),e()}else Pf.current=!1}const mM=[...JT,ct,Nr],gM=t=>mM.find(XT(t)),k_=new WeakMap;function yM(t,e,n){for(const r in e){const s=e[r],i=n[r];if(pt(s))t.addValue(r,s);else if(pt(i))t.addValue(r,ya(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ya(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const N_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=An.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ye.render(this.render,!1,!0))};const{latestValues:u,renderState:c,onUpdate:h}=o;this.onUpdate=h,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ac(n),this.isVariantNode=oT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in p){const C=p[v];u[v]!==void 0&&pt(C)&&C.set(u[v],!1)}}mount(e){this.current=e,k_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),IS.current||pM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){k_.delete(this.current),this.projection&&this.projection.unmount(),kr(this.notifyUpdate),kr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ws.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vi){const n=vi[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ne()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<N_.length;r++){const s=N_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=yM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ya(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(QT(s)||BT(s))?s=parseFloat(s):!gM(s)&&Nr.test(n)&&(s=KT(e,n)),this.setBaseTarget(e,pt(s)?s.get():s)),pt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=_m(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class PS extends vM{constructor(){super(...arguments),this.KeyframeResolver=ZT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _M(t){return window.getComputedStyle(t)}class wM extends PS{constructor(){super(...arguments),this.type="html",this.renderInstance=mT}readValueFromInstance(e,n){if(ws.has(n)){const r=Om(n);return r&&r.default||0}else{const r=_M(e),s=(dT(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gS(e,n)}build(e,n,r){Em(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Cm(e,n,r)}}class xM extends PS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ne}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ws.has(n)){const r=Om(n);return r&&r.default||0}return n=gT.has(n)?n:gm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _T(e,n,r)}build(e,n,r){Tm(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){yT(e,n,r,s)}mount(e){this.isSVGTag=Am(e.tagName),super.mount(e)}}const EM=(t,e)=>vm(t)?new xM(e):new wM(e,{allowProjection:t!==D.Fragment}),TM=GV({...KD,...dM,...tM,...fM},EM),Ct=uV(TM);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Be=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},h)=>D.createElement("svg",{ref:h,...SM,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${AM(t)}`,a].join(" "),...c},[...e.map(([f,p])=>D.createElement(f,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=Be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=Be("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=Be("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=Be("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=Be("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Be("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function DS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=DS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xe(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=DS(t))&&(r&&(r+=" "),r+=e);return r}const M_=1e4;function DM(t,e,n=10){if(!t.booths||t.booths.length===0)return"linear-gradient(to left, transparent, transparent)";const r=t.booths.map(i=>{var o;return(o=e.find(a=>a.id===i))==null?void 0:o.color}).filter(Boolean);return r.length===0?"linear-gradient(to left, #64748b, #64748b)":r.length===1?`linear-gradient(to left, ${r[0]}, ${r[0]})`:`linear-gradient(to left, ${r.map((i,o)=>{const a=o/r.length*100,u=(o+1)/r.length*100;return`${i} ${a}%, ${i} ${u}%`}).join(", ")})`}function MM(t,e){if(!t.booths||t.booths.length===0)return"linear-gradient(to bottom, transparent, transparent)";const n=t.booths.map(s=>{var i;return(i=e.find(o=>o.id===s))==null?void 0:i.color}).filter(Boolean);return n.length===0?"linear-gradient(to bottom, #64748b, #64748b)":n.length===1?`linear-gradient(to bottom, ${n[0]}, ${n[0]})`:`linear-gradient(to bottom, ${n.map((s,i)=>{const o=i/n.length*100,a=(i+1)/n.length*100;return`${s} ${o}%, ${s} ${a}%`}).join(", ")})`}function LM(){const{units:t,config:e,refreshData:n}=ka(),[r,s]=D.useState(0),[i,o]=D.useState(new Date),[a,u]=D.useState(!1),c=(e==null?void 0:e.pageSize)||10;D.useEffect(()=>{const y=setInterval(()=>{o(new Date)},1e3);return()=>clearInterval(y)},[]);const h=D.useMemo(()=>{let y=t;return e.showZero===!1&&(y=t.filter(T=>T.booths&&T.booths.length>0)),[...y].sort((T,N)=>{var V,j;return(((V=N.booths)==null?void 0:V.length)||0)-(((j=T.booths)==null?void 0:j.length)||0)})},[t,e.showZero]),f=D.useMemo(()=>h.slice(0,3),[h]),p=D.useMemo(()=>h.slice(3),[h]),v=Math.ceil(p.length/c)||1;D.useEffect(()=>{const y=setInterval(()=>{s(T=>(T+1)%v)},M_);return()=>clearInterval(y)},[v]),D.useEffect(()=>{r>=v&&v>0&&s(0)},[r,v]);const C=p.slice(r*c,(r+1)*c),P=e.availableBooths||[],k=t.filter(y=>{var T;return((T=y.booths)==null?void 0:T.length)>=P.length}).length,x=t.reduce((y,T)=>{var N;return y+(((N=T.booths)==null?void 0:N.length)||0)},0);return t.length>0&&(x/t.length).toFixed(1),g.jsxs("div",{className:"flex flex-col lg:flex-row h-screen w-full bg-gradient-to-br from-[#0a0e1a] via-[#0d1626] to-[#0a1320] text-white overflow-y-auto lg:overflow-hidden p-3 pt-24 lg:p-6 lg:pt-32 gap-3 lg:gap-6 font-['Heebo'] relative selection:bg-cyan-500/30 select-none cursor-default",dir:"rtl",children:[g.jsx("div",{className:"absolute top-[-20%] right-[10%] w-[700px] h-[700px] bg-cyan-400/20 rounded-full blur-[180px] pointer-events-none animate-pulse"}),g.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[800px] h-[800px] bg-blue-400/15 rounded-full blur-[200px] pointer-events-none"}),g.jsx("div",{className:"absolute top-[30%] left-[30%] w-[600px] h-[600px] bg-sky-300/10 rounded-full blur-[160px] pointer-events-none"}),g.jsx("div",{className:"absolute bottom-[20%] right-[20%] w-[500px] h-[500px] bg-indigo-400/12 rounded-full blur-[140px] pointer-events-none animate-pulse"}),g.jsxs("div",{className:"absolute top-6 lg:top-10 left-0 w-full flex items-center px-4 lg:px-8 z-40",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx(jM,{currentTime:i})}),g.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 text-2xl lg:text-5xl font-black text-white drop-shadow-[0_0_30px_rgba(6,182,212,0.6)] tracking-wider whitespace-nowrap",children:'  " | 2026'})]}),g.jsx("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 lg:top-5 lg:left-8 lg:translate-x-0 flex gap-2 lg:gap-4 z-50 scale-50 lg:scale-100",children:g.jsx("img",{src:"/logos/1.png",alt:"Partner Logo 3",className:"h-20 w-auto object-cover drop-shadow-xl hover:scale-105 transition-transform cursor-pointer"})}),g.jsxs("aside",{className:"w-full lg:w-72 flex flex-col gap-3 lg:gap-4 shrink-0 z-20 order-1 lg:order-none",children:[g.jsxs("div",{className:"flex-[3] grid grid-cols-2 lg:flex lg:flex-col gap-3 lg:gap-6 bg-slate-800/40 rounded-2xl lg:rounded-3xl p-4 lg:p-8 border border-cyan-400/20 backdrop-blur-xl shadow-[0_0_60px_rgba(6,182,212,0.3)] relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 via-transparent to-blue-500/5 rounded-3xl pointer-events-none"}),g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400/0 via-cyan-400/20 to-cyan-400/0 rounded-3xl blur-2xl opacity-50 pointer-events-none"}),g.jsxs("div",{className:"text-center mb-2 col-span-2 relative z-10",children:[g.jsx("h2",{className:"text-xl lg:text-3xl font-black text-white drop-shadow-[0_0_20px_rgba(6,182,212,0.8)]",children:" "}),g.jsx("div",{className:"w-12 h-1 bg-cyan-400 mx-auto mt-2 lg:mt-4 rounded-full shadow-[0_0_20px_rgba(6,182,212,0.8)]"})]}),g.jsx(Tl,{icon:VM,label:" ",value:t.length,color:"from-blue-400 to-blue-600"}),g.jsx(Tl,{icon:NS,label:" ",value:P.length,color:"from-purple-400 to-purple-600"}),g.jsx(Tl,{icon:D_,label:" ",value:k,color:"from-amber-400 to-orange-500"}),g.jsx(Tl,{icon:bM,label:" ",value:x,color:"from-emerald-400 to-emerald-600"})]}),g.jsxs("div",{onClick:async()=>{a||(u(!0),await n(),setTimeout(()=>u(!1),500))},className:Xe("flex-[1] flex items-center justify-center bg-slate-900/60 rounded-2xl lg:rounded-3xl p-2 lg:p-4 border border-cyan-400/20 backdrop-blur-xl relative overflow-hidden group shadow-[0_0_40px_rgba(6,182,212,0.2)] cursor-pointer transition-all",a&&"opacity-60"),children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/10 to-blue-500/10 opacity-0 group-hover:opacity-100 group-active:opacity-50 transition-opacity"}),g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400/20 via-blue-400/20 to-purple-400/20 rounded-3xl blur-xl opacity-30 group-hover:opacity-60 transition-opacity"}),g.jsx("img",{src:"/logos/al_log_ban.png",alt:"Alpha Banner",className:Xe("w-full h-full object-contain relative z-10 drop-shadow-[0_0_30px_rgba(6,182,212,0.4)] scale-110 group-hover:drop-shadow-[0_0_50px_rgba(6,182,212,0.6)] transition-all group-active:scale-105",a&&"animate-pulse")})]})]}),g.jsxs("aside",{className:"hidden lg:flex w-48 flex-col gap-4 shrink-0 z-20 order-3 bg-slate-800/20 rounded-2xl p-4 border border-cyan-400/10 backdrop-blur-md",children:[g.jsx("h3",{className:"text-xl font-black text-cyan-400 mb-2",children:" "}),P.map(y=>g.jsxs("div",{className:"flex items-center gap-3 py-1.5",children:[g.jsx("div",{className:"w-5 h-5 rounded-full shrink-0 shadow-lg ring-2 ring-white/20",style:{backgroundColor:y.color}}),g.jsx("span",{className:"text-white font-bold text-lg leading-tight",title:y.name,children:y.name})]},y.id)),P.length===0&&g.jsx("div",{className:"text-base text-slate-500 text-center py-4",children:"  "})]}),g.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-3 lg:gap-6 z-20 order-2 lg:order-none",children:[g.jsxs("section",{className:"flex-[1.5] flex flex-col bg-slate-800/20 rounded-2xl lg:rounded-3xl p-4 lg:p-8 border border-cyan-400/10 backdrop-blur-md relative shadow-xl",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent rounded-3xl pointer-events-none"}),g.jsxs("h2",{className:"text-lg lg:text-2xl font-bold mb-4 lg:mb-8 text-center text-white/90 flex items-center justify-center gap-2 lg:gap-3 relative z-10",children:[g.jsx("div",{className:"p-1.5 lg:p-2 bg-yellow-500/20 rounded-lg text-yellow-400",children:g.jsx(D_,{className:"w-4 h-4 lg:w-6 lg:h-6"})}),""]}),g.jsx("div",{className:"flex-1 flex items-end justify-center gap-3 lg:gap-6 pb-4 lg:pb-8",children:g.jsxs(vv,{id:"podium",children:[f[1]&&g.jsx(Wh,{unit:f[1],rank:2,color:"from-slate-300 via-slate-400 to-slate-500",height:"60%",delay:.2,availableBooths:P}),f[0]&&g.jsx(Wh,{unit:f[0],rank:1,color:"from-yellow-300 via-yellow-500 to-yellow-600",height:"85%",delay:0,availableBooths:P}),f[2]&&g.jsx(Wh,{unit:f[2],rank:3,color:"from-orange-300 via-orange-400 to-orange-500",height:"45%",delay:.4,availableBooths:P})]})})]}),g.jsxs("section",{className:"flex-[3] flex flex-col bg-slate-800/20 rounded-2xl lg:rounded-3xl p-4 lg:p-8 border border-cyan-400/20 backdrop-blur-md overflow-hidden relative shadow-[0_0_60px_rgba(6,182,212,0.25)]",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/8 via-blue-400/5 to-sky-400/8 rounded-3xl pointer-events-none"}),g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400/15 via-blue-400/15 to-purple-400/15 rounded-3xl blur-2xl opacity-40 pointer-events-none"}),g.jsxs("div",{className:"flex justify-between items-center mb-3 lg:mb-6 px-1 lg:px-2",children:[g.jsx("h2",{className:"text-lg lg:text-2xl font-bold text-cyan-400 drop-shadow-[0_0_15px_rgba(6,182,212,0.6)] relative z-10",children:" "}),g.jsxs("div",{className:"text-xs lg:text-sm font-bold text-cyan-300 bg-slate-900/60 px-2 lg:px-4 py-1 lg:py-1.5 rounded-full border border-cyan-400/30 shadow-[0_0_20px_rgba(6,182,212,0.3)] relative z-10",children:[" ",r+1," / ",v]})]}),g.jsx("div",{className:"flex-1 grid grid-cols-1 content-start gap-3",children:g.jsx(Mo,{mode:"popLayout",children:g.jsx(Ct.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.4},className:"w-full h-full flex flex-col gap-3",children:g.jsx(vv,{id:`batch-${r}`,children:C.map(y=>g.jsx(FM,{unit:y,availableBooths:P},y.id))})},r)})}),g.jsx("div",{className:"absolute bottom-2 lg:bottom-4 left-0 w-full flex justify-center items-center gap-1.5 lg:gap-2 z-10",children:Array.from({length:v}).map((y,T)=>{const N=T===r;return g.jsx("div",{className:"relative flex items-center justify-center",children:g.jsx(Ct.div,{layout:!0,initial:!1,animate:{width:N?32:6,backgroundColor:N?"rgba(6,182,212,0.3)":"rgba(255,255,255,0.2)"},className:Xe("h-2 rounded-full backdrop-blur-sm transition-colors duration-300",!N&&"hover:bg-white/40 cursor-pointer"),onClick:()=>s(T),children:N&&g.jsx(Ct.div,{className:"h-full bg-cyan-400 rounded-full shadow-[0_0_10px_rgba(6,182,212,0.5)]",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:M_/1e3,ease:"linear"}})})},T)})})]})]})]})}function jM({currentTime:t}){const e=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0"),r=String(t.getSeconds()).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0");return t.getFullYear(),["","","","","","",""][t.getDay()],g.jsxs(Ct.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-slate-900/80 backdrop-blur-xl rounded-xl lg:rounded-2xl px-4  py-2 lg:py-3 border border-cyan-400/40 shadow-[0_0_50px_rgba(6,182,212,0.4)] relative overflow-hidden",dir:"ltr",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/15 to-blue-400/15 pointer-events-none"}),g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400/30 via-blue-400/30 to-sky-400/30 rounded-2xl blur-xl opacity-60 pointer-events-none animate-pulse"}),g.jsxs("div",{className:"relative z-10 flex items-center gap-2 lg:gap-3",children:[g.jsxs("div",{className:"flex items-center gap-1 lg:gap-1.5",children:[g.jsxs("div",{className:"relative inline-block",children:[g.jsx(Mo,{mode:"wait",children:g.jsx(Ct.span,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.2},className:"text-xl lg:text-3xl font-black font-mono text-cyan-400 drop-shadow-[0_0_10px_rgba(6,182,212,0.8)] absolute inset-0",children:e},e)}),g.jsx("span",{className:"text-xl lg:text-3xl font-black font-mono opacity-0",children:e})]}),g.jsx("span",{className:"text-xl lg:text-3xl font-black text-cyan-500/50 animate-pulse",children:":"}),g.jsxs("div",{className:"relative inline-block",children:[g.jsx(Mo,{mode:"wait",children:g.jsx(Ct.span,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.2},className:"text-xl lg:text-3xl font-black font-mono text-cyan-400 drop-shadow-[0_0_10px_rgba(6,182,212,0.8)] absolute inset-0",children:n},n)}),g.jsx("span",{className:"text-xl lg:text-3xl font-black font-mono opacity-0",children:n})]}),g.jsx("span",{className:"text-lg lg:text-2xl font-black text-cyan-500/50 animate-pulse",children:":"}),g.jsxs("div",{className:"relative inline-block",children:[g.jsx(Mo,{mode:"wait",children:g.jsx(Ct.span,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.2},className:"text-lg lg:text-2xl font-black font-mono text-blue-400 drop-shadow-[0_0_8px_rgba(59,130,246,0.6)] absolute inset-0",children:r},r)}),g.jsx("span",{className:"text-lg lg:text-2xl font-black font-mono opacity-0",children:r})]})]}),g.jsx("div",{className:"w-px h-6 lg:h-8 bg-cyan-500/30"}),g.jsx("div",{className:"flex items-center gap-1.5 lg:gap-2",children:g.jsxs("div",{className:"text-xs lg:text-xl mt-1 font-bold text-slate-300 whitespace-nowrap",children:[s,"/",i,"/26"]})})]})]})}function Tl({icon:t,label:e,value:n,color:r}){return g.jsxs("div",{className:"bg-slate-900/40 p-2 lg:p-4 rounded-xl lg:rounded-2xl border border-cyan-400/10 flex items-center gap-3 lg:gap-5 hover:bg-slate-900/60 hover:border-cyan-400/30 hover:shadow-[0_0_30px_rgba(6,182,212,0.3)] transition-all group relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/0 via-cyan-400/5 to-blue-400/0 opacity-0 group-hover:opacity-100 transition-opacity"}),g.jsx("div",{className:Xe("p-2 lg:p-3.5 rounded-lg lg:rounded-xl bg-gradient-to-br shadow-lg group-hover:scale-110 group-hover:shadow-[0_0_25px_rgba(6,182,212,0.5)] transition-all relative z-10",r),children:g.jsx(t,{size:18,className:"lg:w-[26px] lg:h-[26px] text-white drop-shadow-md"})}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("div",{className:"text-xl lg:text-3xl font-black font-mono text-white tracking-tight drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]",children:n}),g.jsx("div",{className:"text-xs lg:text-sm font-medium text-slate-400",children:e})]})]})}function MS({unit:t,className:e}){const{getUnitLogo:n}=ka(),r=n(t);if(r)return g.jsx("img",{src:r,alt:t.name,className:Xe("rounded-full border-2 border-slate-600/50 shadow-lg object-cover bg-white",e)});const s=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=random&color=fff&bold=true`;return g.jsx("img",{src:s,alt:t.name,className:Xe("rounded-full border-2 border-slate-600/50 shadow-lg",e)})}function Wh({unit:t,rank:e,color:n,height:r,delay:s,availableBooths:i}){var h,f;const o=MM(t,i),a=Math.max(i.length,1),u=((h=t.booths)==null?void 0:h.length)||0,c=Math.min(100,u/a*100);return g.jsxs(Ct.div,{layoutId:`unit-${t.id}`,className:"flex flex-col items-center justify-end w-1/3 max-w-[100px] relative z-10",style:{height:"100%"},transition:{type:"spring",stiffness:60,damping:15},children:[g.jsxs("div",{className:"mb-2 lg:mb-4 text-center flex flex-col items-center gap-1 lg:gap-2",children:[g.jsx(MS,{unit:t,className:"w-10 h-10 lg:w-14 lg:h-14 ring-2 lg:ring-4 ring-black/20"}),g.jsx(Ct.div,{className:"text-xs lg:text-sm font-bold text-slate-200 bg-slate-900/60 px-2 lg:px-3 py-0.5 lg:py-1 rounded-full border border-white/10 backdrop-blur-sm mt-0.5 lg:mt-1 shadow-lg whitespace-nowrap",layout:!0,children:t.name}),g.jsx("div",{className:"font-mono font-black text-white text-xl lg:text-3xl drop-shadow-[0_2px_4px_rgba(0,0,0,0.5)]",children:((f=t.booths)==null?void 0:f.length)||0})]}),g.jsxs(Ct.div,{className:"w-full rounded-t-2xl relative shadow-[0_0_40px_rgba(6,182,212,0.4)] border-x border-t border-cyan-400/30 overflow-hidden bg-slate-900/60 backdrop-blur-sm",initial:{height:0},animate:{height:r},transition:{type:"spring",stiffness:50,damping:15},children:[g.jsx("div",{className:"absolute inset-0 bg-[url('/noise.png')] opacity-5 mix-blend-overlay"}),g.jsx(Ct.div,{className:"absolute bottom-0 left-0 right-0 w-full",style:{background:o},initial:{height:0},animate:{height:`${c}%`},transition:{type:"spring",stiffness:40,damping:20,delay:.2},children:g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-white/50 shadow-[0_0_10px_white]"})}),g.jsx("div",{className:"absolute top-2 lg:top-4 w-full text-center font-black text-white text-3xl lg:text-5xl drop-shadow-[0_0_20px_rgba(255,255,255,0.8)] opacity-40 mix-blend-overlay z-20 pointer-events-none",children:e}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-cyan-400/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"})]}),g.jsxs("div",{className:"mt-1 lg:mt-3 font-bold text-slate-400 text-xs lg:text-sm tracking-widest",children:[" ",e]})]})}function OM({text:t,className:e}){var o;const n=bs.useRef(null),r=bs.useRef(null),[s,i]=bs.useState(!1);return bs.useEffect(()=>{if(n.current&&r.current){const a=n.current.scrollWidth,u=r.current.clientWidth;i(a>u)}},[t]),g.jsx("div",{ref:r,className:`overflow-hidden ${e}`,style:s?{"--container-width":`${((o=r.current)==null?void 0:o.clientWidth)||0}px`}:{},children:g.jsx("div",{ref:n,className:s?"inline-block whitespace-nowrap":"truncate",style:s?{animation:"scroll-text 4s linear infinite"}:{},children:t})})}function FM({unit:t,availableBooths:e}){var o;const n=e.length,r=((o=t.booths)==null?void 0:o.length)||0,s=`${Math.min(100,r/Math.max(n,1)*100)}%`,i=DM(t,e);return g.jsxs(Ct.div,{layoutId:`row-${t.id}`,className:"flex items-center gap-2 lg:gap-4 p-2 lg:p-3 bg-slate-900/30 rounded-xl border border-cyan-400/10 hover:bg-slate-900/50 hover:border-cyan-400/30 hover:shadow-[0_0_25px_rgba(6,182,212,0.25)] transition-all group relative overflow-hidden",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:400,damping:30},children:[g.jsxs("div",{className:"w-6 lg:w-8 font-mono text-slate-500 text-xs lg:text-sm font-bold text-center group-hover:text-cyan-400 transition-colors",children:["#",t.id]}),g.jsx(MS,{unit:t,className:"w-8 h-8 lg:w-10 lg:h-10 shrink-0"}),g.jsx(OM,{text:t.name,className:"w-20 lg:w-32 font-bold text-slate-200 group-hover:text-white transition-colors text-sm lg:text-lg"}),g.jsx("div",{className:"flex-1 h-2.5 lg:h-3.5 bg-black/40 rounded-full overflow-hidden relative shadow-inner cursor-default",children:g.jsx(Ct.div,{layout:!0,className:"h-full rounded-full shadow-[0_0_20px_rgba(6,182,212,0.7)] relative group-hover:shadow-[0_0_30px_rgba(6,182,212,0.9)]",style:{background:i},initial:{width:0},animate:{width:s},transition:{type:"spring",stiffness:50,damping:15},children:g.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-1 bg-white/30"})})}),g.jsx("div",{className:"w-10 lg:w-12 font-mono font-black text-white text-right text-base lg:text-xl drop-shadow-sm",children:r})]})}const BM="2026",L_="admin_authenticated";function UM(){const t=Cp(),{units:e,config:n,updateUnit:r,addUnit:s,removeUnit:i,updateConfig:o,resetData:a,refreshData:u,addBoothToUnit:c,removeBoothFromUnit:h,logos:f,clearAllEmbeddedLogos:p,getUnitLogo:v}=ka(),[C,P]=D.useState(()=>localStorage.getItem(L_)==="true"),[k,x]=D.useState(""),[y,T]=D.useState(!1),[N,V]=D.useState(!1),[j,S]=D.useState(""),[_,A]=D.useState("name"),[b,R]=D.useState(null),[I,E]=D.useState({name:"",logo:""}),[W,Q]=D.useState(!1),[oe,ne]=D.useState(""),[F,q]=D.useState({show:!1,type:null,unitId:null,unitName:null}),[J,fe]=D.useState(!1),[ve,bn]=D.useState(!1),Et=ce=>{ce.preventDefault(),k===BM?(P(!0),localStorage.setItem(L_,"true"),T(!1)):(T(!0),setTimeout(()=>T(!1),2e3))},cn=D.useMemo(()=>{const ce=e.filter(ot=>ot.name.toLowerCase().includes(j.toLowerCase())||ot.id.toString().includes(j));return _==="score"?[...ce].sort((ot,Xt)=>Xt.score-ot.score):[...ce].sort((ot,Xt)=>ot.name.localeCompare(Xt.name,"he"))},[e,j,_]),Rt=ce=>{R(ce.id),E({name:ce.name,logo:ce.logo||"",logoId:ce.logoId||null})},hn=()=>{r(b,I),R(null)},Ni=ce=>{ce.preventDefault(),oe.trim()&&(s(oe),ne(""))},La=async ce=>{const ot=ce.target.files[0];if(ot)try{const Xt=await ZE(ot,150,.6);E(qn=>({...qn,logo:Xt}))}catch(Xt){console.error("Error compressing image:",Xt);const qn=new FileReader;qn.onloadend=()=>{E(qe=>({...qe,logo:qn.result}))},qn.readAsDataURL(ot)}},bc=()=>{q({show:!0,type:"reset",unitId:null,unitName:null})},Rc=(ce,ot)=>{q({show:!0,type:"remove",unitId:ce,unitName:ot})},ja=()=>{F.type==="reset"?a():F.type==="remove"&&i(F.unitId),q({show:!1,type:null,unitId:null,unitName:null})},Vi=()=>{q({show:!1,type:null,unitId:null,unitName:null})},Oa=async()=>{V(!0),await u(),setTimeout(()=>V(!1),500)};return C?g.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-[#0a0e1a] via-[#0d1626] to-[#0a1320] text-white font-['Heebo'] selection:bg-cyan-500/30 overflow-hidden",dir:"rtl",children:[g.jsx("div",{className:"absolute top-[-20%] right-[10%] w-[500px] h-[500px] bg-cyan-900/10 rounded-full blur-[120px] pointer-events-none"}),g.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-blue-900/10 rounded-full blur-[150px] pointer-events-none"}),g.jsxs("header",{className:"sticky top-0 z-50 bg-[#0d1626]/90 backdrop-blur-xl border-b border-white/10 p-2 sm:p-3 lg:p-4 shadow-2xl",children:[g.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-2 sm:gap-3 lg:gap-6",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2 lg:gap-6",children:[g.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[g.jsx("div",{className:"p-1.5 lg:p-2 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg shadow-lg",children:g.jsx(V_,{className:"text-white w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6"})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-base sm:text-xl lg:text-2xl font-black tracking-wide text-white",children:" "}),g.jsx("div",{className:"text-[10px] sm:text-xs lg:text-sm font-medium text-slate-400",children:" "})]})]}),g.jsx("div",{className:"flex gap-2 sm:gap-4",children:g.jsx($M,{label:"",value:e.length,color:"bg-blue-500/20 text-blue-300"})})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-1",children:[g.jsxs("div",{className:"relative group flex-1 sm:max-w-xs lg:max-w-md transition-all focus-within:sm:max-w-sm focus-within:lg:max-w-xl",children:[g.jsx(bf,{className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-cyan-400 transition-colors",size:16}),g.jsx("input",{type:"text",placeholder:" ...",className:"w-full pl-3 pr-8 sm:pl-4 sm:pr-10 py-2 sm:py-2.5 text-sm sm:text-base rounded-xl border border-white/10 bg-slate-900/50 focus:bg-slate-900/80 focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 outline-none transition-all placeholder:text-slate-500",value:j,onChange:ce=>S(ce.target.value)})]}),g.jsxs("div",{className:"flex gap-1.5 sm:gap-2 items-center flex-wrap",children:[g.jsxs("button",{onClick:()=>A(ce=>ce==="name"?"score":"name"),className:Xe("flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2.5 rounded-lg sm:rounded-xl transition-all border text-xs sm:text-sm font-bold whitespace-nowrap",_==="score"?"bg-cyan-500/20 text-cyan-400 border-cyan-500/50":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white border-white/10"),children:[_==="score"?g.jsx(IM,{size:14,className:"sm:w-[16px] sm:h-[16px]"}):g.jsx(PM,{size:14,className:"sm:w-[16px] sm:h-[16px]"}),g.jsx("span",{className:"hidden sm:inline",children:_==="score"?" ":" "}),g.jsx("span",{className:"sm:hidden",children:_==="score"?"":""})]}),g.jsxs("button",{onClick:()=>fe(!J),className:Xe("flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2.5 rounded-lg sm:rounded-xl transition-all border text-xs sm:text-sm font-bold whitespace-nowrap touch-manipulation",J?"bg-emerald-500/20 text-emerald-400 border-emerald-500/50":"bg-slate-800/50 text-slate-400 hover:bg-emerald-500/10 hover:text-emerald-400 border-white/10 hover:border-emerald-500/30"),children:[g.jsx(Fu,{size:14,className:"sm:w-[16px] sm:h-[16px]"}),g.jsx("span",{className:"hidden sm:inline",children:""})]}),g.jsxs("button",{onClick:()=>t("/admin/booths"),className:"flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2.5 rounded-lg sm:rounded-xl transition-all border text-xs sm:text-sm font-bold whitespace-nowrap touch-manipulation bg-purple-500/20 text-purple-400 border-purple-500/50 hover:bg-purple-500/30",children:[g.jsx(NS,{size:14,className:"sm:w-[16px] sm:h-[16px]"}),g.jsx("span",{className:"hidden sm:inline",children:" "})]}),g.jsxs("button",{onClick:()=>t("/admin/logos"),className:"flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2.5 rounded-lg sm:rounded-xl transition-all border text-xs sm:text-sm font-bold whitespace-nowrap touch-manipulation bg-pink-500/20 text-pink-400 border-pink-500/50 hover:bg-pink-500/30",children:[g.jsx($m,{size:14,className:"sm:w-[16px] sm:h-[16px]"}),g.jsx("span",{className:"hidden sm:inline",children:" "})]}),g.jsxs("button",{onClick:()=>bn(!ve),className:Xe("flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2.5 rounded-lg sm:rounded-xl transition-all border text-xs sm:text-sm font-bold whitespace-nowrap touch-manipulation",ve?"bg-cyan-500/20 text-cyan-400 border-cyan-500/50":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white border-white/10"),children:[g.jsx(V_,{size:14,className:"sm:w-[16px] sm:h-[16px]"}),g.jsx("span",{className:"hidden sm:inline",children:""})]}),g.jsx("button",{onClick:Oa,disabled:N,title:" ",className:Xe("p-1.5 sm:p-2.5 rounded-lg sm:rounded-xl transition-all border border-white/10",N?"bg-cyan-500/20 text-cyan-400 border-cyan-500/30 cursor-wait":"bg-slate-800/50 text-cyan-400 hover:bg-cyan-500/10 hover:border-cyan-500/30"),children:g.jsx(NM,{size:14,className:Xe("sm:w-5 sm:h-5",N&&"animate-spin")})}),g.jsx("button",{onClick:bc,title:"  ",className:"p-1.5 sm:p-2.5 rounded-lg sm:rounded-xl transition-all border border-white/10 bg-slate-800/50 text-rose-400 hover:bg-rose-500/10 hover:border-rose-500/30",children:g.jsx(Pc,{size:14,className:"sm:w-5 sm:h-5"})}),g.jsx("button",{onClick:()=>{window.confirm("       (Embedded)    .  ?")&&p()},title:"   (Embedded)",className:"p-1.5 sm:p-2.5 rounded-lg sm:rounded-xl transition-all border border-white/10 bg-slate-800/50 text-orange-400 hover:bg-orange-500/10 hover:border-orange-500/30",children:g.jsx(RM,{size:14,className:"sm:w-5 sm:h-5"})})]})]})]}),g.jsx(Mo,{children:J&&g.jsx(Ct.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"max-w-7xl mx-auto overflow-hidden",children:g.jsxs("form",{onSubmit:Ni,className:"flex gap-2 p-3 bg-slate-900/50 rounded-xl border border-emerald-500/30",children:[g.jsx("input",{type:"text",placeholder:"  ...",className:"flex-1 px-4 py-2.5 text-base rounded-xl border border-white/10 bg-slate-900/50 focus:bg-slate-900/80 focus:ring-2 focus:ring-emerald-500/50 outline-none transition-all placeholder:text-slate-500",value:oe,onChange:ce=>ne(ce.target.value),autoFocus:!0}),g.jsxs("button",{type:"submit",disabled:!oe.trim(),className:"bg-emerald-500 hover:bg-emerald-600 disabled:bg-slate-700 disabled:text-slate-500 text-white px-6 py-2.5 rounded-xl font-bold transition-all  shadow-lg hover:shadow-emerald-500/20 active:scale-95 flex items-center gap-2",children:[g.jsx(Fu,{size:18}),g.jsx("span",{children:""})]}),g.jsx("button",{type:"button",onClick:()=>{fe(!1),ne("")},className:"px-4 py-2.5 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-bold transition-colors",children:""})]})})}),ve&&g.jsx("div",{className:"max-w-7xl mx-auto mt-2 sm:mt-3 lg:mt-4 p-3 sm:p-4 lg:p-6 bg-slate-900/90 rounded-2xl border border-white/10 shadow-2xl backdrop-blur-md transition-all duration-300",children:g.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-3 sm:gap-4 lg:gap-8",children:[g.jsxs("div",{className:"flex flex-col gap-2 w-full lg:w-auto",children:[g.jsx("label",{className:"text-xs sm:text-sm font-bold text-slate-400",children:" "}),g.jsx("div",{className:"flex items-center gap-3 bg-slate-950 p-1 rounded-lg border border-white/5 w-full sm:w-fit",children:g.jsx("input",{type:"number",min:"1",max:"50",value:n.pageSize||10,onChange:ce=>o({pageSize:parseInt(ce.target.value)||10}),className:"w-16 px-3 py-1 bg-transparent text-center font-mono font-bold focus:outline-none text-sm sm:text-base"})})]}),g.jsxs("div",{className:"flex flex-col gap-2 w-full lg:w-auto",children:[g.jsx("label",{className:"text-xs sm:text-sm font-bold text-slate-400",children:"   0"}),g.jsx("div",{className:"flex items-center gap-3 bg-slate-950 p-2 rounded-lg border border-white/5 w-full sm:w-fit h-[42px]",children:g.jsx("input",{type:"checkbox",checked:n.showZero??!0,onChange:ce=>o({showZero:ce.target.checked}),className:"w-5 h-5 accent-cyan-500 cursor-pointer"})})]}),g.jsx("div",{className:"h-px lg:h-10 w-full lg:w-px bg-white/10"}),g.jsxs("div",{className:"flex flex-col gap-2 w-full lg:w-auto",children:[g.jsx("label",{className:"text-xs sm:text-sm font-bold text-slate-400",children:" "}),g.jsxs("div",{className:"flex items-center gap-2 bg-slate-950 p-1 rounded-lg border border-white/5 w-full sm:w-fit",children:[g.jsx("button",{onClick:()=>o({storageType:"localStorage"}),className:Xe("px-2 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-bold transition-all whitespace-nowrap",n.storageType==="localStorage"||!n.storageType?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white border border-transparent"),children:"LocalStorage"}),g.jsx("button",{onClick:()=>o({storageType:"firebase"}),className:Xe("px-2 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-bold transition-all whitespace-nowrap",n.storageType==="firebase"?"bg-orange-500/20 text-orange-400 border border-orange-500/50":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white border border-transparent"),children:"Firebase"})]})]}),g.jsx("div",{className:"h-px lg:h-10 w-full lg:w-px bg-white/10"}),g.jsxs("button",{onClick:()=>S(""),disabled:!j,className:"flex items-center justify-center gap-2 text-slate-400 hover:text-white px-3 sm:px-4 py-2 rounded-xl transition-colors border border-transparent hover:bg-slate-800 disabled:opacity-30 disabled:cursor-not-allowed w-full sm:w-auto text-sm",children:[g.jsx(Wm,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),g.jsx("span",{className:"font-bold",children:" "})]})]})})]}),g.jsx("div",{className:"flex-1 overflow-auto p-2 sm:p-3 lg:p-4 xl:p-8 custom-scrollbar relative z-10",children:g.jsx("div",{className:"max-w-7xl mx-auto",children:cn.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-500 gap-4",children:[g.jsx(bf,{size:48,className:"opacity-20"}),g.jsx("div",{className:"text-lg sm:text-xl",children:"    "})]}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-3 lg:gap-4",children:cn.map(ce=>g.jsx(HM,{unit:ce,editingId:b,editForm:I,setEditForm:E,handleLogoUpload:La,handleSaveEdit:hn,handleEditClick:Rt,handleRemoveClick:Rc,addBoothToUnit:c,removeBoothFromUnit:h,setEditingId:R,availableBooths:n.availableBooths||[],availableLogos:f,getUnitLogo:v},ce.id))})})}),F.show&&g.jsx(WM,{type:F.type,unitName:F.unitName,onConfirm:ja,onCancel:Vi})]}):g.jsx(zM,{passwordInput:k,setPasswordInput:x,handlePasswordSubmit:Et,passwordError:y})}function zM({passwordInput:t,setPasswordInput:e,handlePasswordSubmit:n,passwordError:r}){return g.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#0a0e1a] via-[#0d1626] to-[#0a1320] px-4",dir:"rtl",children:[g.jsx("div",{className:"absolute top-[-20%] right-[10%] w-[700px] h-[700px] bg-cyan-400/20 rounded-full blur-[180px] pointer-events-none animate-pulse"}),g.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[800px] h-[800px] bg-blue-400/15 rounded-full blur-[200px] pointer-events-none"}),g.jsx("div",{className:"relative w-full max-w-md",children:g.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl border border-cyan-400/20 rounded-3xl shadow-[0_0_60px_rgba(6,182,212,0.3)] p-6 sm:p-8 lg:p-10 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 via-transparent to-blue-500/5 rounded-3xl pointer-events-none"}),g.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400/0 via-cyan-400/20 to-cyan-400/0 rounded-3xl blur-2xl opacity-50 pointer-events-none"}),g.jsxs("div",{className:"relative z-10",children:[g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx("div",{className:"p-4 sm:p-5 bg-cyan-500/20 rounded-2xl shadow-[0_0_30px_rgba(6,182,212,0.4)]",children:g.jsx(kM,{className:"w-10 h-10 sm:w-12 sm:h-12 text-cyan-400"})})}),g.jsx("h1",{className:"text-2xl sm:text-3xl font-black text-white text-center mb-2 drop-shadow-[0_0_20px_rgba(6,182,212,0.8)]",children:" "}),g.jsx("p",{className:"text-slate-400 text-center mb-6 sm:mb-8 text-sm sm:text-base",children:"    "}),g.jsxs("form",{onSubmit:n,className:"space-y-4",children:[g.jsx("div",{className:"relative",children:g.jsx("input",{type:"password",value:t,onChange:s=>e(s.target.value),placeholder:"",className:Xe("w-full px-4 py-3 sm:py-4 rounded-xl border bg-slate-900/50 text-white placeholder:text-slate-500 outline-none transition-all text-sm sm:text-base",r?"border-rose-500/50 ring-2 ring-rose-500/50 animate-shake":"border-white/10 focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/50"),autoFocus:!0})}),r&&g.jsx("div",{className:"bg-rose-500/10 border border-rose-500/30 rounded-xl p-3 text-rose-400 text-sm text-center animate-shake",children:" ,  "}),g.jsx("button",{type:"submit",className:"w-full bg-gradient-to-br from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-bold py-3 sm:py-4 rounded-xl shadow-[0_0_30px_rgba(6,182,212,0.4)] hover:shadow-[0_0_40px_rgba(6,182,212,0.6)] transition-all active:scale-95 text-sm sm:text-base",children:""})]})]})]})}),g.jsx("style",{children:`
@keyframes shake {
    0 %, 100 % { transform: translateX(0); }
    25 % { transform: translateX(-10px); }
    75 % { transform: translateX(10px); }
}
                .animate-shake {
    animation: shake 0.4s ease-in-out;
}
`})]})}function $M({label:t,value:e,color:n}){return g.jsxs("div",{className:`flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 rounded-full border border-white/5 ${n} text-xs sm:text-sm`,children:[g.jsx("span",{className:"font-mono font-bold text-sm sm:text-lg",children:e}),g.jsx("span",{className:"opacity-70 text-[10px] sm:text-xs",children:t})]})}function WM({type:t,unitName:e,onConfirm:n,onCancel:r}){const s=t==="reset";return g.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-3 sm:p-6 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:r,dir:"rtl",style:{animation:"fadeIn 0.3s ease-out"},children:g.jsxs("div",{className:"relative bg-slate-900/95 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl max-w-[90vw] sm:max-w-md w-full p-4 sm:p-6 lg:p-8 transition-all duration-300",onClick:i=>i.stopPropagation(),style:{animation:"slideUp 0.3s ease-out"},children:[g.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-rose-500/20 rounded-full blur-3xl pointer-events-none"}),g.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-cyan-500/20 rounded-full blur-3xl pointer-events-none"}),g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx("div",{className:"p-4 rounded-2xl bg-rose-500/20",children:g.jsx(CM,{className:"w-8 h-8 text-rose-400"})})}),g.jsx("h2",{className:"text-2xl font-black text-white text-center mb-3",children:s?" ":" "}),g.jsx("p",{className:"text-slate-300 text-center mb-6 leading-relaxed",children:s?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"font-bold text-rose-400",children:"      "}),"  !",g.jsx("br",{}),g.jsx("span",{className:"text-slate-400 text-sm mt-2 block",children:"  ."})]}):g.jsxs(g.Fragment,{children:["      ",g.jsx("br",{}),g.jsx("span",{className:"font-bold text-rose-400 text-lg",children:e}),"?",g.jsx("br",{}),g.jsx("span",{className:"text-slate-400 text-sm mt-2 block",children:"    ."})]})}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:r,className:"flex-1 px-4 py-3 rounded-xl bg-slate-800/50 hover:bg-slate-800 text-slate-300 hover:text-white font-bold transition-all border border-white/10 hover:border-white/20",children:""}),g.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 rounded-xl bg-rose-500 hover:bg-rose-600 text-white font-bold transition-all shadow-lg hover:shadow-rose-500/30 active:scale-95",children:s?"":""})]})]})})}function HM({unit:t,editingId:e,editForm:n,setEditForm:r,handleLogoUpload:s,handleSaveEdit:i,handleEditClick:o,handleRemoveClick:a,addBoothToUnit:u,removeBoothFromUnit:c,setEditingId:h,availableBooths:f,availableLogos:p,getUnitLogo:v}){var x;const C=e===t.id,P=y=>(t.booths||[]).includes(y),k=y=>{P(y)?c(t.id,y):u(t.id,y)};return g.jsxs("div",{className:Xe("relative flex flex-col gap-2 sm:gap-3 lg:gap-4 p-3 sm:p-4 lg:p-5 rounded-2xl border transition-all duration-200 group",C?"bg-slate-800/90 border-cyan-500/50 shadow-[0_0_20px_rgba(6,182,212,0.1)] scale-[1.02] z-10":"bg-slate-800/40 border-white/5 hover:bg-slate-800/60 hover:border-white/10 hover:shadow-xl hover:-translate-y-1"),children:[g.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[g.jsx("div",{className:"relative shrink-0",children:C?g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-slate-900 flex items-center justify-center overflow-hidden border border-cyan-500/30",children:(()=>{var T;const y=n.logoId?(T=p==null?void 0:p.find(N=>N.id===n.logoId))==null?void 0:T.data:n.logo;return y?g.jsx("img",{src:y,className:"w-full h-full object-contain p-1"}):g.jsx($m,{size:20,className:"text-slate-600"})})()}):(()=>{const y=v(t);return y?g.jsx("img",{src:y,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl object-contain shadow-sm bg-white p-0.5"}):g.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-br from-slate-700 to-slate-800 flex items-center justify-center font-bold text-slate-400 border border-white/5 text-base sm:text-lg",children:t.name.charAt(0)})})()}),g.jsx("div",{className:"flex-1 min-w-0",children:C?g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("div",{className:"relative",children:[g.jsxs("div",{className:"flex gap-2 mb-2 overflow-x-auto pb-1 custom-scrollbar snap-x",children:[(p||[]).map(y=>g.jsx("button",{onClick:()=>r(T=>({...T,logoId:y.id,logo:null})),className:Xe("w-10 h-10 shrink-0 rounded-lg border-2 p-1 transition-all snap-start",n.logoId===y.id?"border-cyan-500 bg-cyan-500/20":"border-white/10 bg-slate-900/50 hover:border-white/30"),children:g.jsx("img",{src:y.data,className:"w-full h-full object-contain",title:y.name})},y.id)),g.jsx("button",{onClick:()=>r(y=>({...y,logoId:null,logo:null})),className:Xe("w-10 h-10 shrink-0 rounded-lg border-2 p-1 transition-all flex items-center justify-center text-slate-500",!n.logoId&&!n.logo?"border-cyan-500 bg-cyan-500/20 text-cyan-400":"border-white/10"),title:" ",children:g.jsx(Wm,{size:16})})]}),g.jsx("input",{autoFocus:!0,type:"text",value:n.name,onChange:y=>r(T=>({...T,name:y.target.value})),onKeyDown:y=>{y.key==="Enter"&&i()},className:"bg-slate-900/50 text-white px-2 py-1.5 rounded-xl border border-cyan-500/50 outline-none w-full font-bold text-xs sm:text-sm lg:text-base mb-1",placeholder:" "})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:i,className:"flex-1 bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 py-1.5 rounded-lg text-[10px] sm:text-xs font-bold transition-colors flex items-center justify-center gap-1 touch-manipulation",children:[g.jsx(kS,{size:12})," "]}),g.jsx("button",{onClick:()=>h(null),className:"flex-1 bg-slate-700/50 hover:bg-slate-700 text-slate-300 py-1.5 rounded-lg text-[10px] sm:text-xs font-bold transition-colors touch-manipulation",children:""})]})]}):g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"font-bold text-sm sm:text-base lg:text-lg text-white truncate w-full",title:t.name,children:t.name}),g.jsxs("div",{className:"text-[10px] sm:text-xs font-mono text-slate-500",children:["ID: ",t.id,"  ",((x=t.booths)==null?void 0:x.length)||0," "]})]}),g.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>o(t),className:"p-1 sm:p-1.5 text-slate-400 hover:text-cyan-400 hover:bg-cyan-400/10 rounded-lg transition-colors touch-manipulation",children:g.jsx(RS,{size:12,className:"sm:w-[14px] sm:h-[14px]"})}),g.jsx("button",{onClick:()=>a(t.id,t.name),className:"p-1 sm:p-1.5 text-slate-400 hover:text-rose-400 hover:bg-rose-400/10 rounded-lg transition-colors touch-manipulation",children:g.jsx(Pc,{size:12,className:"sm:w-[14px] sm:h-[14px]"})})]})]})})]}),g.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[f.map(y=>{const T=P(y.id);return g.jsxs("button",{onClick:()=>k(y.id),className:Xe("flex items-center gap-1.5 px-3 py-1.5 rounded-lg border-2 transition-all text-xs font-medium",T?"border-white/30 shadow-lg":"border-white/10 bg-slate-900/30 hover:border-white/20 opacity-60 hover:opacity-100"),style:{backgroundColor:T?y.color:"transparent",color:T?"#fff":"#94a3b8"},children:[g.jsx("div",{className:"w-2 h-2 rounded-full border border-white/30",style:{backgroundColor:T?"#fff":y.color}}),g.jsx("span",{className:"font-bold",children:y.name})]},y.id)}),f.length===0&&g.jsx("div",{className:"text-xs text-slate-500 italic py-2",children:'   -   " "  '})]})]})}function KM(){const t=Cp(),{config:e,addBooth:n,updateBooth:r,removeBooth:s,syncLocalStorageToFirebase:i}=ka(),[o,a]=D.useState(!1),[u,c]=D.useState(null),[h,f]=D.useState({name:"",color:"#FF6B6B"}),[p,v]=D.useState(!1),C=e.availableBooths||[],P=async()=>{if(window.confirm(`     -localStorage -Firebase?

      -Firebase.`)){v(!0);const V=await i();v(!1),alert(V?"    -Firebase!":"   -Firebase.     .")}},k=()=>{h.name.trim()&&(n(h.name.trim(),h.color),f({name:"",color:"#FF6B6B"}),a(!1))},x=V=>{c(V.id),f({name:V.name,color:V.color})},y=()=>{h.name.trim()&&(r(u,{name:h.name.trim(),color:h.color}),c(null),f({name:"",color:"#FF6B6B"}))},T=()=>{c(null),f({name:"",color:"#FF6B6B"})},N=(V,j)=>{window.confirm(`       "${j}"?`)&&s(V)};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-6 font-['Heebo']",dir:"rtl",children:[g.jsxs("div",{className:"max-w-4xl mx-auto mb-8",children:[g.jsxs("button",{onClick:()=>t("/admin"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-4",children:[g.jsx(bS,{size:20})," "]}),g.jsx("h1",{className:"text-4xl font-black text-white mb-2",children:" "}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("p",{className:"text-slate-400",children:",     "}),g.jsxs("button",{onClick:P,disabled:p,className:"flex items-center gap-2 px-4 py-2 bg-cyan-500/20 border border-cyan-500/50 rounded-lg hover:bg-cyan-500/30 hover:border-cyan-500 transition-all text-cyan-400 font-bold disabled:opacity-50 disabled:cursor-not-allowed",title:"  -localStorage -Firebase",children:[g.jsx(VS,{size:18,className:p?"animate-pulse":""}),p?"...":" -Firebase"]})]})]}),g.jsxs("div",{className:"max-w-4xl mx-auto",children:[!o&&g.jsxs("button",{onClick:()=>a(!0),className:"w-full p-4 bg-emerald-500/20 border-2 border-dashed border-emerald-500/50 rounded-xl hover:bg-emerald-500/30 hover:border-emerald-500 transition-all flex items-center justify-center gap-2 text-emerald-400 font-bold mb-6",children:[g.jsx(Fu,{size:20}),"  "]}),o&&g.jsxs("div",{className:"bg-slate-800/50 border border-emerald-500/30 rounded-xl p-4 mb-6",children:[g.jsx("h3",{className:"font-bold text-emerald-400 mb-3",children:" "}),g.jsxs("div",{className:"flex gap-3 items-end",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:" "}),g.jsx("input",{type:"text",value:h.name,onChange:V=>f(j=>({...j,name:V.target.value})),onKeyDown:V=>V.key==="Enter"&&k(),placeholder:":  ",className:"w-full bg-slate-900/50 text-white px-3 py-2 rounded-lg border border-white/10 outline-none focus:border-emerald-500/50",autoFocus:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),g.jsx("input",{type:"color",value:h.color,onChange:V=>f(j=>({...j,color:V.target.value})),className:"w-16 h-10 rounded-lg border border-white/10 bg-slate-900/50 cursor-pointer"})]}),g.jsxs("button",{onClick:k,disabled:!h.name.trim(),className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 disabled:bg-slate-700 disabled:text-slate-500 text-white rounded-lg font-bold transition-colors flex items-center gap-2",children:[g.jsx(Fu,{size:16}),""]}),g.jsx("button",{onClick:()=>{a(!1),f({name:"",color:"#FF6B6B"})},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-bold transition-colors",children:""})]})]}),g.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:[C.length===0&&g.jsxs("div",{className:"text-center py-12 text-slate-500",children:[g.jsx("div",{className:"text-6xl mb-4",children:""}),g.jsx("p",{className:"text-lg",children:"   "}),g.jsx("p",{className:"text-sm",children:'  "  "  '})]}),C.map(V=>g.jsx("div",{className:"bg-slate-800/40 border border-white/5 rounded-xl p-4 hover:bg-slate-800/60 hover:border-white/10 transition-all",children:u===V.id?g.jsxs("div",{className:"flex gap-3 items-center",children:[g.jsx("div",{className:"flex-1",children:g.jsx("input",{type:"text",value:h.name,onChange:j=>f(S=>({...S,name:j.target.value})),onKeyDown:j=>j.key==="Enter"&&y(),className:"w-full bg-slate-900/50 text-white px-3 py-2 rounded-lg border border-cyan-500/50 outline-none",autoFocus:!0})}),g.jsx("input",{type:"color",value:h.color,onChange:j=>f(S=>({...S,color:j.target.value})),className:"w-16 h-10 rounded-lg border border-white/10 bg-slate-900/50 cursor-pointer"}),g.jsx("button",{onClick:y,className:"p-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg transition-colors",children:g.jsx(kS,{size:18})}),g.jsx("button",{onClick:T,className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:g.jsx(Wm,{size:18})})]}):g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-8 h-8 rounded-lg border-2 border-white/20 shadow-lg",style:{backgroundColor:V.color}}),g.jsx("span",{className:"font-bold text-lg",children:V.name})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:()=>x(V),className:"p-2 text-slate-400 hover:text-cyan-400 hover:bg-cyan-400/10 rounded-lg transition-colors",children:g.jsx(RS,{size:18})}),g.jsx("button",{onClick:()=>N(V.id,V.name),className:"p-2 text-slate-400 hover:text-rose-400 hover:bg-rose-400/10 rounded-lg transition-colors",children:g.jsx(Pc,{size:18})})]})]})},V.id))]})]})]})}function qM(){const t=Cp(),{logos:e,addNewLogo:n,removeLogoArg:r}=ka(),[s,i]=D.useState(!1),[o,a]=D.useState(""),u=async f=>{const p=Array.from(f.target.files);if(p.length!==0){i(!0);try{for(const v of p){const C=v.name.replace(/\.[^/.]+$/,""),P=await ZE(v,150,.7);await n(C,P)}}catch(v){console.error("Upload failed",v)}finally{i(!1)}}},c=async(f,p)=>{window.confirm(`Are you sure you want to delete "${p}"? This will break any units using this logo.`)&&await r(f)},h=e.filter(f=>f.name.toLowerCase().includes(o.toLowerCase()));return g.jsx("div",{className:"min-h-screen bg-slate-900 text-white font-['Heebo'] p-4 lg:p-8",dir:"rtl",children:g.jsxs("div",{className:"max-w-7xl mx-auto",children:[g.jsxs("header",{className:"flex items-center justify-between mb-8 bg-slate-800/50 p-6 rounded-2xl border border-white/5 backdrop-blur-sm",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("button",{onClick:()=>t("/admin"),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:g.jsx(bS,{size:24})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-l from-cyan-400 to-blue-500",children:" "}),g.jsxs("p",{className:"text-slate-400 mt-1",children:["   (",e.length," )"]})]})]}),g.jsx("div",{className:"flex gap-4",children:g.jsxs("label",{className:`
                            flex items-center gap-2 px-6 py-3 rounded-xl cursor-pointer font-bold transition-all shadow-lg
                            ${s?"bg-slate-700 text-slate-400 cursor-wait":"bg-cyan-600 hover:bg-cyan-500 text-white shadow-cyan-900/20 hover:shadow-cyan-500/30"}
                        `,children:[s?g.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):g.jsx(VS,{size:20}),g.jsx("span",{children:s?"...":" "}),g.jsx("input",{type:"file",className:"hidden",multiple:!0,accept:"image/*",onChange:u,disabled:s})]})})]}),g.jsxs("div",{className:"mb-6 relative max-w-md",children:[g.jsx(bf,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),g.jsx("input",{type:"text",placeholder:" ...",value:o,onChange:f=>a(f.target.value),className:"w-full bg-slate-800/50 border border-white/10 rounded-xl py-3 pr-10 pl-4 text-white focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/50 outline-none transition-all"})]}),e.length===0?g.jsxs("div",{className:"text-center py-20 text-slate-500 bg-slate-800/20 rounded-3xl border border-dashed border-white/5",children:[g.jsx($m,{size:64,className:"mx-auto mb-4 opacity-20"}),g.jsx("h3",{className:"text-xl font-bold",children:" "}),g.jsx("p",{children:"      "})]}):g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4",children:h.map(f=>g.jsxs("div",{className:"group relative bg-slate-800 rounded-xl p-3 border border-white/5 hover:border-cyan-500/30 transition-all hover:shadow-xl hover:-translate-y-1",children:[g.jsxs("div",{className:"aspect-square bg-slate-900/50 rounded-lg mb-2 flex items-center justify-center overflow-hidden relative",children:[g.jsx("img",{src:f.data,alt:f.name,className:"w-4/5 h-4/5 object-contain"}),g.jsx("div",{className:"absolute inset-0 bg-slate-900/80 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:g.jsx("button",{onClick:()=>c(f.id,f.name),className:"p-2 bg-rose-500/20 text-rose-400 hover:bg-rose-500 hover:text-white rounded-lg transition-colors",title:"",children:g.jsx(Pc,{size:18})})})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"font-bold text-sm text-slate-300 truncate",title:f.name,children:f.name}),g.jsx("div",{className:"text-[10px] text-slate-600 font-mono mt-0.5 truncate",children:f.id.slice(-6)})]})]},f.id))})]})})}function GM(){return g.jsx(NI,{children:g.jsxs(bI,{children:[g.jsx(co,{path:"/",element:g.jsx(LM,{})}),g.jsx(co,{path:"/admin",element:g.jsx(UM,{})}),g.jsx(co,{path:"/admin/booths",element:g.jsx(KM,{})}),g.jsx(co,{path:"/admin/logos",element:g.jsx(qM,{})})]})})}Hh.createRoot(document.getElementById("root")).render(g.jsx(bs.StrictMode,{children:g.jsx(GM,{})}));
