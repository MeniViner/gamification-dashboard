function BS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function US(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x_={exports:{}},Pu={},E_={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ha=Symbol.for("react.element"),zS=Symbol.for("react.portal"),$S=Symbol.for("react.fragment"),WS=Symbol.for("react.strict_mode"),HS=Symbol.for("react.profiler"),KS=Symbol.for("react.provider"),qS=Symbol.for("react.context"),GS=Symbol.for("react.forward_ref"),QS=Symbol.for("react.suspense"),YS=Symbol.for("react.memo"),XS=Symbol.for("react.lazy"),Ag=Symbol.iterator;function JS(t){return t===null||typeof t!="object"?null:(t=Ag&&t[Ag]||t["@@iterator"],typeof t=="function"?t:null)}var T_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S_=Object.assign,A_={};function hi(t,e,n){this.props=t,this.context=e,this.refs=A_,this.updater=n||T_}hi.prototype.isReactComponent={};hi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function C_(){}C_.prototype=hi.prototype;function yf(t,e,n){this.props=t,this.context=e,this.refs=A_,this.updater=n||T_}var vf=yf.prototype=new C_;vf.constructor=yf;S_(vf,hi.prototype);vf.isPureReactComponent=!0;var Cg=Array.isArray,I_=Object.prototype.hasOwnProperty,_f={current:null},P_={key:!0,ref:!0,__self:!0,__source:!0};function R_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)I_.call(e,r)&&!P_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ha,type:t,key:i,ref:o,props:s,_owner:_f.current}}function ZS(t,e){return{$$typeof:ha,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ha}function e2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ig=/\/+/g;function Mc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e2(""+t.key):e.toString(36)}function dl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ha:case zS:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Mc(o,0):r,Cg(s)?(n="",t!=null&&(n=t.replace(Ig,"$&/")+"/"),dl(s,e,n,"",function(c){return c})):s!=null&&(wf(s)&&(s=ZS(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ig,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Cg(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Mc(i,l);o+=dl(i,e,n,u,s)}else if(u=JS(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Mc(i,l++),o+=dl(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fa(t,e,n){if(t==null)return t;var r=[],s=0;return dl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function t2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},fl={transition:null},n2={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:fl,ReactCurrentOwner:_f};function b_(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Fa,forEach:function(t,e,n){Fa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fa(t,function(){e++}),e},toArray:function(t){return Fa(t,function(e){return e})||[]},only:function(t){if(!wf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=hi;ee.Fragment=$S;ee.Profiler=HS;ee.PureComponent=yf;ee.StrictMode=WS;ee.Suspense=QS;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n2;ee.act=b_;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=S_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_f.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)I_.call(e,u)&&!P_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ha,type:t.type,key:s,ref:i,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:qS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KS,_context:t},t.Consumer=t};ee.createElement=R_;ee.createFactory=function(t){var e=R_.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:GS,render:t}};ee.isValidElement=wf;ee.lazy=function(t){return{$$typeof:XS,_payload:{_status:-1,_result:t},_init:t2}};ee.memo=function(t,e){return{$$typeof:YS,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=fl.transition;fl.transition={};try{t()}finally{fl.transition=e}};ee.unstable_act=b_;ee.useCallback=function(t,e){return vt.current.useCallback(t,e)};ee.useContext=function(t){return vt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return vt.current.useEffect(t,e)};ee.useId=function(){return vt.current.useId()};ee.useImperativeHandle=function(t,e,n){return vt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return vt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return vt.current.useReducer(t,e,n)};ee.useRef=function(t){return vt.current.useRef(t)};ee.useState=function(t){return vt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return vt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return vt.current.useTransition()};ee.version="18.3.1";E_.exports=ee;var M=E_.exports;const xs=US(M),r2=BS({__proto__:null,default:xs},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2=M,i2=Symbol.for("react.element"),o2=Symbol.for("react.fragment"),a2=Object.prototype.hasOwnProperty,l2=s2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u2={key:!0,ref:!0,__self:!0,__source:!0};function k_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)a2.call(e,r)&&!u2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:i2,type:t,key:i,ref:o,props:s,_owner:l2.current}}Pu.Fragment=o2;Pu.jsx=k_;Pu.jsxs=k_;x_.exports=Pu;var w=x_.exports,Vh={},V_={exports:{}},Lt={},N_={exports:{}},D_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,K){var Y=U.length;U.push(K);e:for(;0<Y;){var ce=Y-1>>>1,_e=U[ce];if(0<s(_e,K))U[ce]=K,U[Y]=_e,Y=ce;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],Y=U.pop();if(Y!==K){U[0]=Y;e:for(var ce=0,_e=U.length,Tn=_e>>>1;ce<Tn;){var wt=2*(ce+1)-1,Sn=U[wt],It=wt+1,on=U[It];if(0>s(Sn,Y))It<_e&&0>s(on,Sn)?(U[ce]=on,U[It]=Y,ce=It):(U[ce]=Sn,U[wt]=Y,ce=wt);else if(It<_e&&0>s(on,Y))U[ce]=on,U[It]=Y,ce=It;else break e}}return K}function s(U,K){var Y=U.sortIndex-K.sortIndex;return Y!==0?Y:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,f=null,p=3,v=!1,A=!1,I=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=U)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function N(U){if(I=!1,T(U),!A)if(n(u)!==null)A=!0,Gt(k);else{var K=n(c);K!==null&&fe(N,K.startTime-U)}}function k(U,K){A=!1,I&&(I=!1,_(g),g=-1),v=!0;var Y=p;try{for(T(K),f=n(u);f!==null&&(!(f.expirationTime>K)||U&&!R());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,p=f.priorityLevel;var _e=ce(f.expirationTime<=K);K=t.unstable_now(),typeof _e=="function"?f.callback=_e:f===n(u)&&r(u),T(K)}else r(u);f=n(u)}if(f!==null)var Tn=!0;else{var wt=n(c);wt!==null&&fe(N,wt.startTime-K),Tn=!1}return Tn}finally{f=null,p=Y,v=!1}}var L=!1,E=null,g=-1,S=5,C=-1;function R(){return!(t.unstable_now()-C<S)}function V(){if(E!==null){var U=t.unstable_now();C=U;var K=!0;try{K=E(!0,U)}finally{K?P():(L=!1,E=null)}}else L=!1}var P;if(typeof y=="function")P=function(){y(V)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ge=ve.port2;ve.port1.onmessage=V,P=function(){Ge.postMessage(null)}}else P=function(){b(V,0)};function Gt(U){E=U,L||(L=!0,P())}function fe(U,K){g=b(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){A||v||(A=!0,Gt(k))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var Y=p;p=K;try{return U()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=p;p=U;try{return K()}finally{p=Y}},t.unstable_scheduleCallback=function(U,K,Y){var ce=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ce+Y:ce):Y=ce,U){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=Y+_e,U={id:h++,callback:K,priorityLevel:U,startTime:Y,expirationTime:_e,sortIndex:-1},Y>ce?(U.sortIndex=Y,e(c,U),n(u)===null&&U===n(c)&&(I?(_(g),g=-1):I=!0,fe(N,Y-ce))):(U.sortIndex=_e,e(u,U),A||v||(A=!0,Gt(k))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var K=p;return function(){var Y=p;p=K;try{return U.apply(this,arguments)}finally{p=Y}}}})(D_);N_.exports=D_;var c2=N_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2=M,Dt=c2;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M_=new Set,Ro={};function os(t,e){Qs(t,e),Qs(t+"Capture",e)}function Qs(t,e){for(Ro[t]=e,t=0;t<e.length;t++)M_.add(e[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nh=Object.prototype.hasOwnProperty,d2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pg={},Rg={};function f2(t){return Nh.call(Rg,t)?!0:Nh.call(Pg,t)?!1:d2.test(t)?Rg[t]=!0:(Pg[t]=!0,!1)}function p2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m2(t,e,n,r){if(e===null||typeof e>"u"||p2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _t(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new _t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new _t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new _t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new _t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new _t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new _t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new _t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new _t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new _t(t,5,!1,t.toLowerCase(),null,!1,!1)});var xf=/[\-:]([a-z])/g;function Ef(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xf,Ef);et[e]=new _t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xf,Ef);et[e]=new _t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xf,Ef);et[e]=new _t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new _t(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new _t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new _t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tf(t,e,n,r){var s=et.hasOwnProperty(e)?et[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m2(e,n,s,r)&&(n=null),r||s===null?f2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Un=h2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ba=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Ts=Symbol.for("react.fragment"),Sf=Symbol.for("react.strict_mode"),Dh=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),O_=Symbol.for("react.context"),Af=Symbol.for("react.forward_ref"),Mh=Symbol.for("react.suspense"),Lh=Symbol.for("react.suspense_list"),Cf=Symbol.for("react.memo"),Yn=Symbol.for("react.lazy"),j_=Symbol.for("react.offscreen"),bg=Symbol.iterator;function Bi(t){return t===null||typeof t!="object"?null:(t=bg&&t[bg]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,Lc;function Yi(t){if(Lc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lc=e&&e[1]||""}return`
`+Lc+t}var Oc=!1;function jc(t,e){if(!t||Oc)return"";Oc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Oc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yi(t):""}function g2(t){switch(t.tag){case 5:return Yi(t.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 2:case 15:return t=jc(t.type,!1),t;case 11:return t=jc(t.type.render,!1),t;case 1:return t=jc(t.type,!0),t;default:return""}}function Oh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ts:return"Fragment";case Es:return"Portal";case Dh:return"Profiler";case Sf:return"StrictMode";case Mh:return"Suspense";case Lh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O_:return(t.displayName||"Context")+".Consumer";case L_:return(t._context.displayName||"Context")+".Provider";case Af:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cf:return e=t.displayName||null,e!==null?e:Oh(t.type)||"Memo";case Yn:e=t._payload,t=t._init;try{return Oh(t(e))}catch{}}return null}function y2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oh(e);case 8:return e===Sf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function F_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v2(t){var e=F_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ua(t){t._valueTracker||(t._valueTracker=v2(t))}function B_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=F_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jh(t,e){var n=e.checked;return Ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function U_(t,e){e=e.checked,e!=null&&Tf(t,"checked",e,!1)}function Fh(t,e){U_(t,e);var n=yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bh(t,e.type,yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bh(t,e,n){(e!=="number"||Dl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xi=Array.isArray;function Fs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Uh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ng(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Xi(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yr(n)}}function z_(t,e){var n=yr(e.value),r=yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var za,W_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=za.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_2=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(t){_2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uo[e]=uo[t]})});function H_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uo.hasOwnProperty(t)&&uo[t]?(""+e).trim():e+"px"}function K_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=H_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var w2=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $h(t,e){if(e){if(w2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Wh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=null;function If(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kh=null,Bs=null,Us=null;function Mg(t){if(t=pa(t)){if(typeof Kh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Nu(e),Kh(t.stateNode,t.type,e))}}function q_(t){Bs?Us?Us.push(t):Us=[t]:Bs=t}function G_(){if(Bs){var t=Bs,e=Us;if(Us=Bs=null,Mg(t),e)for(t=0;t<e.length;t++)Mg(e[t])}}function Q_(t,e){return t(e)}function Y_(){}var Fc=!1;function X_(t,e,n){if(Fc)return t(e,n);Fc=!0;try{return Q_(t,e,n)}finally{Fc=!1,(Bs!==null||Us!==null)&&(Y_(),G_())}}function ko(t,e){var n=t.stateNode;if(n===null)return null;var r=Nu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var qh=!1;if(Nn)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){qh=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{qh=!1}function x2(t,e,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var co=!1,Ml=null,Ll=!1,Gh=null,E2={onError:function(t){co=!0,Ml=t}};function T2(t,e,n,r,s,i,o,l,u){co=!1,Ml=null,x2.apply(E2,arguments)}function S2(t,e,n,r,s,i,o,l,u){if(T2.apply(this,arguments),co){if(co){var c=Ml;co=!1,Ml=null}else throw Error(B(198));Ll||(Ll=!0,Gh=c)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function J_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lg(t){if(as(t)!==t)throw Error(B(188))}function A2(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Lg(s),t;if(i===r)return Lg(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Z_(t){return t=A2(t),t!==null?e1(t):null}function e1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=e1(t);if(e!==null)return e;t=t.sibling}return null}var t1=Dt.unstable_scheduleCallback,Og=Dt.unstable_cancelCallback,C2=Dt.unstable_shouldYield,I2=Dt.unstable_requestPaint,Ve=Dt.unstable_now,P2=Dt.unstable_getCurrentPriorityLevel,Pf=Dt.unstable_ImmediatePriority,n1=Dt.unstable_UserBlockingPriority,Ol=Dt.unstable_NormalPriority,R2=Dt.unstable_LowPriority,r1=Dt.unstable_IdlePriority,Ru=null,pn=null;function b2(t){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Ru,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:N2,k2=Math.log,V2=Math.LN2;function N2(t){return t>>>=0,t===0?32:31-(k2(t)/V2|0)|0}var $a=64,Wa=4194304;function Ji(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ji(l):(i&=o,i!==0&&(r=Ji(i)))}else o=n&~s,o!==0?r=Ji(o):i!==0&&(r=Ji(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),s=1<<n,r|=t[n],e&=~s;return r}function D2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tn(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=D2(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Qh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s1(){var t=$a;return $a<<=1,!($a&4194240)&&($a=64),t}function Bc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function da(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function L2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Rf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var le=0;function i1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var o1,bf,a1,l1,u1,Yh=!1,Ha=[],sr=null,ir=null,or=null,Vo=new Map,No=new Map,Jn=[],O2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jg(t,e){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(e.pointerId)}}function zi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=pa(e),e!==null&&bf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function j2(t,e,n,r,s){switch(e){case"focusin":return sr=zi(sr,t,e,n,r,s),!0;case"dragenter":return ir=zi(ir,t,e,n,r,s),!0;case"mouseover":return or=zi(or,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vo.set(i,zi(Vo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,No.set(i,zi(No.get(i)||null,t,e,n,r,s)),!0}return!1}function c1(t){var e=zr(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=J_(n),e!==null){t.blockedOn=e,u1(t.priority,function(){a1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hh=r,n.target.dispatchEvent(r),Hh=null}else return e=pa(n),e!==null&&bf(e),t.blockedOn=n,!1;e.shift()}return!0}function Fg(t,e,n){pl(t)&&n.delete(e)}function F2(){Yh=!1,sr!==null&&pl(sr)&&(sr=null),ir!==null&&pl(ir)&&(ir=null),or!==null&&pl(or)&&(or=null),Vo.forEach(Fg),No.forEach(Fg)}function $i(t,e){t.blockedOn===e&&(t.blockedOn=null,Yh||(Yh=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,F2)))}function Do(t){function e(s){return $i(s,t)}if(0<Ha.length){$i(Ha[0],t);for(var n=1;n<Ha.length;n++){var r=Ha[n];r.blockedOn===t&&(r.blockedOn=null)}}for(sr!==null&&$i(sr,t),ir!==null&&$i(ir,t),or!==null&&$i(or,t),Vo.forEach(e),No.forEach(e),n=0;n<Jn.length;n++)r=Jn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jn.length&&(n=Jn[0],n.blockedOn===null);)c1(n),n.blockedOn===null&&Jn.shift()}var zs=Un.ReactCurrentBatchConfig,Fl=!0;function B2(t,e,n,r){var s=le,i=zs.transition;zs.transition=null;try{le=1,kf(t,e,n,r)}finally{le=s,zs.transition=i}}function U2(t,e,n,r){var s=le,i=zs.transition;zs.transition=null;try{le=4,kf(t,e,n,r)}finally{le=s,zs.transition=i}}function kf(t,e,n,r){if(Fl){var s=Xh(t,e,n,r);if(s===null)Yc(t,e,r,Bl,n),jg(t,r);else if(j2(s,t,e,n,r))r.stopPropagation();else if(jg(t,r),e&4&&-1<O2.indexOf(t)){for(;s!==null;){var i=pa(s);if(i!==null&&o1(i),i=Xh(t,e,n,r),i===null&&Yc(t,e,r,Bl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yc(t,e,r,null,n)}}var Bl=null;function Xh(t,e,n,r){if(Bl=null,t=If(r),t=zr(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=J_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bl=t,null}function h1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(P2()){case Pf:return 1;case n1:return 4;case Ol:case R2:return 16;case r1:return 536870912;default:return 16}default:return 16}}var er=null,Vf=null,ml=null;function d1(){if(ml)return ml;var t,e=Vf,n=e.length,r,s="value"in er?er.value:er.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ml=s.slice(t,1<r?1-r:void 0)}function gl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ka(){return!0}function Bg(){return!1}function Ot(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ka:Bg,this.isPropagationStopped=Bg,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),e}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=Ot(di),fa=Ae({},di,{view:0,detail:0}),z2=Ot(fa),Uc,zc,Wi,bu=Ae({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Df,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wi&&(Wi&&t.type==="mousemove"?(Uc=t.screenX-Wi.screenX,zc=t.screenY-Wi.screenY):zc=Uc=0,Wi=t),Uc)},movementY:function(t){return"movementY"in t?t.movementY:zc}}),Ug=Ot(bu),$2=Ae({},bu,{dataTransfer:0}),W2=Ot($2),H2=Ae({},fa,{relatedTarget:0}),$c=Ot(H2),K2=Ae({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),q2=Ot(K2),G2=Ae({},di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Q2=Ot(G2),Y2=Ae({},di,{data:0}),zg=Ot(Y2),X2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z2[t])?!!e[t]:!1}function Df(){return eA}var tA=Ae({},fa,{key:function(t){if(t.key){var e=X2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Df,charCode:function(t){return t.type==="keypress"?gl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nA=Ot(tA),rA=Ae({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$g=Ot(rA),sA=Ae({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Df}),iA=Ot(sA),oA=Ae({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),aA=Ot(oA),lA=Ae({},bu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uA=Ot(lA),cA=[9,13,27,32],Mf=Nn&&"CompositionEvent"in window,ho=null;Nn&&"documentMode"in document&&(ho=document.documentMode);var hA=Nn&&"TextEvent"in window&&!ho,f1=Nn&&(!Mf||ho&&8<ho&&11>=ho),Wg=" ",Hg=!1;function p1(t,e){switch(t){case"keyup":return cA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ss=!1;function dA(t,e){switch(t){case"compositionend":return m1(e);case"keypress":return e.which!==32?null:(Hg=!0,Wg);case"textInput":return t=e.data,t===Wg&&Hg?null:t;default:return null}}function fA(t,e){if(Ss)return t==="compositionend"||!Mf&&p1(t,e)?(t=d1(),ml=Vf=er=null,Ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f1&&e.locale!=="ko"?null:e.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pA[t.type]:e==="textarea"}function g1(t,e,n,r){q_(r),e=Ul(e,"onChange"),0<e.length&&(n=new Nf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fo=null,Mo=null;function mA(t){I1(t,0)}function ku(t){var e=Is(t);if(B_(e))return t}function gA(t,e){if(t==="change")return e}var y1=!1;if(Nn){var Wc;if(Nn){var Hc="oninput"in document;if(!Hc){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Hc=typeof qg.oninput=="function"}Wc=Hc}else Wc=!1;y1=Wc&&(!document.documentMode||9<document.documentMode)}function Gg(){fo&&(fo.detachEvent("onpropertychange",v1),Mo=fo=null)}function v1(t){if(t.propertyName==="value"&&ku(Mo)){var e=[];g1(e,Mo,t,If(t)),X_(mA,e)}}function yA(t,e,n){t==="focusin"?(Gg(),fo=e,Mo=n,fo.attachEvent("onpropertychange",v1)):t==="focusout"&&Gg()}function vA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Mo)}function _A(t,e){if(t==="click")return ku(e)}function wA(t,e){if(t==="input"||t==="change")return ku(e)}function xA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sn=typeof Object.is=="function"?Object.is:xA;function Lo(t,e){if(sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nh.call(e,s)||!sn(t[s],e[s]))return!1}return!0}function Qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,e){var n=Qg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qg(n)}}function _1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w1(){for(var t=window,e=Dl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dl(t.document)}return e}function Lf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EA(t){var e=w1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_1(n.ownerDocument.documentElement,n)){if(r!==null&&Lf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Yg(n,i);var o=Yg(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TA=Nn&&"documentMode"in document&&11>=document.documentMode,As=null,Jh=null,po=null,Zh=!1;function Xg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zh||As==null||As!==Dl(r)||(r=As,"selectionStart"in r&&Lf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),po&&Lo(po,r)||(po=r,r=Ul(Jh,"onSelect"),0<r.length&&(e=new Nf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=As)))}function qa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cs={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionend:qa("Transition","TransitionEnd")},Kc={},x1={};Nn&&(x1=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Vu(t){if(Kc[t])return Kc[t];if(!Cs[t])return t;var e=Cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in x1)return Kc[t]=e[n];return t}var E1=Vu("animationend"),T1=Vu("animationiteration"),S1=Vu("animationstart"),A1=Vu("transitionend"),C1=new Map,Jg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(t,e){C1.set(t,e),os(e,[t])}for(var qc=0;qc<Jg.length;qc++){var Gc=Jg[qc],SA=Gc.toLowerCase(),AA=Gc[0].toUpperCase()+Gc.slice(1);Ir(SA,"on"+AA)}Ir(E1,"onAnimationEnd");Ir(T1,"onAnimationIteration");Ir(S1,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(A1,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zi));function Zg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,S2(r,e,void 0,t),t.currentTarget=null}function I1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Zg(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Zg(s,l,c),i=u}}}if(Ll)throw t=Gh,Ll=!1,Gh=null,t}function me(t,e){var n=e[sd];n===void 0&&(n=e[sd]=new Set);var r=t+"__bubble";n.has(r)||(P1(e,t,2,!1),n.add(r))}function Qc(t,e,n){var r=0;e&&(r|=4),P1(n,t,r,e)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function Oo(t){if(!t[Ga]){t[Ga]=!0,M_.forEach(function(n){n!=="selectionchange"&&(CA.has(n)||Qc(n,!1,t),Qc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ga]||(e[Ga]=!0,Qc("selectionchange",!1,e))}}function P1(t,e,n,r){switch(h1(e)){case 1:var s=B2;break;case 4:s=U2;break;default:s=kf}n=s.bind(null,e,n,t),s=void 0,!qh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=zr(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}X_(function(){var c=i,h=If(n),f=[];e:{var p=C1.get(t);if(p!==void 0){var v=Nf,A=t;switch(t){case"keypress":if(gl(n)===0)break e;case"keydown":case"keyup":v=nA;break;case"focusin":A="focus",v=$c;break;case"focusout":A="blur",v=$c;break;case"beforeblur":case"afterblur":v=$c;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=W2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=iA;break;case E1:case T1:case S1:v=q2;break;case A1:v=aA;break;case"scroll":v=z2;break;case"wheel":v=uA;break;case"copy":case"cut":case"paste":v=Q2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$g}var I=(e&4)!==0,b=!I&&t==="scroll",_=I?p!==null?p+"Capture":null:p;I=[];for(var y=c,T;y!==null;){T=y;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,_!==null&&(N=ko(y,_),N!=null&&I.push(jo(y,N,T)))),b)break;y=y.return}0<I.length&&(p=new v(p,A,null,n,h),f.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Hh&&(A=n.relatedTarget||n.fromElement)&&(zr(A)||A[Dn]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(A=n.relatedTarget||n.toElement,v=c,A=A?zr(A):null,A!==null&&(b=as(A),A!==b||A.tag!==5&&A.tag!==6)&&(A=null)):(v=null,A=c),v!==A)){if(I=Ug,N="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(I=$g,N="onPointerLeave",_="onPointerEnter",y="pointer"),b=v==null?p:Is(v),T=A==null?p:Is(A),p=new I(N,y+"leave",v,n,h),p.target=b,p.relatedTarget=T,N=null,zr(h)===c&&(I=new I(_,y+"enter",A,n,h),I.target=T,I.relatedTarget=b,N=I),b=N,v&&A)t:{for(I=v,_=A,y=0,T=I;T;T=gs(T))y++;for(T=0,N=_;N;N=gs(N))T++;for(;0<y-T;)I=gs(I),y--;for(;0<T-y;)_=gs(_),T--;for(;y--;){if(I===_||_!==null&&I===_.alternate)break t;I=gs(I),_=gs(_)}I=null}else I=null;v!==null&&ey(f,p,v,I,!1),A!==null&&b!==null&&ey(f,b,A,I,!0)}}e:{if(p=c?Is(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var k=gA;else if(Kg(p))if(y1)k=wA;else{k=vA;var L=yA}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=_A);if(k&&(k=k(t,c))){g1(f,k,n,h);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&Bh(p,"number",p.value)}switch(L=c?Is(c):window,t){case"focusin":(Kg(L)||L.contentEditable==="true")&&(As=L,Jh=c,po=null);break;case"focusout":po=Jh=As=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Xg(f,n,h);break;case"selectionchange":if(TA)break;case"keydown":case"keyup":Xg(f,n,h)}var E;if(Mf)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Ss?p1(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(f1&&n.locale!=="ko"&&(Ss||g!=="onCompositionStart"?g==="onCompositionEnd"&&Ss&&(E=d1()):(er=h,Vf="value"in er?er.value:er.textContent,Ss=!0)),L=Ul(c,g),0<L.length&&(g=new zg(g,t,null,n,h),f.push({event:g,listeners:L}),E?g.data=E:(E=m1(n),E!==null&&(g.data=E)))),(E=hA?dA(t,n):fA(t,n))&&(c=Ul(c,"onBeforeInput"),0<c.length&&(h=new zg("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=E))}I1(f,e)})}function jo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ul(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ko(t,n),i!=null&&r.unshift(jo(t,i,s)),i=ko(t,e),i!=null&&r.push(jo(t,i,s))),t=t.return}return r}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ey(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=ko(n,i),u!=null&&o.unshift(jo(n,u,l))):s||(u=ko(n,i),u!=null&&o.push(jo(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace(IA,`
`).replace(PA,"")}function Qa(t,e,n){if(e=ty(e),ty(t)!==e&&n)throw Error(B(425))}function zl(){}var ed=null,td=null;function nd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,RA=typeof clearTimeout=="function"?clearTimeout:void 0,ny=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof ny<"u"?function(t){return ny.resolve(null).then(t).catch(kA)}:rd;function kA(t){setTimeout(function(){throw t})}function Xc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Do(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Do(e)}function ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ry(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fi=Math.random().toString(36).slice(2),fn="__reactFiber$"+fi,Fo="__reactProps$"+fi,Dn="__reactContainer$"+fi,sd="__reactEvents$"+fi,VA="__reactListeners$"+fi,NA="__reactHandles$"+fi;function zr(t){var e=t[fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dn]||n[fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ry(t);t!==null;){if(n=t[fn])return n;t=ry(t)}return e}t=n,n=t.parentNode}return null}function pa(t){return t=t[fn]||t[Dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Nu(t){return t[Fo]||null}var id=[],Ps=-1;function Pr(t){return{current:t}}function ye(t){0>Ps||(t.current=id[Ps],id[Ps]=null,Ps--)}function he(t,e){Ps++,id[Ps]=t.current,t.current=e}var vr={},dt=Pr(vr),St=Pr(!1),Jr=vr;function Ys(t,e){var n=t.type.contextTypes;if(!n)return vr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function At(t){return t=t.childContextTypes,t!=null}function $l(){ye(St),ye(dt)}function sy(t,e,n){if(dt.current!==vr)throw Error(B(168));he(dt,e),he(St,n)}function R1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,y2(t)||"Unknown",s));return Ae({},n,r)}function Wl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vr,Jr=dt.current,he(dt,t),he(St,St.current),!0}function iy(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=R1(t,e,Jr),r.__reactInternalMemoizedMergedChildContext=t,ye(St),ye(dt),he(dt,t)):ye(St),he(St,n)}var Cn=null,Du=!1,Jc=!1;function b1(t){Cn===null?Cn=[t]:Cn.push(t)}function DA(t){Du=!0,b1(t)}function Rr(){if(!Jc&&Cn!==null){Jc=!0;var t=0,e=le;try{var n=Cn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cn=null,Du=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(t+1)),t1(Pf,Rr),s}finally{le=e,Jc=!1}}return null}var Rs=[],bs=0,Hl=null,Kl=0,Bt=[],Ut=0,Zr=null,In=1,Pn="";function Or(t,e){Rs[bs++]=Kl,Rs[bs++]=Hl,Hl=t,Kl=e}function k1(t,e,n){Bt[Ut++]=In,Bt[Ut++]=Pn,Bt[Ut++]=Zr,Zr=t;var r=In;t=Pn;var s=32-tn(r)-1;r&=~(1<<s),n+=1;var i=32-tn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,In=1<<32-tn(e)+s|n<<s|r,Pn=i+t}else In=1<<i|n<<s|r,Pn=t}function Of(t){t.return!==null&&(Or(t,1),k1(t,1,0))}function jf(t){for(;t===Hl;)Hl=Rs[--bs],Rs[bs]=null,Kl=Rs[--bs],Rs[bs]=null;for(;t===Zr;)Zr=Bt[--Ut],Bt[Ut]=null,Pn=Bt[--Ut],Bt[Ut]=null,In=Bt[--Ut],Bt[Ut]=null}var Vt=null,bt=null,we=!1,Zt=null;function V1(t,e){var n=Wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,bt=ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zr!==null?{id:In,overflow:Pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,bt=null,!0):!1;default:return!1}}function od(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ad(t){if(we){var e=bt;if(e){var n=e;if(!oy(t,e)){if(od(t))throw Error(B(418));e=ar(n.nextSibling);var r=Vt;e&&oy(t,e)?V1(r,n):(t.flags=t.flags&-4097|2,we=!1,Vt=t)}}else{if(od(t))throw Error(B(418));t.flags=t.flags&-4097|2,we=!1,Vt=t}}}function ay(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function Ya(t){if(t!==Vt)return!1;if(!we)return ay(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nd(t.type,t.memoizedProps)),e&&(e=bt)){if(od(t))throw N1(),Error(B(418));for(;e;)V1(t,e),e=ar(e.nextSibling)}if(ay(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bt=ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bt=null}}else bt=Vt?ar(t.stateNode.nextSibling):null;return!0}function N1(){for(var t=bt;t;)t=ar(t.nextSibling)}function Xs(){bt=Vt=null,we=!1}function Ff(t){Zt===null?Zt=[t]:Zt.push(t)}var MA=Un.ReactCurrentBatchConfig;function Hi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Xa(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ly(t){var e=t._init;return e(t._payload)}function D1(t){function e(_,y){if(t){var T=_.deletions;T===null?(_.deletions=[y],_.flags|=16):T.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=hr(_,y),_.index=0,_.sibling=null,_}function i(_,y,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<y?(_.flags|=2,y):T):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,y,T,N){return y===null||y.tag!==6?(y=ih(T,_.mode,N),y.return=_,y):(y=s(y,T),y.return=_,y)}function u(_,y,T,N){var k=T.type;return k===Ts?h(_,y,T.props.children,N,T.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yn&&ly(k)===y.type)?(N=s(y,T.props),N.ref=Hi(_,y,T),N.return=_,N):(N=Tl(T.type,T.key,T.props,null,_.mode,N),N.ref=Hi(_,y,T),N.return=_,N)}function c(_,y,T,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=oh(T,_.mode,N),y.return=_,y):(y=s(y,T.children||[]),y.return=_,y)}function h(_,y,T,N,k){return y===null||y.tag!==7?(y=Gr(T,_.mode,N,k),y.return=_,y):(y=s(y,T),y.return=_,y)}function f(_,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ih(""+y,_.mode,T),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ba:return T=Tl(y.type,y.key,y.props,null,_.mode,T),T.ref=Hi(_,null,y),T.return=_,T;case Es:return y=oh(y,_.mode,T),y.return=_,y;case Yn:var N=y._init;return f(_,N(y._payload),T)}if(Xi(y)||Bi(y))return y=Gr(y,_.mode,T,null),y.return=_,y;Xa(_,y)}return null}function p(_,y,T,N){var k=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return k!==null?null:l(_,y,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ba:return T.key===k?u(_,y,T,N):null;case Es:return T.key===k?c(_,y,T,N):null;case Yn:return k=T._init,p(_,y,k(T._payload),N)}if(Xi(T)||Bi(T))return k!==null?null:h(_,y,T,N,null);Xa(_,T)}return null}function v(_,y,T,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(T)||null,l(y,_,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ba:return _=_.get(N.key===null?T:N.key)||null,u(y,_,N,k);case Es:return _=_.get(N.key===null?T:N.key)||null,c(y,_,N,k);case Yn:var L=N._init;return v(_,y,T,L(N._payload),k)}if(Xi(N)||Bi(N))return _=_.get(T)||null,h(y,_,N,k,null);Xa(y,N)}return null}function A(_,y,T,N){for(var k=null,L=null,E=y,g=y=0,S=null;E!==null&&g<T.length;g++){E.index>g?(S=E,E=null):S=E.sibling;var C=p(_,E,T[g],N);if(C===null){E===null&&(E=S);break}t&&E&&C.alternate===null&&e(_,E),y=i(C,y,g),L===null?k=C:L.sibling=C,L=C,E=S}if(g===T.length)return n(_,E),we&&Or(_,g),k;if(E===null){for(;g<T.length;g++)E=f(_,T[g],N),E!==null&&(y=i(E,y,g),L===null?k=E:L.sibling=E,L=E);return we&&Or(_,g),k}for(E=r(_,E);g<T.length;g++)S=v(E,_,g,T[g],N),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?g:S.key),y=i(S,y,g),L===null?k=S:L.sibling=S,L=S);return t&&E.forEach(function(R){return e(_,R)}),we&&Or(_,g),k}function I(_,y,T,N){var k=Bi(T);if(typeof k!="function")throw Error(B(150));if(T=k.call(T),T==null)throw Error(B(151));for(var L=k=null,E=y,g=y=0,S=null,C=T.next();E!==null&&!C.done;g++,C=T.next()){E.index>g?(S=E,E=null):S=E.sibling;var R=p(_,E,C.value,N);if(R===null){E===null&&(E=S);break}t&&E&&R.alternate===null&&e(_,E),y=i(R,y,g),L===null?k=R:L.sibling=R,L=R,E=S}if(C.done)return n(_,E),we&&Or(_,g),k;if(E===null){for(;!C.done;g++,C=T.next())C=f(_,C.value,N),C!==null&&(y=i(C,y,g),L===null?k=C:L.sibling=C,L=C);return we&&Or(_,g),k}for(E=r(_,E);!C.done;g++,C=T.next())C=v(E,_,g,C.value,N),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?g:C.key),y=i(C,y,g),L===null?k=C:L.sibling=C,L=C);return t&&E.forEach(function(V){return e(_,V)}),we&&Or(_,g),k}function b(_,y,T,N){if(typeof T=="object"&&T!==null&&T.type===Ts&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ba:e:{for(var k=T.key,L=y;L!==null;){if(L.key===k){if(k=T.type,k===Ts){if(L.tag===7){n(_,L.sibling),y=s(L,T.props.children),y.return=_,_=y;break e}}else if(L.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yn&&ly(k)===L.type){n(_,L.sibling),y=s(L,T.props),y.ref=Hi(_,L,T),y.return=_,_=y;break e}n(_,L);break}else e(_,L);L=L.sibling}T.type===Ts?(y=Gr(T.props.children,_.mode,N,T.key),y.return=_,_=y):(N=Tl(T.type,T.key,T.props,null,_.mode,N),N.ref=Hi(_,y,T),N.return=_,_=N)}return o(_);case Es:e:{for(L=T.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(_,y.sibling),y=s(y,T.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=oh(T,_.mode,N),y.return=_,_=y}return o(_);case Yn:return L=T._init,b(_,y,L(T._payload),N)}if(Xi(T))return A(_,y,T,N);if(Bi(T))return I(_,y,T,N);Xa(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,T),y.return=_,_=y):(n(_,y),y=ih(T,_.mode,N),y.return=_,_=y),o(_)):n(_,y)}return b}var Js=D1(!0),M1=D1(!1),ql=Pr(null),Gl=null,ks=null,Bf=null;function Uf(){Bf=ks=Gl=null}function zf(t){var e=ql.current;ye(ql),t._currentValue=e}function ld(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $s(t,e){Gl=t,Bf=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function Kt(t){var e=t._currentValue;if(Bf!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(Gl===null)throw Error(B(308));ks=t,Gl.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var $r=null;function $f(t){$r===null?$r=[t]:$r.push(t)}function L1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,$f(e)):(n.next=s.next,s.next=n),e.interleaved=n,Mn(t,r)}function Mn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xn=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Mn(t,n)}return s=r.interleaved,s===null?(e.next=e,$f(r)):(e.next=s.next,s.next=e),r.interleaved=e,Mn(t,n)}function yl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rf(t,n)}}function uy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ql(t,e,n,r){var s=t.updateQueue;Xn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=c=u=null,l=i;do{var p=l.lane,v=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var A=t,I=l;switch(p=e,v=n,I.tag){case 1:if(A=I.payload,typeof A=="function"){f=A.call(v,f,p);break e}f=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=I.payload,p=typeof A=="function"?A.call(v,f,p):A,p==null)break e;f=Ae({},f,p);break e;case 2:Xn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=v,u=f):h=h.next=v,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ts|=o,t.lanes=o,t.memoizedState=f}}function cy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var ma={},mn=Pr(ma),Bo=Pr(ma),Uo=Pr(ma);function Wr(t){if(t===ma)throw Error(B(174));return t}function Hf(t,e){switch(he(Uo,e),he(Bo,t),he(mn,ma),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zh(e,t)}ye(mn),he(mn,e)}function Zs(){ye(mn),ye(Bo),ye(Uo)}function j1(t){Wr(Uo.current);var e=Wr(mn.current),n=zh(e,t.type);e!==n&&(he(Bo,t),he(mn,n))}function Kf(t){Bo.current===t&&(ye(mn),ye(Bo))}var xe=Pr(0);function Yl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zc=[];function qf(){for(var t=0;t<Zc.length;t++)Zc[t]._workInProgressVersionPrimary=null;Zc.length=0}var vl=Un.ReactCurrentDispatcher,eh=Un.ReactCurrentBatchConfig,es=0,Se=null,Oe=null,He=null,Xl=!1,mo=!1,zo=0,LA=0;function rt(){throw Error(B(321))}function Gf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sn(t[n],e[n]))return!1;return!0}function Qf(t,e,n,r,s,i){if(es=i,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vl.current=t===null||t.memoizedState===null?BA:UA,t=n(r,s),mo){i=0;do{if(mo=!1,zo=0,25<=i)throw Error(B(301));i+=1,He=Oe=null,e.updateQueue=null,vl.current=zA,t=n(r,s)}while(mo)}if(vl.current=Jl,e=Oe!==null&&Oe.next!==null,es=0,He=Oe=Se=null,Xl=!1,e)throw Error(B(300));return t}function Yf(){var t=zo!==0;return zo=0,t}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Se.memoizedState=He=t:He=He.next=t,He}function qt(){if(Oe===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=He===null?Se.memoizedState:He.next;if(e!==null)He=e,Oe=t;else{if(t===null)throw Error(B(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},He===null?Se.memoizedState=He=t:He=He.next=t}return He}function $o(t,e){return typeof e=="function"?e(t):e}function th(t){var e=qt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Oe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var h=c.lane;if((es&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Se.lanes|=h,ts|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,sn(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Se.lanes|=i,ts|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nh(t){var e=qt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);sn(i,e.memoizedState)||(Tt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function F1(){}function B1(t,e){var n=Se,r=qt(),s=e(),i=!sn(r.memoizedState,s);if(i&&(r.memoizedState=s,Tt=!0),r=r.queue,Xf($1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,Wo(9,z1.bind(null,n,r,s,e),void 0,null),Ke===null)throw Error(B(349));es&30||U1(n,e,s)}return s}function U1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function z1(t,e,n,r){e.value=n,e.getSnapshot=r,W1(e)&&H1(t)}function $1(t,e,n){return n(function(){W1(e)&&H1(t)})}function W1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sn(t,n)}catch{return!0}}function H1(t){var e=Mn(t,1);e!==null&&nn(e,t,1,-1)}function hy(t){var e=hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},e.queue=t,t=t.dispatch=FA.bind(null,Se,t),[e.memoizedState,t]}function Wo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function K1(){return qt().memoizedState}function _l(t,e,n,r){var s=hn();Se.flags|=t,s.memoizedState=Wo(1|e,n,void 0,r===void 0?null:r)}function Mu(t,e,n,r){var s=qt();r=r===void 0?null:r;var i=void 0;if(Oe!==null){var o=Oe.memoizedState;if(i=o.destroy,r!==null&&Gf(r,o.deps)){s.memoizedState=Wo(e,n,i,r);return}}Se.flags|=t,s.memoizedState=Wo(1|e,n,i,r)}function dy(t,e){return _l(8390656,8,t,e)}function Xf(t,e){return Mu(2048,8,t,e)}function q1(t,e){return Mu(4,2,t,e)}function G1(t,e){return Mu(4,4,t,e)}function Q1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y1(t,e,n){return n=n!=null?n.concat([t]):null,Mu(4,4,Q1.bind(null,e,t),n)}function Jf(){}function X1(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function J1(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Z1(t,e,n){return es&21?(sn(n,e)||(n=s1(),Se.lanes|=n,ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function OA(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=eh.transition;eh.transition={};try{t(!1),e()}finally{le=n,eh.transition=r}}function ew(){return qt().memoizedState}function jA(t,e,n){var r=cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tw(t))nw(e,n);else if(n=L1(t,e,n,r),n!==null){var s=yt();nn(n,t,r,s),rw(n,e,r)}}function FA(t,e,n){var r=cr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tw(t))nw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,sn(l,o)){var u=e.interleaved;u===null?(s.next=s,$f(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=L1(t,e,s,r),n!==null&&(s=yt(),nn(n,t,r,s),rw(n,e,r))}}function tw(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function nw(t,e){mo=Xl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rf(t,n)}}var Jl={readContext:Kt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},BA={readContext:Kt,useCallback:function(t,e){return hn().memoizedState=[t,e===void 0?null:e],t},useContext:Kt,useEffect:dy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_l(4194308,4,Q1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _l(4194308,4,t,e)},useInsertionEffect:function(t,e){return _l(4,2,t,e)},useMemo:function(t,e){var n=hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jA.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=hn();return t={current:t},e.memoizedState=t},useState:hy,useDebugValue:Jf,useDeferredValue:function(t){return hn().memoizedState=t},useTransition:function(){var t=hy(!1),e=t[0];return t=OA.bind(null,t[1]),hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,s=hn();if(we){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ke===null)throw Error(B(349));es&30||U1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,dy($1.bind(null,r,i,t),[t]),r.flags|=2048,Wo(9,z1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=hn(),e=Ke.identifierPrefix;if(we){var n=Pn,r=In;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=zo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UA={readContext:Kt,useCallback:X1,useContext:Kt,useEffect:Xf,useImperativeHandle:Y1,useInsertionEffect:q1,useLayoutEffect:G1,useMemo:J1,useReducer:th,useRef:K1,useState:function(){return th($o)},useDebugValue:Jf,useDeferredValue:function(t){var e=qt();return Z1(e,Oe.memoizedState,t)},useTransition:function(){var t=th($o)[0],e=qt().memoizedState;return[t,e]},useMutableSource:F1,useSyncExternalStore:B1,useId:ew,unstable_isNewReconciler:!1},zA={readContext:Kt,useCallback:X1,useContext:Kt,useEffect:Xf,useImperativeHandle:Y1,useInsertionEffect:q1,useLayoutEffect:G1,useMemo:J1,useReducer:nh,useRef:K1,useState:function(){return nh($o)},useDebugValue:Jf,useDeferredValue:function(t){var e=qt();return Oe===null?e.memoizedState=t:Z1(e,Oe.memoizedState,t)},useTransition:function(){var t=nh($o)[0],e=qt().memoizedState;return[t,e]},useMutableSource:F1,useSyncExternalStore:B1,useId:ew,unstable_isNewReconciler:!1};function Xt(t,e){if(t&&t.defaultProps){e=Ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ud(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lu={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yt(),s=cr(t),i=Rn(r,s);i.payload=e,n!=null&&(i.callback=n),e=lr(t,i,s),e!==null&&(nn(e,t,s,r),yl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yt(),s=cr(t),i=Rn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=lr(t,i,s),e!==null&&(nn(e,t,s,r),yl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yt(),r=cr(t),s=Rn(n,r);s.tag=2,e!=null&&(s.callback=e),e=lr(t,s,r),e!==null&&(nn(e,t,r,n),yl(e,t,r))}};function fy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Lo(n,r)||!Lo(s,i):!0}function sw(t,e,n){var r=!1,s=vr,i=e.contextType;return typeof i=="object"&&i!==null?i=Kt(i):(s=At(e)?Jr:dt.current,r=e.contextTypes,i=(r=r!=null)?Ys(t,s):vr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function py(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lu.enqueueReplaceState(e,e.state,null)}function cd(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Wf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Kt(i):(i=At(e)?Jr:dt.current,s.context=Ys(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ud(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Lu.enqueueReplaceState(s,s.state,null),Ql(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ei(t,e){try{var n="",r=e;do n+=g2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $A=typeof WeakMap=="function"?WeakMap:Map;function iw(t,e,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eu||(eu=!0,xd=r),hd(t,e)},n}function ow(t,e,n){n=Rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){hd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hd(t,e),typeof r!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function my(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $A;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=rC.bind(null,t,e,n),e.then(t,t))}function gy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rn(-1,1),e.tag=2,lr(n,e,1))),n.lanes|=1),t)}var WA=Un.ReactCurrentOwner,Tt=!1;function gt(t,e,n,r){e.child=t===null?M1(e,null,n,r):Js(e,t.child,n,r)}function vy(t,e,n,r,s){n=n.render;var i=e.ref;return $s(e,s),r=Qf(t,e,n,r,i,s),n=Yf(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ln(t,e,s)):(we&&n&&Of(e),e.flags|=1,gt(t,e,r,s),e.child)}function _y(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!op(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,aw(t,e,i,r,s)):(t=Tl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lo,n(o,r)&&t.ref===e.ref)return Ln(t,e,s)}return e.flags|=1,t=hr(i,r),t.ref=e.ref,t.return=e,e.child=t}function aw(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Lo(i,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,Ln(t,e,s)}return dd(t,e,n,r,s)}function lw(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Ns,Rt),Rt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(Ns,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,he(Ns,Rt),Rt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,he(Ns,Rt),Rt|=r;return gt(t,e,s,n),e.child}function uw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dd(t,e,n,r,s){var i=At(n)?Jr:dt.current;return i=Ys(e,i),$s(e,s),n=Qf(t,e,n,r,i,s),r=Yf(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ln(t,e,s)):(we&&r&&Of(e),e.flags|=1,gt(t,e,n,s),e.child)}function wy(t,e,n,r,s){if(At(n)){var i=!0;Wl(e)}else i=!1;if($s(e,s),e.stateNode===null)wl(t,e),sw(e,n,r),cd(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kt(c):(c=At(n)?Jr:dt.current,c=Ys(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&py(e,o,r,c),Xn=!1;var p=e.memoizedState;o.state=p,Ql(e,r,o,s),u=e.memoizedState,l!==r||p!==u||St.current||Xn?(typeof h=="function"&&(ud(e,n,h,r),u=e.memoizedState),(l=Xn||fy(e,n,l,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,O1(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Xt(e.type,l),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Kt(u):(u=At(n)?Jr:dt.current,u=Ys(e,u));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==u)&&py(e,o,r,u),Xn=!1,p=e.memoizedState,o.state=p,Ql(e,r,o,s);var A=e.memoizedState;l!==f||p!==A||St.current||Xn?(typeof v=="function"&&(ud(e,n,v,r),A=e.memoizedState),(c=Xn||fy(e,n,c,r,p,A,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return fd(t,e,n,r,i,s)}function fd(t,e,n,r,s,i){uw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&iy(e,n,!1),Ln(t,e,i);r=e.stateNode,WA.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Js(e,t.child,null,i),e.child=Js(e,null,l,i)):gt(t,e,l,i),e.memoizedState=r.state,s&&iy(e,n,!0),e.child}function cw(t){var e=t.stateNode;e.pendingContext?sy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sy(t,e.context,!1),Hf(t,e.containerInfo)}function xy(t,e,n,r,s){return Xs(),Ff(s),e.flags|=256,gt(t,e,n,r),e.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function md(t){return{baseLanes:t,cachePool:null,transitions:null}}function hw(t,e,n){var r=e.pendingProps,s=xe.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),he(xe,s&1),t===null)return ad(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fu(o,r,0,null),t=Gr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=md(n),e.memoizedState=pd,t):Zf(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return HA(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=hr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=hr(l,i):(i=Gr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?md(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=pd,r}return i=t.child,t=i.sibling,r=hr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zf(t,e){return e=Fu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ja(t,e,n,r){return r!==null&&Ff(r),Js(e,t.child,null,n),t=Zf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=rh(Error(B(422))),Ja(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Fu({mode:"visible",children:r.children},s,0,null),i=Gr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Js(e,t.child,null,o),e.child.memoizedState=md(o),e.memoizedState=pd,i);if(!(e.mode&1))return Ja(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(B(419)),r=rh(i,r,void 0),Ja(t,e,o,r)}if(l=(o&t.childLanes)!==0,Tt||l){if(r=Ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mn(t,s),nn(r,t,s,-1))}return ip(),r=rh(Error(B(421))),Ja(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,bt=ar(s.nextSibling),Vt=e,we=!0,Zt=null,t!==null&&(Bt[Ut++]=In,Bt[Ut++]=Pn,Bt[Ut++]=Zr,In=t.id,Pn=t.overflow,Zr=e),e=Zf(e,r.children),e.flags|=4096,e)}function Ey(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ld(t.return,e,n)}function sh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dw(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(gt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ey(t,n,e);else if(t.tag===19)Ey(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),sh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}sh(e,!0,n,null,i);break;case"together":sh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ln(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KA(t,e,n){switch(e.tag){case 3:cw(e),Xs();break;case 5:j1(e);break;case 1:At(e.type)&&Wl(e);break;case 4:Hf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;he(ql,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?hw(t,e,n):(he(xe,xe.current&1),t=Ln(t,e,n),t!==null?t.sibling:null);he(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,lw(t,e,n)}return Ln(t,e,n)}var fw,gd,pw,mw;fw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gd=function(){};pw=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Wr(mn.current);var i=null;switch(n){case"input":s=jh(t,s),r=jh(t,r),i=[];break;case"select":s=Ae({},s,{value:void 0}),r=Ae({},r,{value:void 0}),i=[];break;case"textarea":s=Uh(t,s),r=Uh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zl)}$h(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ro.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&me("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};mw=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ki(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qA(t,e,n){var r=e.pendingProps;switch(jf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return At(e.type)&&$l(),st(e),null;case 3:return r=e.stateNode,Zs(),ye(St),ye(dt),qf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ya(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(Sd(Zt),Zt=null))),gd(t,e),st(e),null;case 5:Kf(e);var s=Wr(Uo.current);if(n=e.type,t!==null&&e.stateNode!=null)pw(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return st(e),null}if(t=Wr(mn.current),Ya(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[fn]=e,r[Fo]=i,t=(e.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(s=0;s<Zi.length;s++)me(Zi[s],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":kg(r,i),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},me("invalid",r);break;case"textarea":Ng(r,i),me("invalid",r)}$h(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Qa(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Qa(r.textContent,l,t),s=["children",""+l]):Ro.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&me("scroll",r)}switch(n){case"input":Ua(r),Vg(r,i,!0);break;case"textarea":Ua(r),Dg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fn]=e,t[Fo]=r,fw(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wh(n,r),n){case"dialog":me("cancel",t),me("close",t),s=r;break;case"iframe":case"object":case"embed":me("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zi.length;s++)me(Zi[s],t);s=r;break;case"source":me("error",t),s=r;break;case"img":case"image":case"link":me("error",t),me("load",t),s=r;break;case"details":me("toggle",t),s=r;break;case"input":kg(t,r),s=jh(t,r),me("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ae({},r,{value:void 0}),me("invalid",t);break;case"textarea":Ng(t,r),s=Uh(t,r),me("invalid",t);break;default:s=r}$h(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?K_(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&W_(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bo(t,u):typeof u=="number"&&bo(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ro.hasOwnProperty(i)?u!=null&&i==="onScroll"&&me("scroll",t):u!=null&&Tf(t,i,u,o))}switch(n){case"input":Ua(t),Vg(t,r,!1);break;case"textarea":Ua(t),Dg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)mw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Wr(Uo.current),Wr(mn.current),Ya(e)){if(r=e.stateNode,n=e.memoizedProps,r[fn]=e,(i=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Qa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=e,e.stateNode=r}return st(e),null;case 13:if(ye(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&bt!==null&&e.mode&1&&!(e.flags&128))N1(),Xs(),e.flags|=98560,i=!1;else if(i=Ya(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[fn]=e}else Xs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),i=!1}else Zt!==null&&(Sd(Zt),Zt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?Fe===0&&(Fe=3):ip())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return Zs(),gd(t,e),t===null&&Oo(e.stateNode.containerInfo),st(e),null;case 10:return zf(e.type._context),st(e),null;case 17:return At(e.type)&&$l(),st(e),null;case 19:if(ye(xe),i=e.memoizedState,i===null)return st(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ki(i,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yl(t),o!==null){for(e.flags|=128,Ki(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(xe,xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ve()>ti&&(e.flags|=128,r=!0,Ki(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ki(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return st(e),null}else 2*Ve()-i.renderingStartTime>ti&&n!==1073741824&&(e.flags|=128,r=!0,Ki(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ve(),e.sibling=null,n=xe.current,he(xe,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return sp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function GA(t,e){switch(jf(e),e.tag){case 1:return At(e.type)&&$l(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zs(),ye(St),ye(dt),qf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kf(e),null;case 13:if(ye(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(xe),null;case 4:return Zs(),null;case 10:return zf(e.type._context),null;case 22:case 23:return sp(),null;case 24:return null;default:return null}}var Za=!1,ut=!1,QA=typeof WeakSet=="function"?WeakSet:Set,W=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function yd(t,e,n){try{n()}catch(r){Re(t,e,r)}}var Ty=!1;function YA(t,e){if(ed=Fl,t=w1(),Lf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===t)break t;if(p===n&&++c===s&&(l=o),p===i&&++h===r&&(u=o),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(td={focusedElem:t,selectionRange:n},Fl=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var I=A.memoizedProps,b=A.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?I:Xt(e.type,I),b);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){Re(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return A=Ty,Ty=!1,A}function go(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&yd(e,n,i)}s=s.next}while(s!==r)}}function Ou(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gw(t){var e=t.alternate;e!==null&&(t.alternate=null,gw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fn],delete e[Fo],delete e[sd],delete e[VA],delete e[NA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yw(t){return t.tag===5||t.tag===3||t.tag===4}function Sy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zl));else if(r!==4&&(t=t.child,t!==null))for(_d(t,e,n),t=t.sibling;t!==null;)_d(t,e,n),t=t.sibling}function wd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wd(t,e,n),t=t.sibling;t!==null;)wd(t,e,n),t=t.sibling}var Qe=null,Jt=!1;function Gn(t,e,n){for(n=n.child;n!==null;)vw(t,e,n),n=n.sibling}function vw(t,e,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Ru,n)}catch{}switch(n.tag){case 5:ut||Vs(n,e);case 6:var r=Qe,s=Jt;Qe=null,Gn(t,e,n),Qe=r,Jt=s,Qe!==null&&(Jt?(t=Qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(Jt?(t=Qe,n=n.stateNode,t.nodeType===8?Xc(t.parentNode,n):t.nodeType===1&&Xc(t,n),Do(t)):Xc(Qe,n.stateNode));break;case 4:r=Qe,s=Jt,Qe=n.stateNode.containerInfo,Jt=!0,Gn(t,e,n),Qe=r,Jt=s;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yd(n,e,o),s=s.next}while(s!==r)}Gn(t,e,n);break;case 1:if(!ut&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Re(n,e,l)}Gn(t,e,n);break;case 21:Gn(t,e,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,Gn(t,e,n),ut=r):Gn(t,e,n);break;default:Gn(t,e,n)}}function Ay(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QA),e.forEach(function(r){var s=iC.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Qe=l.stateNode,Jt=!1;break e;case 3:Qe=l.stateNode.containerInfo,Jt=!0;break e;case 4:Qe=l.stateNode.containerInfo,Jt=!0;break e}l=l.return}if(Qe===null)throw Error(B(160));vw(i,o,s),Qe=null,Jt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Re(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_w(e,t),e=e.sibling}function _w(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),cn(t),r&4){try{go(3,t,t.return),Ou(3,t)}catch(I){Re(t,t.return,I)}try{go(5,t,t.return)}catch(I){Re(t,t.return,I)}}break;case 1:Qt(e,t),cn(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(Qt(e,t),cn(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var s=t.stateNode;try{bo(s,"")}catch(I){Re(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&U_(s,i),Wh(l,o);var c=Wh(l,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?K_(s,f):h==="dangerouslySetInnerHTML"?W_(s,f):h==="children"?bo(s,f):Tf(s,h,f,c)}switch(l){case"input":Fh(s,i);break;case"textarea":z_(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Fs(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Fs(s,!!i.multiple,i.defaultValue,!0):Fs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Fo]=i}catch(I){Re(t,t.return,I)}}break;case 6:if(Qt(e,t),cn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){Re(t,t.return,I)}}break;case 3:if(Qt(e,t),cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Do(e.containerInfo)}catch(I){Re(t,t.return,I)}break;case 4:Qt(e,t),cn(t);break;case 13:Qt(e,t),cn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(np=Ve())),r&4&&Ay(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ut=(c=ut)||h,Qt(e,t),ut=c):Qt(e,t),cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(f=W=h;W!==null;){switch(p=W,v=p.child,p.tag){case 0:case 11:case 14:case 15:go(4,p,p.return);break;case 1:Vs(p,p.return);var A=p.stateNode;if(typeof A.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(I){Re(r,n,I)}}break;case 5:Vs(p,p.return);break;case 22:if(p.memoizedState!==null){Iy(f);continue}}v!==null?(v.return=p,W=v):Iy(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=H_("display",o))}catch(I){Re(t,t.return,I)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(I){Re(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qt(e,t),cn(t),r&4&&Ay(t);break;case 21:break;default:Qt(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yw(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bo(s,""),r.flags&=-33);var i=Sy(t);wd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Sy(t);_d(t,l,o);break;default:throw Error(B(161))}}catch(u){Re(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XA(t,e,n){W=t,ww(t)}function ww(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Za;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||ut;l=Za;var c=ut;if(Za=o,(ut=u)&&!c)for(W=s;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?Py(s):u!==null?(u.return=o,W=u):Py(s);for(;i!==null;)W=i,ww(i),i=i.sibling;W=s,Za=l,ut=c}Cy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):Cy(t)}}function Cy(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ut||Ou(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ut)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Xt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Do(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ut||e.flags&512&&vd(e)}catch(p){Re(e,e.return,p)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Iy(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Py(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ou(4,e)}catch(u){Re(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Re(e,s,u)}}var i=e.return;try{vd(e)}catch(u){Re(e,i,u)}break;case 5:var o=e.return;try{vd(e)}catch(u){Re(e,o,u)}}}catch(u){Re(e,e.return,u)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var JA=Math.ceil,Zl=Un.ReactCurrentDispatcher,ep=Un.ReactCurrentOwner,Ht=Un.ReactCurrentBatchConfig,ie=0,Ke=null,De=null,Ze=0,Rt=0,Ns=Pr(0),Fe=0,Ho=null,ts=0,ju=0,tp=0,yo=null,Et=null,np=0,ti=1/0,An=null,eu=!1,xd=null,ur=null,el=!1,tr=null,tu=0,vo=0,Ed=null,xl=-1,El=0;function yt(){return ie&6?Ve():xl!==-1?xl:xl=Ve()}function cr(t){return t.mode&1?ie&2&&Ze!==0?Ze&-Ze:MA.transition!==null?(El===0&&(El=s1()),El):(t=le,t!==0||(t=window.event,t=t===void 0?16:h1(t.type)),t):1}function nn(t,e,n,r){if(50<vo)throw vo=0,Ed=null,Error(B(185));da(t,n,r),(!(ie&2)||t!==Ke)&&(t===Ke&&(!(ie&2)&&(ju|=n),Fe===4&&Zn(t,Ze)),Ct(t,r),n===1&&ie===0&&!(e.mode&1)&&(ti=Ve()+500,Du&&Rr()))}function Ct(t,e){var n=t.callbackNode;M2(t,e);var r=jl(t,t===Ke?Ze:0);if(r===0)n!==null&&Og(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Og(n),e===1)t.tag===0?DA(Ry.bind(null,t)):b1(Ry.bind(null,t)),bA(function(){!(ie&6)&&Rr()}),n=null;else{switch(i1(r)){case 1:n=Pf;break;case 4:n=n1;break;case 16:n=Ol;break;case 536870912:n=r1;break;default:n=Ol}n=Pw(n,xw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xw(t,e){if(xl=-1,El=0,ie&6)throw Error(B(327));var n=t.callbackNode;if(Ws()&&t.callbackNode!==n)return null;var r=jl(t,t===Ke?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nu(t,r);else{e=r;var s=ie;ie|=2;var i=Tw();(Ke!==t||Ze!==e)&&(An=null,ti=Ve()+500,qr(t,e));do try{tC();break}catch(l){Ew(t,l)}while(!0);Uf(),Zl.current=i,ie=s,De!==null?e=0:(Ke=null,Ze=0,e=Fe)}if(e!==0){if(e===2&&(s=Qh(t),s!==0&&(r=s,e=Td(t,s))),e===1)throw n=Ho,qr(t,0),Zn(t,r),Ct(t,Ve()),n;if(e===6)Zn(t,r);else{if(s=t.current.alternate,!(r&30)&&!ZA(s)&&(e=nu(t,r),e===2&&(i=Qh(t),i!==0&&(r=i,e=Td(t,i))),e===1))throw n=Ho,qr(t,0),Zn(t,r),Ct(t,Ve()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:jr(t,Et,An);break;case 3:if(Zn(t,r),(r&130023424)===r&&(e=np+500-Ve(),10<e)){if(jl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){yt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=rd(jr.bind(null,t,Et,An),e);break}jr(t,Et,An);break;case 4:if(Zn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-tn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JA(r/1960))-r,10<r){t.timeoutHandle=rd(jr.bind(null,t,Et,An),r);break}jr(t,Et,An);break;case 5:jr(t,Et,An);break;default:throw Error(B(329))}}}return Ct(t,Ve()),t.callbackNode===n?xw.bind(null,t):null}function Td(t,e){var n=yo;return t.current.memoizedState.isDehydrated&&(qr(t,e).flags|=256),t=nu(t,e),t!==2&&(e=Et,Et=n,e!==null&&Sd(e)),t}function Sd(t){Et===null?Et=t:Et.push.apply(Et,t)}function ZA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!sn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zn(t,e){for(e&=~tp,e&=~ju,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function Ry(t){if(ie&6)throw Error(B(327));Ws();var e=jl(t,0);if(!(e&1))return Ct(t,Ve()),null;var n=nu(t,e);if(t.tag!==0&&n===2){var r=Qh(t);r!==0&&(e=r,n=Td(t,r))}if(n===1)throw n=Ho,qr(t,0),Zn(t,e),Ct(t,Ve()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jr(t,Et,An),Ct(t,Ve()),null}function rp(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(ti=Ve()+500,Du&&Rr())}}function ns(t){tr!==null&&tr.tag===0&&!(ie&6)&&Ws();var e=ie;ie|=1;var n=Ht.transition,r=le;try{if(Ht.transition=null,le=1,t)return t()}finally{le=r,Ht.transition=n,ie=e,!(ie&6)&&Rr()}}function sp(){Rt=Ns.current,ye(Ns)}function qr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RA(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(jf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$l();break;case 3:Zs(),ye(St),ye(dt),qf();break;case 5:Kf(r);break;case 4:Zs();break;case 13:ye(xe);break;case 19:ye(xe);break;case 10:zf(r.type._context);break;case 22:case 23:sp()}n=n.return}if(Ke=t,De=t=hr(t.current,null),Ze=Rt=e,Fe=0,Ho=null,tp=ju=ts=0,Et=yo=null,$r!==null){for(e=0;e<$r.length;e++)if(n=$r[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$r=null}return t}function Ew(t,e){do{var n=De;try{if(Uf(),vl.current=Jl,Xl){for(var r=Se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xl=!1}if(es=0,He=Oe=Se=null,mo=!1,zo=0,ep.current=null,n===null||n.return===null){Fe=1,Ho=e,De=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=Ze,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=gy(o);if(v!==null){v.flags&=-257,yy(v,o,l,i,e),v.mode&1&&my(i,c,e),e=v,u=c;var A=e.updateQueue;if(A===null){var I=new Set;I.add(u),e.updateQueue=I}else A.add(u);break e}else{if(!(e&1)){my(i,c,e),ip();break e}u=Error(B(426))}}else if(we&&l.mode&1){var b=gy(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),yy(b,o,l,i,e),Ff(ei(u,l));break e}}i=u=ei(u,l),Fe!==4&&(Fe=2),yo===null?yo=[i]:yo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=iw(i,u,e);uy(i,_);break e;case 1:l=u;var y=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ur===null||!ur.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=ow(i,l,e);uy(i,N);break e}}i=i.return}while(i!==null)}Aw(n)}catch(k){e=k,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function Tw(){var t=Zl.current;return Zl.current=Jl,t===null?Jl:t}function ip(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ke===null||!(ts&268435455)&&!(ju&268435455)||Zn(Ke,Ze)}function nu(t,e){var n=ie;ie|=2;var r=Tw();(Ke!==t||Ze!==e)&&(An=null,qr(t,e));do try{eC();break}catch(s){Ew(t,s)}while(!0);if(Uf(),ie=n,Zl.current=r,De!==null)throw Error(B(261));return Ke=null,Ze=0,Fe}function eC(){for(;De!==null;)Sw(De)}function tC(){for(;De!==null&&!C2();)Sw(De)}function Sw(t){var e=Iw(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?Aw(t):De=e,ep.current=null}function Aw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GA(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,De=null;return}}else if(n=qA(n,e,Rt),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Fe===0&&(Fe=5)}function jr(t,e,n){var r=le,s=Ht.transition;try{Ht.transition=null,le=1,nC(t,e,n,r)}finally{Ht.transition=s,le=r}return null}function nC(t,e,n,r){do Ws();while(tr!==null);if(ie&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(L2(t,i),t===Ke&&(De=Ke=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||el||(el=!0,Pw(Ol,function(){return Ws(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ht.transition,Ht.transition=null;var o=le;le=1;var l=ie;ie|=4,ep.current=null,YA(t,n),_w(n,t),EA(td),Fl=!!ed,td=ed=null,t.current=n,XA(n),I2(),ie=l,le=o,Ht.transition=i}else t.current=n;if(el&&(el=!1,tr=t,tu=s),i=t.pendingLanes,i===0&&(ur=null),b2(n.stateNode),Ct(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(eu)throw eu=!1,t=xd,xd=null,t;return tu&1&&t.tag!==0&&Ws(),i=t.pendingLanes,i&1?t===Ed?vo++:(vo=0,Ed=t):vo=0,Rr(),null}function Ws(){if(tr!==null){var t=i1(tu),e=Ht.transition,n=le;try{if(Ht.transition=null,le=16>t?16:t,tr===null)var r=!1;else{if(t=tr,tr=null,tu=0,ie&6)throw Error(B(331));var s=ie;for(ie|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(W=c;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:go(8,h,i)}var f=h.child;if(f!==null)f.return=h,W=f;else for(;W!==null;){h=W;var p=h.sibling,v=h.return;if(gw(h),h===c){W=null;break}if(p!==null){p.return=v,W=p;break}W=v}}}var A=i.alternate;if(A!==null){var I=A.child;if(I!==null){A.child=null;do{var b=I.sibling;I.sibling=null,I=b}while(I!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:go(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,W=_;break e}W=i.return}}var y=t.current;for(W=y;W!==null;){o=W;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,W=T;else e:for(o=y;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ou(9,l)}}catch(k){Re(l,l.return,k)}if(l===o){W=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,W=N;break e}W=l.return}}if(ie=s,Rr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Ru,t)}catch{}r=!0}return r}finally{le=n,Ht.transition=e}}return!1}function by(t,e,n){e=ei(n,e),e=iw(t,e,1),t=lr(t,e,1),e=yt(),t!==null&&(da(t,1,e),Ct(t,e))}function Re(t,e,n){if(t.tag===3)by(t,t,n);else for(;e!==null;){if(e.tag===3){by(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ur===null||!ur.has(r))){t=ei(n,t),t=ow(e,t,1),e=lr(e,t,1),t=yt(),e!==null&&(da(e,1,t),Ct(e,t));break}}e=e.return}}function rC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yt(),t.pingedLanes|=t.suspendedLanes&n,Ke===t&&(Ze&n)===n&&(Fe===4||Fe===3&&(Ze&130023424)===Ze&&500>Ve()-np?qr(t,0):tp|=n),Ct(t,e)}function Cw(t,e){e===0&&(t.mode&1?(e=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):e=1);var n=yt();t=Mn(t,e),t!==null&&(da(t,e,n),Ct(t,n))}function sC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cw(t,n)}function iC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Cw(t,n)}var Iw;Iw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,KA(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,we&&e.flags&1048576&&k1(e,Kl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wl(t,e),t=e.pendingProps;var s=Ys(e,dt.current);$s(e,n),s=Qf(null,e,r,t,s,n);var i=Yf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(i=!0,Wl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wf(e),s.updater=Lu,e.stateNode=s,s._reactInternals=e,cd(e,r,t,n),e=fd(null,e,r,!0,i,n)):(e.tag=0,we&&i&&Of(e),gt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=aC(r),t=Xt(r,t),s){case 0:e=dd(null,e,r,t,n);break e;case 1:e=wy(null,e,r,t,n);break e;case 11:e=vy(null,e,r,t,n);break e;case 14:e=_y(null,e,r,Xt(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xt(r,s),dd(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xt(r,s),wy(t,e,r,s,n);case 3:e:{if(cw(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,O1(t,e),Ql(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ei(Error(B(423)),e),e=xy(t,e,r,n,s);break e}else if(r!==s){s=ei(Error(B(424)),e),e=xy(t,e,r,n,s);break e}else for(bt=ar(e.stateNode.containerInfo.firstChild),Vt=e,we=!0,Zt=null,n=M1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xs(),r===s){e=Ln(t,e,n);break e}gt(t,e,r,n)}e=e.child}return e;case 5:return j1(e),t===null&&ad(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,nd(r,s)?o=null:i!==null&&nd(r,i)&&(e.flags|=32),uw(t,e),gt(t,e,o,n),e.child;case 6:return t===null&&ad(e),null;case 13:return hw(t,e,n);case 4:return Hf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Js(e,null,r,n):gt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xt(r,s),vy(t,e,r,s,n);case 7:return gt(t,e,e.pendingProps,n),e.child;case 8:return gt(t,e,e.pendingProps.children,n),e.child;case 12:return gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,he(ql,r._currentValue),r._currentValue=o,i!==null)if(sn(i.value,o)){if(i.children===s.children&&!St.current){e=Ln(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Rn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),ld(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ld(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}gt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,$s(e,n),s=Kt(s),r=r(s),e.flags|=1,gt(t,e,r,n),e.child;case 14:return r=e.type,s=Xt(r,e.pendingProps),s=Xt(r.type,s),_y(t,e,r,s,n);case 15:return aw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xt(r,s),wl(t,e),e.tag=1,At(r)?(t=!0,Wl(e)):t=!1,$s(e,n),sw(e,r,s),cd(e,r,s,n),fd(null,e,r,!0,t,n);case 19:return dw(t,e,n);case 22:return lw(t,e,n)}throw Error(B(156,e.tag))};function Pw(t,e){return t1(t,e)}function oC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,e,n,r){return new oC(t,e,n,r)}function op(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aC(t){if(typeof t=="function")return op(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Af)return 11;if(t===Cf)return 14}return 2}function hr(t,e){var n=t.alternate;return n===null?(n=Wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")op(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ts:return Gr(n.children,s,i,e);case Sf:o=8,s|=8;break;case Dh:return t=Wt(12,n,e,s|2),t.elementType=Dh,t.lanes=i,t;case Mh:return t=Wt(13,n,e,s),t.elementType=Mh,t.lanes=i,t;case Lh:return t=Wt(19,n,e,s),t.elementType=Lh,t.lanes=i,t;case j_:return Fu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L_:o=10;break e;case O_:o=9;break e;case Af:o=11;break e;case Cf:o=14;break e;case Yn:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Wt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Gr(t,e,n,r){return t=Wt(7,t,r,e),t.lanes=n,t}function Fu(t,e,n,r){return t=Wt(22,t,r,e),t.elementType=j_,t.lanes=n,t.stateNode={isHidden:!1},t}function ih(t,e,n){return t=Wt(6,t,null,e),t.lanes=n,t}function oh(t,e,n){return e=Wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bc(0),this.expirationTimes=Bc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ap(t,e,n,r,s,i,o,l,u){return t=new lC(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Wt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(i),t}function uC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rw(t){if(!t)return vr;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(At(n))return R1(t,n,e)}return e}function bw(t,e,n,r,s,i,o,l,u){return t=ap(n,r,!0,t,s,i,o,l,u),t.context=Rw(null),n=t.current,r=yt(),s=cr(n),i=Rn(r,s),i.callback=e??null,lr(n,i,s),t.current.lanes=s,da(t,s,r),Ct(t,r),t}function Bu(t,e,n,r){var s=e.current,i=yt(),o=cr(s);return n=Rw(n),e.context===null?e.context=n:e.pendingContext=n,e=Rn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lr(s,e,o),t!==null&&(nn(t,s,o,i),yl(t,s,o)),o}function ru(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ky(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lp(t,e){ky(t,e),(t=t.alternate)&&ky(t,e)}function cC(){return null}var kw=typeof reportError=="function"?reportError:function(t){console.error(t)};function up(t){this._internalRoot=t}Uu.prototype.render=up.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Bu(t,e,null,null)};Uu.prototype.unmount=up.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ns(function(){Bu(null,t,null,null)}),e[Dn]=null}};function Uu(t){this._internalRoot=t}Uu.prototype.unstable_scheduleHydration=function(t){if(t){var e=l1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jn.length&&e!==0&&e<Jn[n].priority;n++);Jn.splice(n,0,t),n===0&&c1(t)}};function cp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vy(){}function hC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ru(o);i.call(c)}}var o=bw(e,r,t,0,null,!1,!1,"",Vy);return t._reactRootContainer=o,t[Dn]=o.current,Oo(t.nodeType===8?t.parentNode:t),ns(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ru(u);l.call(c)}}var u=ap(t,0,!1,null,null,!1,!1,"",Vy);return t._reactRootContainer=u,t[Dn]=u.current,Oo(t.nodeType===8?t.parentNode:t),ns(function(){Bu(e,u,n,r)}),u}function $u(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=ru(o);l.call(u)}}Bu(e,o,t,s)}else o=hC(n,e,t,s,r);return ru(o)}o1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ji(e.pendingLanes);n!==0&&(Rf(e,n|1),Ct(e,Ve()),!(ie&6)&&(ti=Ve()+500,Rr()))}break;case 13:ns(function(){var r=Mn(t,1);if(r!==null){var s=yt();nn(r,t,1,s)}}),lp(t,1)}};bf=function(t){if(t.tag===13){var e=Mn(t,134217728);if(e!==null){var n=yt();nn(e,t,134217728,n)}lp(t,134217728)}};a1=function(t){if(t.tag===13){var e=cr(t),n=Mn(t,e);if(n!==null){var r=yt();nn(n,t,e,r)}lp(t,e)}};l1=function(){return le};u1=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};Kh=function(t,e,n){switch(e){case"input":if(Fh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Nu(r);if(!s)throw Error(B(90));B_(r),Fh(r,s)}}}break;case"textarea":z_(t,n);break;case"select":e=n.value,e!=null&&Fs(t,!!n.multiple,e,!1)}};Q_=rp;Y_=ns;var dC={usingClientEntryPoint:!1,Events:[pa,Is,Nu,q_,G_,rp]},qi={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fC={bundleType:qi.bundleType,version:qi.version,rendererPackageName:qi.rendererPackageName,rendererConfig:qi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Un.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Z_(t),t===null?null:t.stateNode},findFiberByHostInstance:qi.findFiberByHostInstance||cC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Ru=tl.inject(fC),pn=tl}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dC;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cp(e))throw Error(B(200));return uC(t,e,null,n)};Lt.createRoot=function(t,e){if(!cp(t))throw Error(B(299));var n=!1,r="",s=kw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ap(t,1,!1,null,null,n,!1,r,s),t[Dn]=e.current,Oo(t.nodeType===8?t.parentNode:t),new up(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Z_(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return ns(t)};Lt.hydrate=function(t,e,n){if(!zu(e))throw Error(B(200));return $u(null,t,e,!0,n)};Lt.hydrateRoot=function(t,e,n){if(!cp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=kw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bw(e,null,t,1,n??null,s,!1,i,o),t[Dn]=e.current,Oo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Uu(e)};Lt.render=function(t,e,n){if(!zu(e))throw Error(B(200));return $u(null,t,e,!1,n)};Lt.unmountComponentAtNode=function(t){if(!zu(t))throw Error(B(40));return t._reactRootContainer?(ns(function(){$u(null,null,t,!1,function(){t._reactRootContainer=null,t[Dn]=null})}),!0):!1};Lt.unstable_batchedUpdates=rp;Lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zu(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return $u(t,e,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function Vw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vw)}catch(t){console.error(t)}}Vw(),V_.exports=Lt;var pC=V_.exports,Ny=pC;Vh.createRoot=Ny.createRoot,Vh.hydrateRoot=Ny.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(this,arguments)}var nr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(nr||(nr={}));const Dy="popstate";function mC(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Ad("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Nw(s)}return yC(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hp(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gC(){return Math.random().toString(36).substr(2,8)}function My(t,e){return{usr:t.state,key:t.key,idx:e}}function Ad(t,e,n,r){return n===void 0&&(n=null),Ko({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pi(e):e,{state:n,key:e&&e.key||r||gC()})}function Nw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=nr.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(Ko({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=nr.Pop;let b=h(),_=b==null?null:b-c;c=b,u&&u({action:l,location:I.location,delta:_})}function p(b,_){l=nr.Push;let y=Ad(I.location,b,_);c=h()+1;let T=My(y,c),N=I.createHref(y);try{o.pushState(T,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(N)}i&&u&&u({action:l,location:I.location,delta:1})}function v(b,_){l=nr.Replace;let y=Ad(I.location,b,_);c=h();let T=My(y,c),N=I.createHref(y);o.replaceState(T,"",N),i&&u&&u({action:l,location:I.location,delta:0})}function A(b){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof b=="string"?b:Nw(b);return y=y.replace(/ $/,"%20"),Ue(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let I={get action(){return l},get location(){return t(s,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Dy,f),u=b,()=>{s.removeEventListener(Dy,f),u=null}},createHref(b){return e(s,b)},createURL:A,encodeLocation(b){let _=A(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(b){return o.go(b)}};return I}var Ly;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ly||(Ly={}));function vC(t,e,n){return n===void 0&&(n="/"),_C(t,e,n)}function _C(t,e,n,r){let s=typeof e=="string"?pi(e):e,i=Lw(s.pathname||"/",n);if(i==null)return null;let o=Dw(t);wC(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=VC(i);l=RC(o[u],c)}return l}function Dw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Ue(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Qr([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(Ue(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Dw(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:IC(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of Mw(i.path))s(i,o,u)}),e}function Mw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Mw(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function wC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xC=/^:[\w-]+$/,EC=3,TC=2,SC=1,AC=10,CC=-2,Oy=t=>t==="*";function IC(t,e){let n=t.split("/"),r=n.length;return n.some(Oy)&&(r+=CC),e&&(r+=TC),n.filter(s=>!Oy(s)).reduce((s,i)=>s+(xC.test(i)?EC:i===""?SC:AC),r)}function PC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function RC(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=bC({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Qr([i,f.pathname]),pathnameBase:FC(Qr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Qr([i,f.pathnameBase]))}return o}function bC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:p,isOptional:v}=h;if(p==="*"){let I=l[f]||"";o=i.slice(0,i.length-I.length).replace(/(.)\/+$/,"$1")}const A=l[f];return v&&!A?c[p]=void 0:c[p]=(A||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function kC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),hp(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function VC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hp(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const NC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DC=t=>NC.test(t);function MC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?pi(t):t,i;if(n)if(DC(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),hp(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?i=jy(n.substring(1),"/"):i=jy(n,e)}else i=e;return{pathname:i,search:BC(r),hash:UC(s)}}function jy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ah(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function OC(t,e){let n=LC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jC(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=pi(t):(s=Ko({},t),Ue(!s.pathname||!s.pathname.includes("?"),ah("?","pathname","search",s)),Ue(!s.pathname||!s.pathname.includes("#"),ah("#","pathname","hash",s)),Ue(!s.search||!s.search.includes("#"),ah("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let u=MC(s,l),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Qr=t=>t.join("/").replace(/\/\/+/g,"/"),FC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ow=["post","put","patch","delete"];new Set(Ow);const $C=["get",...Ow];new Set($C);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(this,arguments)}const dp=M.createContext(null),WC=M.createContext(null),Wu=M.createContext(null),Hu=M.createContext(null),mi=M.createContext({outlet:null,matches:[],isDataRoute:!1}),jw=M.createContext(null);function Ku(){return M.useContext(Hu)!=null}function Fw(){return Ku()||Ue(!1),M.useContext(Hu).location}function Bw(t){M.useContext(Wu).static||M.useLayoutEffect(t)}function Uw(){let{isDataRoute:t}=M.useContext(mi);return t?rI():HC()}function HC(){Ku()||Ue(!1);let t=M.useContext(dp),{basename:e,future:n,navigator:r}=M.useContext(Wu),{matches:s}=M.useContext(mi),{pathname:i}=Fw(),o=JSON.stringify(OC(s,n.v7_relativeSplatPath)),l=M.useRef(!1);return Bw(()=>{l.current=!0}),M.useCallback(function(c,h){if(h===void 0&&(h={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=jC(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Qr([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function KC(t,e){return qC(t,e)}function qC(t,e,n,r){Ku()||Ue(!1);let{navigator:s}=M.useContext(Wu),{matches:i}=M.useContext(mi),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Fw(),h;if(e){var f;let b=typeof e=="string"?pi(e):e;u==="/"||(f=b.pathname)!=null&&f.startsWith(u)||Ue(!1),h=b}else h=c;let p=h.pathname||"/",v=p;if(u!=="/"){let b=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let A=vC(t,{pathname:v}),I=JC(A&&A.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Qr([u,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Qr([u,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&I?M.createElement(Hu.Provider,{value:{location:qo({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:nr.Pop}},I):I}function GC(){let t=nI(),e=zC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:s},n):null,null)}const QC=M.createElement(GC,null);class YC extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(mi.Provider,{value:this.props.routeContext},M.createElement(jw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XC(t){let{routeContext:e,match:n,children:r}=t,s=M.useContext(dp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(mi.Provider,{value:e},r)}function JC(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Ue(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:v}=n,A=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||A){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let v,A=!1,I=null,b=null;n&&(v=l&&f.route.id?l[f.route.id]:void 0,I=f.route.errorElement||QC,u&&(c<0&&p===0?(sI("route-fallback"),A=!0,b=null):c===p&&(A=!0,b=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),y=()=>{let T;return v?T=I:A?T=b:f.route.Component?T=M.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=h,M.createElement(XC,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?M.createElement(YC,{location:n.location,revalidation:n.revalidation,component:I,error:v,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var zw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zw||{}),$w=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}($w||{});function ZC(t){let e=M.useContext(dp);return e||Ue(!1),e}function eI(t){let e=M.useContext(WC);return e||Ue(!1),e}function tI(t){let e=M.useContext(mi);return e||Ue(!1),e}function Ww(t){let e=tI(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function nI(){var t;let e=M.useContext(jw),n=eI(),r=Ww();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function rI(){let{router:t}=ZC(zw.UseNavigateStable),e=Ww($w.UseNavigateStable),n=M.useRef(!1);return Bw(()=>{n.current=!0}),M.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,qo({fromRouteId:e},i)))},[t,e])}const Fy={};function sI(t,e,n){Fy[t]||(Fy[t]=!0)}function iI(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Sl(t){Ue(!1)}function oI(t){let{basename:e="/",children:n=null,location:r,navigationType:s=nr.Pop,navigator:i,static:o=!1,future:l}=t;Ku()&&Ue(!1);let u=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:u,navigator:i,static:o,future:qo({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=pi(r));let{pathname:h="/",search:f="",hash:p="",state:v=null,key:A="default"}=r,I=M.useMemo(()=>{let b=Lw(h,u);return b==null?null:{location:{pathname:b,search:f,hash:p,state:v,key:A},navigationType:s}},[u,h,f,p,v,A,s]);return I==null?null:M.createElement(Wu.Provider,{value:c},M.createElement(Hu.Provider,{children:n,value:I}))}function aI(t){let{children:e,location:n}=t;return KC(Cd(e),n)}new Promise(()=>{});function Cd(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,s)=>{if(!M.isValidElement(r))return;let i=[...e,s];if(r.type===M.Fragment){n.push.apply(n,Cd(r.props.children,i));return}r.type!==Sl&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Cd(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const lI="6";try{window.__reactRouterVersion=lI}catch{}const uI="startTransition",By=r2[uI];function cI(t){let{basename:e,children:n,future:r,window:s}=t,i=M.useRef();i.current==null&&(i.current=mC({window:s,v5Compat:!0}));let o=i.current,[l,u]=M.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=M.useCallback(f=>{c&&By?By(()=>u(f)):u(f)},[u,c]);return M.useLayoutEffect(()=>o.listen(h),[o,h]),M.useEffect(()=>iI(r),[r]),M.createElement(oI,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}var Uy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Uy||(Uy={}));var zy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zy||(zy={}));const hI=()=>{};var $y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|c>>6,v=c&63;u||(v=64,o||(p=64)),r.push(n[h],n[f],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||f==null)throw new fI;const p=i<<2|l>>4;if(r.push(p),c!==64){const v=l<<4&240|c>>2;if(r.push(v),f!==64){const A=c<<6&192|f;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pI=function(t){const e=Hw(t);return Kw.encodeByteArray(e,!0)},su=function(t){return pI(t).replace(/\./g,"")},mI=function(t){try{return Kw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=()=>gI().__FIREBASE_DEFAULTS__,vI=()=>{if(typeof process>"u"||typeof $y>"u")return;const t=$y.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_I=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mI(t[1]);return e&&JSON.parse(e)},fp=()=>{try{return hI()||yI()||vI()||_I()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wI=t=>{var e,n;return(n=(e=fp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},xI=t=>{const e=wI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qw=()=>{var t;return(t=fp())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[su(JSON.stringify(n)),su(JSON.stringify(o)),""].join(".")}const _o={};function AI(){const t={prod:[],emulator:[]};for(const e of Object.keys(_o))_o[e]?t.emulator.push(e):t.prod.push(e);return t}function CI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Wy=!1;function II(t,e){if(typeof window>"u"||typeof document>"u"||!pp(window.location.host)||_o[t]===e||_o[t]||Wy)return;_o[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=AI().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Wy=!0,o()},p}function h(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=CI(r),v=n("text"),A=document.getElementById(v)||document.createElement("span"),I=n("learnmore"),b=document.getElementById(I)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;l(T),h(b,I);const N=c();u(y,_),T.append(y,A,b,N),document.body.appendChild(T)}i?(A.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RI(){var e;const t=(e=fp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bI(){return!RI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kI(){try{return typeof indexedDB=="object"}catch{return!1}}function VI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="FirebaseError";class gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NI,Object.setPrototypeOf(this,gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gw.prototype.create)}}class Gw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?DI(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new gi(s,l,r)}}function DI(t,e){return t.replace(MI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const MI=/\{\$([^}]+)}/g;function iu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Hy(i)&&Hy(o)){if(!iu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Hy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){return t&&t._delegate?t._delegate:t}class Qo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new EI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jI(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OI(t){return t===Fr?void 0:t}function jI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const BI={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},UI=se.INFO,zI={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},$I=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=zI[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qw{constructor(e){this.name=e,this._logLevel=UI,this._logHandler=$I,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const WI=(t,e)=>e.some(n=>t instanceof n);let Ky,qy;function HI(){return Ky||(Ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KI(){return qy||(qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yw=new WeakMap,Id=new WeakMap,Xw=new WeakMap,lh=new WeakMap,mp=new WeakMap;function qI(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(dr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Yw.set(n,t)}).catch(()=>{}),mp.set(e,t),e}function GI(t){if(Id.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Id.set(t,e)}let Pd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Id.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QI(t){Pd=t(Pd)}function YI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uh(this),e,...n);return Xw.set(r,e.sort?e.sort():[e]),dr(r)}:KI().includes(t)?function(...e){return t.apply(uh(this),e),dr(Yw.get(this))}:function(...e){return dr(t.apply(uh(this),e))}}function XI(t){return typeof t=="function"?YI(t):(t instanceof IDBTransaction&&GI(t),WI(t,HI())?new Proxy(t,Pd):t)}function dr(t){if(t instanceof IDBRequest)return qI(t);if(lh.has(t))return lh.get(t);const e=XI(t);return e!==t&&(lh.set(t,e),mp.set(e,t)),e}const uh=t=>mp.get(t);function JI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=dr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(dr(o.result),u.oldVersion,u.newVersion,dr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const ZI=["get","getKey","getAll","getAllKeys","count"],eP=["put","add","delete","clear"],ch=new Map;function Gy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ch.get(e))return ch.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=eP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ZI.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return ch.set(e,i),i}QI(t=>({...t,get:(e,n,r)=>Gy(e,n)||t.get(e,n,r),has:(e,n)=>!!Gy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rd="@firebase/app",Qy="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new Qw("@firebase/app"),rP="@firebase/app-compat",sP="@firebase/analytics-compat",iP="@firebase/analytics",oP="@firebase/app-check-compat",aP="@firebase/app-check",lP="@firebase/auth",uP="@firebase/auth-compat",cP="@firebase/database",hP="@firebase/data-connect",dP="@firebase/database-compat",fP="@firebase/functions",pP="@firebase/functions-compat",mP="@firebase/installations",gP="@firebase/installations-compat",yP="@firebase/messaging",vP="@firebase/messaging-compat",_P="@firebase/performance",wP="@firebase/performance-compat",xP="@firebase/remote-config",EP="@firebase/remote-config-compat",TP="@firebase/storage",SP="@firebase/storage-compat",AP="@firebase/firestore",CP="@firebase/ai",IP="@firebase/firestore-compat",PP="firebase",RP="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",bP={[Rd]:"fire-core",[rP]:"fire-core-compat",[iP]:"fire-analytics",[sP]:"fire-analytics-compat",[aP]:"fire-app-check",[oP]:"fire-app-check-compat",[lP]:"fire-auth",[uP]:"fire-auth-compat",[cP]:"fire-rtdb",[hP]:"fire-data-connect",[dP]:"fire-rtdb-compat",[fP]:"fire-fn",[pP]:"fire-fn-compat",[mP]:"fire-iid",[gP]:"fire-iid-compat",[yP]:"fire-fcm",[vP]:"fire-fcm-compat",[_P]:"fire-perf",[wP]:"fire-perf-compat",[xP]:"fire-rc",[EP]:"fire-rc-compat",[TP]:"fire-gcs",[SP]:"fire-gcs-compat",[AP]:"fire-fst",[IP]:"fire-fst-compat",[CP]:"fire-vertex","fire-js":"fire-js",[PP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=new Map,kP=new Map,kd=new Map;function Yy(t,e){try{t.container.addComponent(e)}catch(n){On.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function au(t){const e=t.name;if(kd.has(e))return On.debug(`There were multiple attempts to register component ${e}.`),!1;kd.set(e,t);for(const n of ou.values())Yy(n,t);for(const n of kP.values())Yy(n,t);return!0}function VP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function NP(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Gw("app","Firebase",DP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=RP;function Jw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:bd,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw fr.create("bad-app-name",{appName:String(s)});if(n||(n=qw()),!n)throw fr.create("no-options");const i=ou.get(s);if(i){if(iu(n,i.options)&&iu(r,i.config))return i;throw fr.create("duplicate-app",{appName:s})}const o=new FI(s);for(const u of kd.values())o.addComponent(u);const l=new MP(n,r,o);return ou.set(s,l),l}function OP(t=bd){const e=ou.get(t);if(!e&&t===bd&&qw())return Jw();if(!e)throw fr.create("no-app",{appName:t});return e}function Hs(t,e,n){let r=bP[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),On.warn(o.join(" "));return}au(new Qo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="firebase-heartbeat-database",FP=1,Yo="firebase-heartbeat-store";let hh=null;function Zw(){return hh||(hh=JI(jP,FP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yo)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),hh}async function BP(t){try{const n=(await Zw()).transaction(Yo),r=await n.objectStore(Yo).get(ex(t));return await n.done,r}catch(e){if(e instanceof gi)On.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});On.warn(n.message)}}}async function Xy(t,e){try{const r=(await Zw()).transaction(Yo,"readwrite");await r.objectStore(Yo).put(e,ex(t)),await r.done}catch(n){if(n instanceof gi)On.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});On.warn(r.message)}}}function ex(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=1024,zP=30;class $P{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Jy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>zP){const o=KP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){On.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jy(),{heartbeatsToSend:r,unsentEntries:s}=WP(this._heartbeatsCache.heartbeats),i=su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return On.warn(n),""}}}function Jy(){return new Date().toISOString().substring(0,10)}function WP(t,e=UP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Zy(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Zy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kI()?VI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Zy(t){return su(JSON.stringify({version:2,heartbeats:t})).length}function KP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t){au(new Qo("platform-logger",e=>new tP(e),"PRIVATE")),au(new Qo("heartbeat",e=>new $P(e),"PRIVATE")),Hs(Rd,Qy,t),Hs(Rd,Qy,"esm2020"),Hs("fire-js","")}qP("");var GP="firebase",QP="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs(GP,QP,"app");var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pr,tx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,g){function S(){}S.prototype=g.prototype,E.F=g.prototype,E.prototype=new S,E.prototype.constructor=E,E.D=function(C,R,V){for(var P=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)P[ve-2]=arguments[ve];return g.prototype[R].apply(C,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,g,S){S||(S=0);const C=Array(16);if(typeof g=="string")for(var R=0;R<16;++R)C[R]=g.charCodeAt(S++)|g.charCodeAt(S++)<<8|g.charCodeAt(S++)<<16|g.charCodeAt(S++)<<24;else for(R=0;R<16;++R)C[R]=g[S++]|g[S++]<<8|g[S++]<<16|g[S++]<<24;g=E.g[0],S=E.g[1],R=E.g[2];let V=E.g[3],P;P=g+(V^S&(R^V))+C[0]+3614090360&4294967295,g=S+(P<<7&4294967295|P>>>25),P=V+(R^g&(S^R))+C[1]+3905402710&4294967295,V=g+(P<<12&4294967295|P>>>20),P=R+(S^V&(g^S))+C[2]+606105819&4294967295,R=V+(P<<17&4294967295|P>>>15),P=S+(g^R&(V^g))+C[3]+3250441966&4294967295,S=R+(P<<22&4294967295|P>>>10),P=g+(V^S&(R^V))+C[4]+4118548399&4294967295,g=S+(P<<7&4294967295|P>>>25),P=V+(R^g&(S^R))+C[5]+1200080426&4294967295,V=g+(P<<12&4294967295|P>>>20),P=R+(S^V&(g^S))+C[6]+2821735955&4294967295,R=V+(P<<17&4294967295|P>>>15),P=S+(g^R&(V^g))+C[7]+4249261313&4294967295,S=R+(P<<22&4294967295|P>>>10),P=g+(V^S&(R^V))+C[8]+1770035416&4294967295,g=S+(P<<7&4294967295|P>>>25),P=V+(R^g&(S^R))+C[9]+2336552879&4294967295,V=g+(P<<12&4294967295|P>>>20),P=R+(S^V&(g^S))+C[10]+4294925233&4294967295,R=V+(P<<17&4294967295|P>>>15),P=S+(g^R&(V^g))+C[11]+2304563134&4294967295,S=R+(P<<22&4294967295|P>>>10),P=g+(V^S&(R^V))+C[12]+1804603682&4294967295,g=S+(P<<7&4294967295|P>>>25),P=V+(R^g&(S^R))+C[13]+4254626195&4294967295,V=g+(P<<12&4294967295|P>>>20),P=R+(S^V&(g^S))+C[14]+2792965006&4294967295,R=V+(P<<17&4294967295|P>>>15),P=S+(g^R&(V^g))+C[15]+1236535329&4294967295,S=R+(P<<22&4294967295|P>>>10),P=g+(R^V&(S^R))+C[1]+4129170786&4294967295,g=S+(P<<5&4294967295|P>>>27),P=V+(S^R&(g^S))+C[6]+3225465664&4294967295,V=g+(P<<9&4294967295|P>>>23),P=R+(g^S&(V^g))+C[11]+643717713&4294967295,R=V+(P<<14&4294967295|P>>>18),P=S+(V^g&(R^V))+C[0]+3921069994&4294967295,S=R+(P<<20&4294967295|P>>>12),P=g+(R^V&(S^R))+C[5]+3593408605&4294967295,g=S+(P<<5&4294967295|P>>>27),P=V+(S^R&(g^S))+C[10]+38016083&4294967295,V=g+(P<<9&4294967295|P>>>23),P=R+(g^S&(V^g))+C[15]+3634488961&4294967295,R=V+(P<<14&4294967295|P>>>18),P=S+(V^g&(R^V))+C[4]+3889429448&4294967295,S=R+(P<<20&4294967295|P>>>12),P=g+(R^V&(S^R))+C[9]+568446438&4294967295,g=S+(P<<5&4294967295|P>>>27),P=V+(S^R&(g^S))+C[14]+3275163606&4294967295,V=g+(P<<9&4294967295|P>>>23),P=R+(g^S&(V^g))+C[3]+4107603335&4294967295,R=V+(P<<14&4294967295|P>>>18),P=S+(V^g&(R^V))+C[8]+1163531501&4294967295,S=R+(P<<20&4294967295|P>>>12),P=g+(R^V&(S^R))+C[13]+2850285829&4294967295,g=S+(P<<5&4294967295|P>>>27),P=V+(S^R&(g^S))+C[2]+4243563512&4294967295,V=g+(P<<9&4294967295|P>>>23),P=R+(g^S&(V^g))+C[7]+1735328473&4294967295,R=V+(P<<14&4294967295|P>>>18),P=S+(V^g&(R^V))+C[12]+2368359562&4294967295,S=R+(P<<20&4294967295|P>>>12),P=g+(S^R^V)+C[5]+4294588738&4294967295,g=S+(P<<4&4294967295|P>>>28),P=V+(g^S^R)+C[8]+2272392833&4294967295,V=g+(P<<11&4294967295|P>>>21),P=R+(V^g^S)+C[11]+1839030562&4294967295,R=V+(P<<16&4294967295|P>>>16),P=S+(R^V^g)+C[14]+4259657740&4294967295,S=R+(P<<23&4294967295|P>>>9),P=g+(S^R^V)+C[1]+2763975236&4294967295,g=S+(P<<4&4294967295|P>>>28),P=V+(g^S^R)+C[4]+1272893353&4294967295,V=g+(P<<11&4294967295|P>>>21),P=R+(V^g^S)+C[7]+4139469664&4294967295,R=V+(P<<16&4294967295|P>>>16),P=S+(R^V^g)+C[10]+3200236656&4294967295,S=R+(P<<23&4294967295|P>>>9),P=g+(S^R^V)+C[13]+681279174&4294967295,g=S+(P<<4&4294967295|P>>>28),P=V+(g^S^R)+C[0]+3936430074&4294967295,V=g+(P<<11&4294967295|P>>>21),P=R+(V^g^S)+C[3]+3572445317&4294967295,R=V+(P<<16&4294967295|P>>>16),P=S+(R^V^g)+C[6]+76029189&4294967295,S=R+(P<<23&4294967295|P>>>9),P=g+(S^R^V)+C[9]+3654602809&4294967295,g=S+(P<<4&4294967295|P>>>28),P=V+(g^S^R)+C[12]+3873151461&4294967295,V=g+(P<<11&4294967295|P>>>21),P=R+(V^g^S)+C[15]+530742520&4294967295,R=V+(P<<16&4294967295|P>>>16),P=S+(R^V^g)+C[2]+3299628645&4294967295,S=R+(P<<23&4294967295|P>>>9),P=g+(R^(S|~V))+C[0]+4096336452&4294967295,g=S+(P<<6&4294967295|P>>>26),P=V+(S^(g|~R))+C[7]+1126891415&4294967295,V=g+(P<<10&4294967295|P>>>22),P=R+(g^(V|~S))+C[14]+2878612391&4294967295,R=V+(P<<15&4294967295|P>>>17),P=S+(V^(R|~g))+C[5]+4237533241&4294967295,S=R+(P<<21&4294967295|P>>>11),P=g+(R^(S|~V))+C[12]+1700485571&4294967295,g=S+(P<<6&4294967295|P>>>26),P=V+(S^(g|~R))+C[3]+2399980690&4294967295,V=g+(P<<10&4294967295|P>>>22),P=R+(g^(V|~S))+C[10]+4293915773&4294967295,R=V+(P<<15&4294967295|P>>>17),P=S+(V^(R|~g))+C[1]+2240044497&4294967295,S=R+(P<<21&4294967295|P>>>11),P=g+(R^(S|~V))+C[8]+1873313359&4294967295,g=S+(P<<6&4294967295|P>>>26),P=V+(S^(g|~R))+C[15]+4264355552&4294967295,V=g+(P<<10&4294967295|P>>>22),P=R+(g^(V|~S))+C[6]+2734768916&4294967295,R=V+(P<<15&4294967295|P>>>17),P=S+(V^(R|~g))+C[13]+1309151649&4294967295,S=R+(P<<21&4294967295|P>>>11),P=g+(R^(S|~V))+C[4]+4149444226&4294967295,g=S+(P<<6&4294967295|P>>>26),P=V+(S^(g|~R))+C[11]+3174756917&4294967295,V=g+(P<<10&4294967295|P>>>22),P=R+(g^(V|~S))+C[2]+718787259&4294967295,R=V+(P<<15&4294967295|P>>>17),P=S+(V^(R|~g))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+V&4294967295}r.prototype.v=function(E,g){g===void 0&&(g=E.length);const S=g-this.blockSize,C=this.C;let R=this.h,V=0;for(;V<g;){if(R==0)for(;V<=S;)s(this,E,V),V+=this.blockSize;if(typeof E=="string"){for(;V<g;)if(C[R++]=E.charCodeAt(V++),R==this.blockSize){s(this,C),R=0;break}}else for(;V<g;)if(C[R++]=E[V++],R==this.blockSize){s(this,C),R=0;break}}this.h=R,this.o+=g},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;g=this.o*8;for(var S=E.length-8;S<E.length;++S)E[S]=g&255,g/=256;for(this.v(E),E=Array(16),g=0,S=0;S<4;++S)for(let C=0;C<32;C+=8)E[g++]=this.g[S]>>>C&255;return E};function i(E,g){var S=l;return Object.prototype.hasOwnProperty.call(S,E)?S[E]:S[E]=g(E)}function o(E,g){this.h=g;const S=[];let C=!0;for(let R=E.length-1;R>=0;R--){const V=E[R]|0;C&&V==g||(S[R]=V,C=!1)}this.g=S}var l={};function u(E){return-128<=E&&E<128?i(E,function(g){return new o([g|0],g<0?-1:0)}):new o([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return b(c(-E));const g=[];let S=1;for(let C=0;E>=S;C++)g[C]=E/S|0,S*=4294967296;return new o(g,0)}function h(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,g<2||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return b(h(E.substring(1),g));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=c(Math.pow(g,8));let C=f;for(let V=0;V<E.length;V+=8){var R=Math.min(8,E.length-V);const P=parseInt(E.substring(V,V+R),g);R<8?(R=c(Math.pow(g,R)),C=C.j(R).add(c(P))):(C=C.j(S),C=C.add(c(P)))}return C}var f=u(0),p=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-b(this).m();let E=0,g=1;for(let S=0;S<this.g.length;S++){const C=this.i(S);E+=(C>=0?C:4294967296+C)*g,g*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(I(this))return"-"+b(this).toString(E);const g=c(Math.pow(E,6));var S=this;let C="";for(;;){const R=N(S,g).g;S=_(S,R.j(g));let V=((S.g.length>0?S.g[0]:S.h)>>>0).toString(E);if(S=R,A(S))return V+C;for(;V.length<6;)V="0"+V;C=V+C}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(let g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function I(E){return E.h==-1}t.l=function(E){return E=_(this,E),I(E)?-1:A(E)?0:1};function b(E){const g=E.g.length,S=[];for(let C=0;C<g;C++)S[C]=~E.g[C];return new o(S,~E.h).add(p)}t.abs=function(){return I(this)?b(this):this},t.add=function(E){const g=Math.max(this.g.length,E.g.length),S=[];let C=0;for(let R=0;R<=g;R++){let V=C+(this.i(R)&65535)+(E.i(R)&65535),P=(V>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);C=P>>>16,V&=65535,P&=65535,S[R]=P<<16|V}return new o(S,S[S.length-1]&-2147483648?-1:0)};function _(E,g){return E.add(b(g))}t.j=function(E){if(A(this)||A(E))return f;if(I(this))return I(E)?b(this).j(b(E)):b(b(this).j(E));if(I(E))return b(this.j(b(E)));if(this.l(v)<0&&E.l(v)<0)return c(this.m()*E.m());const g=this.g.length+E.g.length,S=[];for(var C=0;C<2*g;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(let R=0;R<E.g.length;R++){const V=this.i(C)>>>16,P=this.i(C)&65535,ve=E.i(R)>>>16,Ge=E.i(R)&65535;S[2*C+2*R]+=P*Ge,y(S,2*C+2*R),S[2*C+2*R+1]+=V*Ge,y(S,2*C+2*R+1),S[2*C+2*R+1]+=P*ve,y(S,2*C+2*R+1),S[2*C+2*R+2]+=V*ve,y(S,2*C+2*R+2)}for(E=0;E<g;E++)S[E]=S[2*E+1]<<16|S[2*E];for(E=g;E<2*g;E++)S[E]=0;return new o(S,0)};function y(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function T(E,g){this.g=E,this.h=g}function N(E,g){if(A(g))throw Error("division by zero");if(A(E))return new T(f,f);if(I(E))return g=N(b(E),g),new T(b(g.g),b(g.h));if(I(g))return g=N(E,b(g)),new T(b(g.g),g.h);if(E.g.length>30){if(I(E)||I(g))throw Error("slowDivide_ only works with positive integers.");for(var S=p,C=g;C.l(E)<=0;)S=k(S),C=k(C);var R=L(S,1),V=L(C,1);for(C=L(C,2),S=L(S,2);!A(C);){var P=V.add(C);P.l(E)<=0&&(R=R.add(S),V=P),C=L(C,1),S=L(S,1)}return g=_(E,R.j(g)),new T(R,g)}for(R=f;E.l(g)>=0;){for(S=Math.max(1,Math.floor(E.m()/g.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),V=c(S),P=V.j(g);I(P)||P.l(E)>0;)S-=C,V=c(S),P=V.j(g);A(V)&&(V=p),R=R.add(V),E=_(E,P)}return new T(R,E)}t.B=function(E){return N(this,E).h},t.and=function(E){const g=Math.max(this.g.length,E.g.length),S=[];for(let C=0;C<g;C++)S[C]=this.i(C)&E.i(C);return new o(S,this.h&E.h)},t.or=function(E){const g=Math.max(this.g.length,E.g.length),S=[];for(let C=0;C<g;C++)S[C]=this.i(C)|E.i(C);return new o(S,this.h|E.h)},t.xor=function(E){const g=Math.max(this.g.length,E.g.length),S=[];for(let C=0;C<g;C++)S[C]=this.i(C)^E.i(C);return new o(S,this.h^E.h)};function k(E){const g=E.g.length+1,S=[];for(let C=0;C<g;C++)S[C]=E.i(C)<<1|E.i(C-1)>>>31;return new o(S,E.h)}function L(E,g){const S=g>>5;g%=32;const C=E.g.length-S,R=[];for(let V=0;V<C;V++)R[V]=g>0?E.i(V+S)>>>g|E.i(V+S+1)<<32-g:E.i(V+S);return new o(R,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,pr=o}).apply(typeof e0<"u"?e0:typeof self<"u"?self:typeof window<"u"?window:{});var nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nx,eo,rx,Al,Vd,sx,ix,ox;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof nl=="object"&&nl];for(var d=0;d<a.length;++d){var m=a[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(a,d){if(d)e:{var m=r;a=a.split(".");for(var x=0;x<a.length-1;x++){var D=a[x];if(!(D in m))break e;m=m[D]}a=a[a.length-1],x=m[a],d=d(x),d!=x&&d!=null&&e(m,a,{configurable:!0,writable:!0,value:d})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(d){var m=[],x;for(x in d)Object.prototype.hasOwnProperty.call(d,x)&&m.push([x,d[x]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function u(a,d,m){return a.call.apply(a.bind,arguments)}function c(a,d,m){return c=u,c.apply(null,arguments)}function h(a,d){var m=Array.prototype.slice.call(arguments,1);return function(){var x=m.slice();return x.push.apply(x,arguments),a.apply(this,x)}}function f(a,d){function m(){}m.prototype=d.prototype,a.Z=d.prototype,a.prototype=new m,a.prototype.constructor=a,a.Ob=function(x,D,O){for(var z=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)z[Z-2]=arguments[Z];return d.prototype[D].apply(x,z)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function v(a){const d=a.length;if(d>0){const m=Array(d);for(let x=0;x<d;x++)m[x]=a[x];return m}return[]}function A(a,d){for(let x=1;x<arguments.length;x++){const D=arguments[x];var m=typeof D;if(m=m!="object"?m:D?Array.isArray(D)?"array":m:"null",m=="array"||m=="object"&&typeof D.length=="number"){m=a.length||0;const O=D.length||0;a.length=m+O;for(let z=0;z<O;z++)a[m+z]=D[z]}else a.push(D)}}class I{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function b(a){o.setTimeout(()=>{throw a},0)}function _(){var a=E;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class y{constructor(){this.h=this.g=null}add(d,m){const x=T.get();x.set(d,m),this.h?this.h.next=x:this.g=x,this.h=x}}var T=new I(()=>new N,a=>a.reset());class N{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let k,L=!1,E=new y,g=()=>{const a=Promise.resolve(void 0);k=()=>{a.then(S)}};function S(){for(var a;a=_();){try{a.h.call(a.g)}catch(m){b(m)}var d=T;d.j(a),d.h<100&&(d.h++,a.next=d.g,d.g=a)}L=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};o.addEventListener("test",m,d),o.removeEventListener("test",m,d)}catch{}return a}();function P(a){return/^[\s\xa0]*$/.test(a)}function ve(a,d){R.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,d)}f(ve,R),ve.prototype.init=function(a,d){const m=this.type=a.type,x=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget,d||(m=="mouseover"?d=a.fromElement:m=="mouseout"&&(d=a.toElement)),this.relatedTarget=d,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),Gt=0;function fe(a,d,m,x,D){this.listener=a,this.proxy=null,this.src=d,this.type=m,this.capture=!!x,this.ha=D,this.key=++Gt,this.da=this.fa=!1}function U(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function K(a,d,m){for(const x in a)d.call(m,a[x],x,a)}function Y(a,d){for(const m in a)d.call(void 0,a[m],m,a)}function ce(a){const d={};for(const m in a)d[m]=a[m];return d}const _e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tn(a,d){let m,x;for(let D=1;D<arguments.length;D++){x=arguments[D];for(m in x)a[m]=x[m];for(let O=0;O<_e.length;O++)m=_e[O],Object.prototype.hasOwnProperty.call(x,m)&&(a[m]=x[m])}}function wt(a){this.src=a,this.g={},this.h=0}wt.prototype.add=function(a,d,m,x,D){const O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);const z=It(a,d,x,D);return z>-1?(d=a[z],m||(d.fa=!1)):(d=new fe(d,this.src,O,!!x,D),d.fa=m,a.push(d)),d};function Sn(a,d){const m=d.type;if(m in a.g){var x=a.g[m],D=Array.prototype.indexOf.call(x,d,void 0),O;(O=D>=0)&&Array.prototype.splice.call(x,D,1),O&&(U(d),a.g[m].length==0&&(delete a.g[m],a.h--))}}function It(a,d,m,x){for(let D=0;D<a.length;++D){const O=a[D];if(!O.da&&O.listener==d&&O.capture==!!m&&O.ha==x)return D}return-1}var on="closure_lm_"+(Math.random()*1e6|0),Ti={};function Ca(a,d,m,x,D){if(Array.isArray(d)){for(let O=0;O<d.length;O++)Ca(a,d[O],m,x,D);return null}return m=bm(m),a&&a[Ge]?a.J(d,m,l(x)?!!x.capture:!1,D):fc(a,d,m,!1,x,D)}function fc(a,d,m,x,D,O){if(!d)throw Error("Invalid event type");const z=l(D)?!!D.capture:!!D;let Z=gc(a);if(Z||(a[on]=Z=new wt(a)),m=Z.add(d,m,x,z,O),m.proxy)return m;if(x=pc(),m.proxy=x,x.src=a,x.listener=m,a.addEventListener)V||(D=z),D===void 0&&(D=!1),a.addEventListener(d.toString(),x,D);else if(a.attachEvent)a.attachEvent(an(d.toString()),x);else if(a.addListener&&a.removeListener)a.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return m}function pc(){function a(m){return d.call(a.src,a.listener,m)}const d=mc;return a}function oe(a,d,m,x,D){if(Array.isArray(d))for(var O=0;O<d.length;O++)oe(a,d[O],m,x,D);else x=l(x)?!!x.capture:!!x,m=bm(m),a&&a[Ge]?(a=a.i,O=String(d).toString(),O in a.g&&(d=a.g[O],m=It(d,m,x,D),m>-1&&(U(d[m]),Array.prototype.splice.call(d,m,1),d.length==0&&(delete a.g[O],a.h--)))):a&&(a=gc(a))&&(d=a.g[d.toString()],a=-1,d&&(a=It(d,m,x,D)),(m=a>-1?d[a]:null)&&ft(m))}function ft(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ge])Sn(d.i,a);else{var m=a.type,x=a.proxy;d.removeEventListener?d.removeEventListener(m,x,a.capture):d.detachEvent?d.detachEvent(an(m),x):d.addListener&&d.removeListener&&d.removeListener(x),(m=gc(d))?(Sn(m,a),m.h==0&&(m.src=null,d[on]=null)):U(a)}}}function an(a){return a in Ti?Ti[a]:Ti[a]="on"+a}function mc(a,d){if(a.da)a=!0;else{d=new ve(d,this);const m=a.listener,x=a.ha||a.src;a.fa&&ft(a),a=m.call(x,d)}return a}function gc(a){return a=a[on],a instanceof wt?a:null}var yc="__closure_events_fn_"+(Math.random()*1e9>>>0);function bm(a){return typeof a=="function"?a:(a[yc]||(a[yc]=function(d){return a.handleEvent(d)}),a[yc])}function nt(){C.call(this),this.i=new wt(this),this.M=this,this.G=null}f(nt,C),nt.prototype[Ge]=!0,nt.prototype.removeEventListener=function(a,d,m,x){oe(this,a,d,m,x)};function pt(a,d){var m,x=a.G;if(x)for(m=[];x;x=x.G)m.push(x);if(a=a.M,x=d.type||d,typeof d=="string")d=new R(d,a);else if(d instanceof R)d.target=d.target||a;else{var D=d;d=new R(x,a),Tn(d,D)}D=!0;let O,z;if(m)for(z=m.length-1;z>=0;z--)O=d.g=m[z],D=Ia(O,x,!0,d)&&D;if(O=d.g=a,D=Ia(O,x,!0,d)&&D,D=Ia(O,x,!1,d)&&D,m)for(z=0;z<m.length;z++)O=d.g=m[z],D=Ia(O,x,!1,d)&&D}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var a=this.i;for(const d in a.g){const m=a.g[d];for(let x=0;x<m.length;x++)U(m[x]);delete a.g[d],a.h--}}this.G=null},nt.prototype.J=function(a,d,m,x){return this.i.add(String(a),d,!1,m,x)},nt.prototype.K=function(a,d,m,x){return this.i.add(String(a),d,!0,m,x)};function Ia(a,d,m,x){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();let D=!0;for(let O=0;O<d.length;++O){const z=d[O];if(z&&!z.da&&z.capture==m){const Z=z.listener,Le=z.ha||z.src;z.fa&&Sn(a.i,z),D=Z.call(Le,x)!==!1&&D}}return D&&!x.defaultPrevented}function pS(a,d){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=c(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(a,d||0)}function km(a){a.g=pS(()=>{a.g=null,a.i&&(a.i=!1,km(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class mS extends C{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:km(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(a){C.call(this),this.h=a,this.g={}}f(Si,C);var Vm=[];function Nm(a){K(a.g,function(d,m){this.g.hasOwnProperty(m)&&ft(d)},a),a.g={}}Si.prototype.N=function(){Si.Z.N.call(this),Nm(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vc=o.JSON.stringify,gS=o.JSON.parse,yS=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Dm(){}function Mm(){}var Ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _c(){R.call(this,"d")}f(_c,R);function wc(){R.call(this,"c")}f(wc,R);var kr={},Lm=null;function Pa(){return Lm=Lm||new nt}kr.Ia="serverreachability";function Om(a){R.call(this,kr.Ia,a)}f(Om,R);function Ci(a){const d=Pa();pt(d,new Om(d))}kr.STAT_EVENT="statevent";function jm(a,d){R.call(this,kr.STAT_EVENT,a),this.stat=d}f(jm,R);function mt(a){const d=Pa();pt(d,new jm(d,a))}kr.Ja="timingevent";function Fm(a,d){R.call(this,kr.Ja,a),this.size=d}f(Fm,R);function Ii(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},d)}function Pi(){this.g=!0}Pi.prototype.ua=function(){this.g=!1};function vS(a,d,m,x,D,O){a.info(function(){if(a.g)if(O){var z="",Z=O.split("&");for(let ue=0;ue<Z.length;ue++){var Le=Z[ue].split("=");if(Le.length>1){const $e=Le[0];Le=Le[1];const un=$e.split("_");z=un.length>=2&&un[1]=="type"?z+($e+"="+Le+"&"):z+($e+"=redacted&")}}}else z=null;else z=O;return"XMLHTTP REQ ("+x+") [attempt "+D+"]: "+d+`
`+m+`
`+z})}function _S(a,d,m,x,D,O,z){a.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+D+"]: "+d+`
`+m+`
`+O+" "+z})}function fs(a,d,m,x){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+xS(a,m)+(x?" "+x:"")})}function wS(a,d){a.info(function(){return"TIMEOUT: "+d})}Pi.prototype.info=function(){};function xS(a,d){if(!a.g)return d;if(!d)return null;try{const O=JSON.parse(d);if(O){for(a=0;a<O.length;a++)if(Array.isArray(O[a])){var m=O[a];if(!(m.length<2)){var x=m[1];if(Array.isArray(x)&&!(x.length<1)){var D=x[0];if(D!="noop"&&D!="stop"&&D!="close")for(let z=1;z<x.length;z++)x[z]=""}}}}return vc(O)}catch{return d}}var Ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bm={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Um;function xc(){}f(xc,Dm),xc.prototype.g=function(){return new XMLHttpRequest},Um=new xc;function Ri(a){return encodeURIComponent(String(a))}function ES(a){var d=1;a=a.split(":");const m=[];for(;d>0&&a.length;)m.push(a.shift()),d--;return a.length&&m.push(a.join(":")),m}function zn(a,d,m,x){this.j=a,this.i=d,this.l=m,this.S=x||1,this.V=new Si(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zm}function zm(){this.i=null,this.g="",this.h=!1}var $m={},Ec={};function Tc(a,d,m){a.M=1,a.A=ka(ln(d)),a.u=m,a.R=!0,Wm(a,null)}function Wm(a,d){a.F=Date.now(),ba(a),a.B=ln(a.A);var m=a.B,x=a.S;Array.isArray(x)||(x=[String(x)]),rg(m.i,"t",x),a.C=0,m=a.j.L,a.h=new zm,a.g=xg(a.j,m?d:null,!a.u),a.P>0&&(a.O=new mS(c(a.Y,a,a.g),a.P)),d=a.V,m=a.g,x=a.ba;var D="readystatechange";Array.isArray(D)||(D&&(Vm[0]=D.toString()),D=Vm);for(let O=0;O<D.length;O++){const z=Ca(m,D[O],x||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=a.J?ce(a.J):{},a.u?(a.v||(a.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,d)):(a.v="GET",a.g.ea(a.B,a.v,null,d)),Ci(),vS(a.i,a.v,a.B,a.l,a.S,a.u)}zn.prototype.ba=function(a){a=a.target;const d=this.O;d&&Hn(a)==3?d.j():this.Y(a)},zn.prototype.Y=function(a){try{if(a==this.g)e:{const Z=Hn(this.g),Le=this.g.ya(),ue=this.g.ca();if(!(Z<3)&&(Z!=3||this.g&&(this.h.h||this.g.la()||cg(this.g)))){this.K||Z!=4||Le==7||(Le==8||ue<=0?Ci(3):Ci(2)),Sc(this);var d=this.g.ca();this.X=d;var m=TS(this);if(this.o=d==200,_S(this.i,this.v,this.B,this.l,this.S,Z,d),this.o){if(this.U&&!this.L){t:{if(this.g){var x,D=this.g;if((x=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(x)){var O=x;break t}}O=null}if(a=O)fs(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ac(this,a);else{this.o=!1,this.m=3,mt(12),Vr(this),bi(this);break e}}if(this.R){a=!0;let $e;for(;!this.K&&this.C<m.length;)if($e=SS(this,m),$e==Ec){Z==4&&(this.m=4,mt(14),a=!1),fs(this.i,this.l,null,"[Incomplete Response]");break}else if($e==$m){this.m=4,mt(15),fs(this.i,this.l,m,"[Invalid Chunk]"),a=!1;break}else fs(this.i,this.l,$e,null),Ac(this,$e);if(Hm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Z!=4||m.length!=0||this.h.h||(this.m=1,mt(16),a=!1),this.o=this.o&&a,!a)fs(this.i,this.l,m,"[Invalid Chunked Response]"),Vr(this),bi(this);else if(m.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Nc(z),z.P=!0,mt(11))}}else fs(this.i,this.l,m,null),Ac(this,m);Z==4&&Vr(this),this.o&&!this.K&&(Z==4?yg(this.j,this):(this.o=!1,ba(this)))}else jS(this.g),d==400&&m.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),Vr(this),bi(this)}}}catch{}finally{}};function TS(a){if(!Hm(a))return a.g.la();const d=cg(a.g);if(d==="")return"";let m="";const x=d.length,D=Hn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Vr(a),bi(a),"";a.h.i=new o.TextDecoder}for(let O=0;O<x;O++)a.h.h=!0,m+=a.h.i.decode(d[O],{stream:!(D&&O==x-1)});return d.length=0,a.h.g+=m,a.C=0,a.h.g}function Hm(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function SS(a,d){var m=a.C,x=d.indexOf(`
`,m);return x==-1?Ec:(m=Number(d.substring(m,x)),isNaN(m)?$m:(x+=1,x+m>d.length?Ec:(d=d.slice(x,x+m),a.C=x+m,d)))}zn.prototype.cancel=function(){this.K=!0,Vr(this)};function ba(a){a.T=Date.now()+a.H,Km(a,a.H)}function Km(a,d){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Ii(c(a.aa,a),d)}function Sc(a){a.D&&(o.clearTimeout(a.D),a.D=null)}zn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(wS(this.i,this.B),this.M!=2&&(Ci(),mt(17)),Vr(this),this.m=2,bi(this)):Km(this,this.T-a)};function bi(a){a.j.I==0||a.K||yg(a.j,a)}function Vr(a){Sc(a);var d=a.O;d&&typeof d.dispose=="function"&&d.dispose(),a.O=null,Nm(a.V),a.g&&(d=a.g,a.g=null,d.abort(),d.dispose())}function Ac(a,d){try{var m=a.j;if(m.I!=0&&(m.g==a||Cc(m.h,a))){if(!a.L&&Cc(m.h,a)&&m.I==3){try{var x=m.Ba.g.parse(d)}catch{x=null}if(Array.isArray(x)&&x.length==3){var D=x;if(D[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<a.F)La(m),Da(m);else break e;Vc(m),mt(18)}}else m.xa=D[1],0<m.xa-m.K&&D[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Ii(c(m.Va,m),6e3));Qm(m.h)<=1&&m.ta&&(m.ta=void 0)}else Dr(m,11)}else if((a.L||m.g==a)&&La(m),!P(d))for(D=m.Ba.g.parse(d),d=0;d<D.length;d++){let ue=D[d];const $e=ue[0];if(!($e<=m.K))if(m.K=$e,ue=ue[1],m.I==2)if(ue[0]=="c"){m.M=ue[1],m.ba=ue[2];const un=ue[3];un!=null&&(m.ka=un,m.j.info("VER="+m.ka));const Mr=ue[4];Mr!=null&&(m.za=Mr,m.j.info("SVER="+m.za));const Kn=ue[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(x=1.5*Kn,m.O=x,m.j.info("backChannelRequestTimeoutMs_="+x)),x=m;const qn=a.g;if(qn){const ja=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var O=x.h;O.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Ic(O,O.h),O.h=null))}if(x.G){const Dc=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Dc&&(x.wa=Dc,pe(x.J,x.G,Dc))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-a.F,m.j.info("Handshake RTT: "+m.T+"ms")),x=m;var z=a;if(x.na=wg(x,x.L?x.ba:null,x.W),z.L){Ym(x.h,z);var Z=z,Le=x.O;Le&&(Z.H=Le),Z.D&&(Sc(Z),ba(Z)),x.g=z}else mg(x);m.i.length>0&&Ma(m)}else ue[0]!="stop"&&ue[0]!="close"||Dr(m,7);else m.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Dr(m,7):kc(m):ue[0]!="noop"&&m.l&&m.l.qa(ue),m.A=0)}}Ci(4)}catch{}}var AS=class{constructor(a,d){this.g=a,this.map=d}};function qm(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gm(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Qm(a){return a.h?1:a.g?a.g.size:0}function Cc(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Ic(a,d){a.g?a.g.add(d):a.h=d}function Ym(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}qm.prototype.cancel=function(){if(this.i=Xm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Xm(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const m of a.g.values())d=d.concat(m.G);return d}return v(a.i)}var Jm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CS(a,d){if(a){a=a.split("&");for(let m=0;m<a.length;m++){const x=a[m].indexOf("=");let D,O=null;x>=0?(D=a[m].substring(0,x),O=a[m].substring(x+1)):D=a[m],d(D,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function $n(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;a instanceof $n?(this.l=a.l,ki(this,a.j),this.o=a.o,this.g=a.g,Vi(this,a.u),this.h=a.h,Pc(this,sg(a.i)),this.m=a.m):a&&(d=String(a).match(Jm))?(this.l=!1,ki(this,d[1]||"",!0),this.o=Ni(d[2]||""),this.g=Ni(d[3]||"",!0),Vi(this,d[4]),this.h=Ni(d[5]||"",!0),Pc(this,d[6]||"",!0),this.m=Ni(d[7]||"")):(this.l=!1,this.i=new Mi(null,this.l))}$n.prototype.toString=function(){const a=[];var d=this.j;d&&a.push(Di(d,Zm,!0),":");var m=this.g;return(m||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Di(d,Zm,!0),"@"),a.push(Ri(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&a.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Di(m,m.charAt(0)=="/"?RS:PS,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Di(m,kS)),a.join("")},$n.prototype.resolve=function(a){const d=ln(this);let m=!!a.j;m?ki(d,a.j):m=!!a.o,m?d.o=a.o:m=!!a.g,m?d.g=a.g:m=a.u!=null;var x=a.h;if(m)Vi(d,a.u);else if(m=!!a.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var D=d.h.lastIndexOf("/");D!=-1&&(x=d.h.slice(0,D+1)+x)}if(D=x,D==".."||D==".")x="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){x=D.lastIndexOf("/",0)==0,D=D.split("/");const O=[];for(let z=0;z<D.length;){const Z=D[z++];Z=="."?x&&z==D.length&&O.push(""):Z==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),x&&z==D.length&&O.push("")):(O.push(Z),x=!0)}x=O.join("/")}else x=D}return m?d.h=x:m=a.i.toString()!=="",m?Pc(d,sg(a.i)):m=!!a.m,m&&(d.m=a.m),d};function ln(a){return new $n(a)}function ki(a,d,m){a.j=m?Ni(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Vi(a,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);a.u=d}else a.u=null}function Pc(a,d,m){d instanceof Mi?(a.i=d,VS(a.i,a.l)):(m||(d=Di(d,bS)),a.i=new Mi(d,a.l))}function pe(a,d,m){a.i.set(d,m)}function ka(a){return pe(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Ni(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Di(a,d,m){return typeof a=="string"?(a=encodeURI(a).replace(d,IS),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function IS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Zm=/[#\/\?@]/g,PS=/[#\?:]/g,RS=/[#\?]/g,bS=/[#\?@]/g,kS=/#/g;function Mi(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Nr(a){a.g||(a.g=new Map,a.h=0,a.i&&CS(a.i,function(d,m){a.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Mi.prototype,t.add=function(a,d){Nr(this),this.i=null,a=ps(this,a);let m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(d),this.h+=1,this};function eg(a,d){Nr(a),d=ps(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function tg(a,d){return Nr(a),d=ps(a,d),a.g.has(d)}t.forEach=function(a,d){Nr(this),this.g.forEach(function(m,x){m.forEach(function(D){a.call(d,D,x,this)},this)},this)};function ng(a,d){Nr(a);let m=[];if(typeof d=="string")tg(a,d)&&(m=m.concat(a.g.get(ps(a,d))));else for(a=Array.from(a.g.values()),d=0;d<a.length;d++)m=m.concat(a[d]);return m}t.set=function(a,d){return Nr(this),this.i=null,a=ps(this,a),tg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=ng(this,a),a.length>0?String(a[0]):d):d};function rg(a,d,m){eg(a,d),m.length>0&&(a.i=null,a.g.set(ps(a,d),v(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(let x=0;x<d.length;x++){var m=d[x];const D=Ri(m);m=ng(this,m);for(let O=0;O<m.length;O++){let z=D;m[O]!==""&&(z+="="+Ri(m[O])),a.push(z)}}return this.i=a.join("&")};function sg(a){const d=new Mi;return d.i=a.i,a.g&&(d.g=new Map(a.g),d.h=a.h),d}function ps(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function VS(a,d){d&&!a.j&&(Nr(a),a.i=null,a.g.forEach(function(m,x){const D=x.toLowerCase();x!=D&&(eg(this,x),rg(this,D,m))},a)),a.j=d}function NS(a,d){const m=new Pi;if(o.Image){const x=new Image;x.onload=h(Wn,m,"TestLoadImage: loaded",!0,d,x),x.onerror=h(Wn,m,"TestLoadImage: error",!1,d,x),x.onabort=h(Wn,m,"TestLoadImage: abort",!1,d,x),x.ontimeout=h(Wn,m,"TestLoadImage: timeout",!1,d,x),o.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=a}else d(!1)}function DS(a,d){const m=new Pi,x=new AbortController,D=setTimeout(()=>{x.abort(),Wn(m,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:x.signal}).then(O=>{clearTimeout(D),O.ok?Wn(m,"TestPingServer: ok",!0,d):Wn(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Wn(m,"TestPingServer: error",!1,d)})}function Wn(a,d,m,x,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),x(m)}catch{}}function MS(){this.g=new yS}function Rc(a){this.i=a.Sb||null,this.h=a.ab||!1}f(Rc,Dm),Rc.prototype.g=function(){return new Va(this.i,this.h)};function Va(a,d){nt.call(this),this.H=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Va,nt),t=Va.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=d,this.readyState=1,Oi(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(d.body=a),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ig(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function ig(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Li(this):Oi(this),this.readyState==3&&ig(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Li(this))},t.Na=function(a){this.g&&(this.response=a,Li(this))},t.ga=function(){this.g&&Li(this)};function Li(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Oi(a)}t.setRequestHeader=function(a,d){this.A.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=d.next();return a.join(`\r
`)};function Oi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function og(a){let d="";return K(a,function(m,x){d+=x,d+=":",d+=m,d+=`\r
`}),d}function bc(a,d,m){e:{for(x in m){var x=!1;break e}x=!0}x||(m=og(m),typeof a=="string"?m!=null&&Ri(m):pe(a,d,m))}function Ie(a){nt.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ie,nt);var LS=/^https?$/i,OS=["POST","PUT"];t=Ie.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,d,m,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Um.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(O){ag(this,O);return}if(a=m||"",m=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var D in x)m.set(D,x[D]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const O of x.keys())m.set(O,x.get(O));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(m.keys()).find(O=>O.toLowerCase()=="content-type"),D=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(OS,d,void 0)>=0)||x||D||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,z]of m)this.g.setRequestHeader(O,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(O){ag(this,O)}};function ag(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.o=5,lg(a),Na(a)}function lg(a){a.A||(a.A=!0,pt(a,"complete"),pt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,pt(this,"complete"),pt(this,"abort"),Na(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Na(this,!0)),Ie.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ug(this):this.Xa())},t.Xa=function(){ug(this)};function ug(a){if(a.h&&typeof i<"u"){if(a.v&&Hn(a)==4)setTimeout(a.Ca.bind(a),0);else if(pt(a,"readystatechange"),Hn(a)==4){a.h=!1;try{const O=a.ca();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var x;if(x=O===0){let z=String(a.D).match(Jm)[1]||null;!z&&o.self&&o.self.location&&(z=o.self.location.protocol.slice(0,-1)),x=!LS.test(z?z.toLowerCase():"")}m=x}if(m)pt(a,"complete"),pt(a,"success");else{a.o=6;try{var D=Hn(a)>2?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.ca()+"]",lg(a)}}finally{Na(a)}}}}function Na(a,d){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const m=a.g;a.g=null,d||pt(a,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Hn(a){return a.g?a.g.readyState:0}t.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),gS(d)}};function cg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function jS(a){const d={};a=(a.g&&Hn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<a.length;x++){if(P(a[x]))continue;var m=ES(a[x]);const D=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const O=d[D]||[];d[D]=O,O.push(m)}Y(d,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(a,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||d}function hg(a){this.za=0,this.i=[],this.j=new Pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,a),this.Za=ji("retryDelaySeedMs",1e4,a),this.Ta=ji("forwardChannelMaxRetries",2,a),this.va=ji("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new qm(a&&a.concurrentRequestLimit),this.Ba=new MS,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hg.prototype,t.ka=8,t.I=1,t.connect=function(a,d,m,x){mt(0),this.W=a,this.H=d||{},m&&x!==void 0&&(this.H.OSID=m,this.H.OAID=x),this.F=this.X,this.J=wg(this,null,this.W),Ma(this)};function kc(a){if(dg(a),a.I==3){var d=a.V++,m=ln(a.J);if(pe(m,"SID",a.M),pe(m,"RID",d),pe(m,"TYPE","terminate"),Fi(a,m),d=new zn(a,a.j,d),d.M=2,d.A=ka(ln(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=d.A,m=!0),m||(d.g=xg(d.j,null),d.g.ea(d.A)),d.F=Date.now(),ba(d)}_g(a)}function Da(a){a.g&&(Nc(a),a.g.cancel(),a.g=null)}function dg(a){Da(a),a.v&&(o.clearTimeout(a.v),a.v=null),La(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Ma(a){if(!Gm(a.h)&&!a.m){a.m=!0;var d=a.Ea;k||g(),L||(k(),L=!0),E.add(d,a),a.D=0}}function FS(a,d){return Qm(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=d.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Ii(c(a.Ea,a,d),vg(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const D=new zn(this,this.j,a);let O=this.o;if(this.U&&(O?(O=ce(O),Tn(O,this.U)):O=this.U),this.u!==null||this.R||(D.J=O,O=null),this.S)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var x=this.i[m];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(d+=x,d>4096){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=pg(this,D,d),m=ln(this.J),pe(m,"RID",a),pe(m,"CVER",22),this.G&&pe(m,"X-HTTP-Session-Id",this.G),Fi(this,m),O&&(this.R?d="headers="+Ri(og(O))+"&"+d:this.u&&bc(m,this.u,O)),Ic(this.h,D),this.Ra&&pe(m,"TYPE","init"),this.S?(pe(m,"$req",d),pe(m,"SID","null"),D.U=!0,Tc(D,m,null)):Tc(D,m,d),this.I=2}}else this.I==3&&(a?fg(this,a):this.i.length==0||Gm(this.h)||fg(this))};function fg(a,d){var m;d?m=d.l:m=a.V++;const x=ln(a.J);pe(x,"SID",a.M),pe(x,"RID",m),pe(x,"AID",a.K),Fi(a,x),a.u&&a.o&&bc(x,a.u,a.o),m=new zn(a,a.j,m,a.D+1),a.u===null&&(m.J=a.o),d&&(a.i=d.G.concat(a.i)),d=pg(a,m,1e3),m.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Ic(a.h,m),Tc(m,x,d)}function Fi(a,d){a.H&&K(a.H,function(m,x){pe(d,x,m)}),a.l&&K({},function(m,x){pe(d,x,m)})}function pg(a,d,m){m=Math.min(a.i.length,m);const x=a.l?c(a.l.Ka,a.l,a):null;e:{var D=a.i;let Z=-1;for(;;){const Le=["count="+m];Z==-1?m>0?(Z=D[0].g,Le.push("ofs="+Z)):Z=0:Le.push("ofs="+Z);let ue=!0;for(let $e=0;$e<m;$e++){var O=D[$e].g;const un=D[$e].map;if(O-=Z,O<0)Z=Math.max(0,D[$e].g-100),ue=!1;else try{O="req"+O+"_"||"";try{var z=un instanceof Map?un:Object.entries(un);for(const[Mr,Kn]of z){let qn=Kn;l(Kn)&&(qn=vc(Kn)),Le.push(O+Mr+"="+encodeURIComponent(qn))}}catch(Mr){throw Le.push(O+"type="+encodeURIComponent("_badmap")),Mr}}catch{x&&x(un)}}if(ue){z=Le.join("&");break e}}z=void 0}return a=a.i.splice(0,m),d.G=a,z}function mg(a){if(!a.g&&!a.v){a.Y=1;var d=a.Da;k||g(),L||(k(),L=!0),E.add(d,a),a.A=0}}function Vc(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Ii(c(a.Da,a),vg(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,gg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Ii(c(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),Da(this),gg(this))};function Nc(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function gg(a){a.g=new zn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var d=ln(a.na);pe(d,"RID","rpc"),pe(d,"SID",a.M),pe(d,"AID",a.K),pe(d,"CI",a.F?"0":"1"),!a.F&&a.ia&&pe(d,"TO",a.ia),pe(d,"TYPE","xmlhttp"),Fi(a,d),a.u&&a.o&&bc(d,a.u,a.o),a.O&&(a.g.H=a.O);var m=a.g;a=a.ba,m.M=1,m.A=ka(ln(d)),m.u=null,m.R=!0,Wm(m,a)}t.Va=function(){this.C!=null&&(this.C=null,Da(this),Vc(this),mt(19))};function La(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function yg(a,d){var m=null;if(a.g==d){La(a),Nc(a),a.g=null;var x=2}else if(Cc(a.h,d))m=d.G,Ym(a.h,d),x=1;else return;if(a.I!=0){if(d.o)if(x==1){m=d.u?d.u.length:0,d=Date.now()-d.F;var D=a.D;x=Pa(),pt(x,new Fm(x,m)),Ma(a)}else mg(a);else if(D=d.m,D==3||D==0&&d.X>0||!(x==1&&FS(a,d)||x==2&&Vc(a)))switch(m&&m.length>0&&(d=a.h,d.i=d.i.concat(m)),D){case 1:Dr(a,5);break;case 4:Dr(a,10);break;case 3:Dr(a,6);break;default:Dr(a,2)}}}function vg(a,d){let m=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(m*=2),m*d}function Dr(a,d){if(a.j.info("Error code "+d),d==2){var m=c(a.bb,a),x=a.Ua;const D=!x;x=new $n(x||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ki(x,"https"),ka(x),D?NS(x.toString(),m):DS(x.toString(),m)}else mt(2);a.I=0,a.l&&a.l.pa(d),_g(a),dg(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function _g(a){if(a.I=0,a.ja=[],a.l){const d=Xm(a.h);(d.length!=0||a.i.length!=0)&&(A(a.ja,d),A(a.ja,a.i),a.h.i.length=0,v(a.i),a.i.length=0),a.l.oa()}}function wg(a,d,m){var x=m instanceof $n?ln(m):new $n(m);if(x.g!="")d&&(x.g=d+"."+x.g),Vi(x,x.u);else{var D=o.location;x=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;const O=new $n(null);x&&ki(O,x),d&&(O.g=d),D&&Vi(O,D),m&&(O.h=m),x=O}return m=a.G,d=a.wa,m&&d&&pe(x,m,d),pe(x,"VER",a.ka),Fi(a,x),x}function xg(a,d,m){if(d&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Aa&&!a.ma?new Ie(new Rc({ab:m})):new Ie(a.ma),d.Fa(a.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eg(){}t=Eg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Oa(){}Oa.prototype.g=function(a,d){return new Pt(a,d)};function Pt(a,d){nt.call(this),this.g=new hg(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(a?a["X-WebChannel-Client-Profile"]=d.sa:a={"X-WebChannel-Client-Profile":d.sa}),this.g.U=a,(a=d&&d.Qb)&&!P(a)&&(this.g.u=a),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!P(d)&&(this.g.G=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ms(this)}f(Pt,nt),Pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){kc(this.g)},Pt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.v&&(m={},m.__data__=vc(a),a=m);d.i.push(new AS(d.Ya++,a)),d.I==3&&Ma(d)},Pt.prototype.N=function(){this.g.l=null,delete this.j,kc(this.g),delete this.g,Pt.Z.N.call(this)};function Tg(a){_c.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const m in d){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}f(Tg,_c);function Sg(){wc.call(this),this.status=1}f(Sg,wc);function ms(a){this.g=a}f(ms,Eg),ms.prototype.ra=function(){pt(this.g,"a")},ms.prototype.qa=function(a){pt(this.g,new Tg(a))},ms.prototype.pa=function(a){pt(this.g,new Sg)},ms.prototype.oa=function(){pt(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,ox=function(){return new Oa},ix=function(){return Pa()},sx=kr,Vd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ra.NO_ERROR=0,Ra.TIMEOUT=8,Ra.HTTP_ERROR=6,Al=Ra,Bm.COMPLETE="complete",rx=Bm,Mm.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",nt.prototype.listen=nt.prototype.J,eo=Mm,Ie.prototype.listenOnce=Ie.prototype.K,Ie.prototype.getLastError=Ie.prototype.Ha,Ie.prototype.getLastErrorCode=Ie.prototype.ya,Ie.prototype.getStatus=Ie.prototype.ca,Ie.prototype.getResponseJson=Ie.prototype.La,Ie.prototype.getResponseText=Ie.prototype.la,Ie.prototype.send=Ie.prototype.ea,Ie.prototype.setWithCredentials=Ie.prototype.Fa,nx=Ie}).apply(typeof nl<"u"?nl:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yi="12.8.0";function YP(t){yi=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Qw("@firebase/firestore");function ys(){return rs.logLevel}function $(t,...e){if(rs.logLevel<=se.DEBUG){const n=e.map(gp);rs.debug(`Firestore (${yi}): ${t}`,...n)}}function jn(t,...e){if(rs.logLevel<=se.ERROR){const n=e.map(gp);rs.error(`Firestore (${yi}): ${t}`,...n)}}function ni(t,...e){if(rs.logLevel<=se.WARN){const n=e.map(gp);rs.warn(`Firestore (${yi}): ${t}`,...n)}}function gp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ax(t,r,n)}function ax(t,e,n){let r=`FIRESTORE (${yi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw jn(r),new Error(r)}function ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||ax(e,s,r)}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(at.UNAUTHENTICATED))}shutdown(){}}class JP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ZP{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ae(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new mr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new mr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ae(typeof r.accessToken=="string",31837,{l:r}),new lx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string",2055,{h:e}),new at(e)}}class eR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class tR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new eR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,NP(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ae(this.o===void 0,3512);const r=i=>{i.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new t0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new t0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=rR(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function Nd(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return dh(s)===dh(i)?te(s,i):dh(s)?1:-1}return te(t.length,e.length)}const sR=55296,iR=57343;function dh(t){const e=t.charCodeAt(0);return e>=sR&&e<=iR}function ri(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="__name__";class dn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return dn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=dn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return te(e.length,n.length)}static compareSegments(e,n){const r=dn.isNumericId(e),s=dn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?dn.extractNumericId(e).compare(dn.extractNumericId(n)):Nd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class Ee extends dn{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const oR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends dn{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return oR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n0}static keyField(){return new Je([n0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(Ee.fromString(e))}static fromName(e){return new q(Ee.fromString(e).popFirst(5))}static empty(){return new q(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new Ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e,n){if(!n)throw new H(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lR(t,e,n,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function r0(t){if(!q.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ux(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vp(t);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e){const n={typeString:t};return e&&(n.value=e),n}function ga(t,e){if(!ux(t))throw new H(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new H(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=-62135596800,i0=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(e){return ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*i0);return new ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<s0)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i0}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ga(e,ge._jsonSchema))return new ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:Me("string",ge._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(e){return new X(e)}static min(){return new X(new ge(0,0))}static max(){return new X(new ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=-1;function uR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=X.fromTimestamp(r===1e9?new ge(n+1,0):new ge(n,r));return new _r(s,q.empty(),e)}function cR(t){return new _r(t.readTime,t.key,Xo)}class _r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _r(X.min(),q.empty(),Xo)}static max(){return new _r(X.max(),q.empty(),Xo)}}function hR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vi(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==dR)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(s=>s?j.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new j((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new j((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function pR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _i(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=-1;function Gu(t){return t==null}function lu(t){return t===0&&1/t==-1/0}function mR(t){return typeof t=="number"&&Number.isInteger(t)&&!lu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="";function gR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=o0(e)),e=yR(t.get(n),e);return o0(e)}function yR(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case cx:n+="";break;default:n+=i}}return n}function o0(t){return t+cx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.comparator=e,this.root=n||Xe.EMPTY}insert(e,n){return new Ce(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rl(this.root,e,this.comparator,!1)}getReverseIterator(){return new rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rl(this.root,e,this.comparator,!0)}}class rl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Xe.RED,this.left=s??Xe.EMPTY,this.right=i??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Xe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Xe.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Xe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(e){return new l0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ze(this.comparator);return n.data=e,n}}class l0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new en([])}unionWith(e){let n=new ze(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ri(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new dx("Invalid base64 string: "+i):i}}(e);return new tt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tt.EMPTY_BYTE_STRING=new tt("");const vR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(t){if(ae(!!t,39018),typeof t=="string"){let e=0;const n=vR.exec(t);if(ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xr(t){return typeof t=="string"?tt.fromBase64String(t):tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="server_timestamp",px="__type__",mx="__previous_value__",gx="__local_write_time__";function wp(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[px])==null?void 0:r.stringValue)===fx}function Qu(t){const e=t.mapValue.fields[mx];return wp(e)?Qu(e):e}function Jo(t){const e=wr(t.mapValue.fields[gx].timestampValue);return new ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n,r,s,i,o,l,u,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h,this.apiKey=f}}const uu="(default)";class Zo{constructor(e,n){this.projectId=e,this.database=n||uu}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database===uu}isEqual(e){return e instanceof Zo&&e.projectId===this.projectId&&e.database===this.database}}function wR(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="__type__",xR="__max__",sl={mapValue:{}},vx="__vector__",cu="value";function Er(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wp(t)?4:TR(t)?9007199254740991:ER(t)?10:11:Q(28295,{value:t})}function xn(t,e){if(t===e)return!0;const n=Er(t);if(n!==Er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jo(t).isEqual(Jo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=wr(s.timestampValue),l=wr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return xr(s.bytesValue).isEqual(xr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ke(s.geoPointValue.latitude)===ke(i.geoPointValue.latitude)&&ke(s.geoPointValue.longitude)===ke(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ke(s.integerValue)===ke(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ke(s.doubleValue),l=ke(i.doubleValue);return o===l?lu(o)===lu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ri(t.arrayValue.values||[],e.arrayValue.values||[],xn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(a0(o)!==a0(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!xn(o[u],l[u])))return!1;return!0}(t,e);default:return Q(52216,{left:t})}}function ea(t,e){return(t.values||[]).find(n=>xn(n,e))!==void 0}function si(t,e){if(t===e)return 0;const n=Er(t),r=Er(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=ke(i.integerValue||i.doubleValue),u=ke(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return u0(t.timestampValue,e.timestampValue);case 4:return u0(Jo(t),Jo(e));case 5:return Nd(t.stringValue,e.stringValue);case 6:return function(i,o){const l=xr(i),u=xr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const h=te(l[c],u[c]);if(h!==0)return h}return te(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=te(ke(i.latitude),ke(o.latitude));return l!==0?l:te(ke(i.longitude),ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return c0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,v,A,I;const l=i.fields||{},u=o.fields||{},c=(p=l[cu])==null?void 0:p.arrayValue,h=(v=u[cu])==null?void 0:v.arrayValue,f=te(((A=c==null?void 0:c.values)==null?void 0:A.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return f!==0?f:c0(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===sl.mapValue&&o===sl.mapValue)return 0;if(i===sl.mapValue)return 1;if(o===sl.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=Nd(u[f],h[f]);if(p!==0)return p;const v=si(l[u[f]],c[h[f]]);if(v!==0)return v}return te(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Q(23264,{he:n})}}function u0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return te(t,e);const n=wr(t),r=wr(e),s=te(n.seconds,r.seconds);return s!==0?s:te(n.nanos,r.nanos)}function c0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=si(n[s],r[s]);if(i)return i}return te(n.length,r.length)}function ii(t){return Dd(t)}function Dd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Dd(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Dd(n.fields[o])}`;return s+"}"}(t.mapValue):Q(61005,{value:t})}function Cl(t){switch(Er(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qu(t);return e?16+Cl(e):16;case 5:return 2*t.stringValue.length;case 6:return xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Cl(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ls(r.fields,(i,o)=>{s+=i.length+Cl(o)}),s}(t.mapValue);default:throw Q(13486,{value:t})}}function Md(t){return!!t&&"integerValue"in t}function xp(t){return!!t&&"arrayValue"in t}function h0(t){return!!t&&"nullValue"in t}function d0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Il(t){return!!t&&"mapValue"in t}function ER(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yx])==null?void 0:r.stringValue)===vx}function wo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wo(t.arrayValue.values[n]);return e}return{...t}}function TR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Il(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wo(n)}setAll(e){let n=Je.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=wo(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Il(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Il(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ls(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zt(wo(this.value))}}function _x(t){const e=[];return ls(t.fields,(n,r)=>{const s=new Je([n]);if(Il(r)){const i=_x(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new ct(e,0,X.min(),X.min(),X.min(),zt.empty(),0)}static newFoundDocument(e,n,r,s){return new ct(e,1,n,X.min(),r,s,0)}static newNoDocument(e,n){return new ct(e,2,n,X.min(),X.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,X.min(),X.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.position=e,this.inclusive=n}}function f0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=si(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function p0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function SR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{}class je extends wx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CR(e,n,r):n==="array-contains"?new RR(e,r):n==="in"?new bR(e,r):n==="not-in"?new kR(e,r):n==="array-contains-any"?new VR(e,r):new je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IR(e,r):new PR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(si(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(si(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends wx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new En(e,n)}matches(e){return xx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xx(t){return t.op==="and"}function Ex(t){return AR(t)&&xx(t)}function AR(t){for(const e of t.filters)if(e instanceof En)return!1;return!0}function Ld(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+ii(t.value);if(Ex(t))return t.filters.map(e=>Ld(e)).join(",");{const e=t.filters.map(n=>Ld(n)).join(",");return`${t.op}(${e})`}}function Tx(t,e){return t instanceof je?function(r,s){return s instanceof je&&r.op===s.op&&r.field.isEqual(s.field)&&xn(r.value,s.value)}(t,e):t instanceof En?function(r,s){return s instanceof En&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&Tx(o,s.filters[l]),!0):!1}(t,e):void Q(19439)}function Sx(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${ii(n.value)}`}(t):t instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(Sx).join(" ,")+"}"}(t):"Filter"}class CR extends je{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class IR extends je{constructor(e,n){super(e,"in",n),this.keys=Ax("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PR extends je{constructor(e,n){super(e,"not-in",n),this.keys=Ax("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ax(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class RR extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xp(n)&&ea(n.arrayValue,this.value)}}class bR extends je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ea(this.value.arrayValue,n)}}class kR extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ea(this.value.arrayValue,n)}}class VR extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ea(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function m0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new NR(t,e,n,r,s,i,o)}function Ep(t){const e=J(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ld(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Gu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ii(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ii(r)).join(",")),e.Te=n}return e.Te}function Tp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Tx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!p0(t.startAt,e.startAt)&&p0(t.endAt,e.endAt)}function Od(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function DR(t,e,n,r,s,i,o,l){return new Yu(t,e,n,r,s,i,o,l)}function Xu(t){return new Yu(t)}function g0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MR(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function LR(t){return t.collectionGroup!==null}function xo(t){const e=J(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ze(Je.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new du(i,r))}),n.has(Je.keyField().canonicalString())||e.Ie.push(new du(Je.keyField(),r))}return e.Ie}function gn(t){const e=J(t);return e.Ee||(e.Ee=OR(e,xo(t))),e.Ee}function OR(t,e){if(t.limitType==="F")return m0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new du(s.field,i)});const n=t.endAt?new hu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hu(t.startAt.position,t.startAt.inclusive):null;return m0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jd(t,e,n){return new Yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ju(t,e){return Tp(gn(t),gn(e))&&t.limitType===e.limitType}function Cx(t){return`${Ep(gn(t))}|lt:${t.limitType}`}function vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Sx(s)).join(", ")}]`),Gu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ii(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ii(s)).join(",")),`Target(${r})`}(gn(t))}; limitType=${t.limitType})`}function Zu(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of xo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const c=f0(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,xo(r),s)||r.endAt&&!function(o,l,u){const c=f0(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,xo(r),s))}(t,e)}function jR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ix(t){return(e,n)=>{let r=!1;for(const s of xo(t)){const i=FR(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function FR(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),c=l.data.field(i);return u!==null&&c!==null?si(u,c):Q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ls(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return hx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Ce(q.comparator);function Fn(){return BR}const Px=new Ce(q.comparator);function to(...t){let e=Px;for(const n of t)e=e.insert(n.key,n);return e}function Rx(t){let e=Px;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hr(){return Eo()}function bx(){return Eo()}function Eo(){return new us(t=>t.toString(),(t,e)=>t.isEqual(e))}const UR=new Ce(q.comparator),zR=new ze(q.comparator);function ne(...t){let e=zR;for(const n of t)e=e.add(n);return e}const $R=new ze(te);function WR(){return $R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lu(e)?"-0":e}}function kx(t){return{integerValue:""+t}}function HR(t,e){return mR(e)?kx(e):Sp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this._=void 0}}function KR(t,e,n){return t instanceof fu?function(s,i){const o={fields:{[px]:{stringValue:fx},[gx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&wp(i)&&(i=Qu(i)),i&&(o.fields[mx]=i),{mapValue:o}}(n,e):t instanceof ta?Nx(t,e):t instanceof na?Dx(t,e):function(s,i){const o=Vx(s,i),l=y0(o)+y0(s.Ae);return Md(o)&&Md(s.Ae)?kx(l):Sp(s.serializer,l)}(t,e)}function qR(t,e,n){return t instanceof ta?Nx(t,e):t instanceof na?Dx(t,e):n}function Vx(t,e){return t instanceof pu?function(r){return Md(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class fu extends ec{}class ta extends ec{constructor(e){super(),this.elements=e}}function Nx(t,e){const n=Mx(e);for(const r of t.elements)n.some(s=>xn(s,r))||n.push(r);return{arrayValue:{values:n}}}class na extends ec{constructor(e){super(),this.elements=e}}function Dx(t,e){let n=Mx(e);for(const r of t.elements)n=n.filter(s=>!xn(s,r));return{arrayValue:{values:n}}}class pu extends ec{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function y0(t){return ke(t.integerValue||t.doubleValue)}function Mx(t){return xp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GR(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ta&&s instanceof ta||r instanceof na&&s instanceof na?ri(r.elements,s.elements,xn):r instanceof pu&&s instanceof pu?xn(r.Ae,s.Ae):r instanceof fu&&s instanceof fu}(t.transform,e.transform)}class QR{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tc{}function Lx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jx(t.key,bn.none()):new ya(t.key,t.data,bn.none());{const n=t.data,r=zt.empty();let s=new ze(Je.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new cs(t.key,r,new en(s.toArray()),bn.none())}}function YR(t,e,n){t instanceof ya?function(s,i,o){const l=s.value.clone(),u=_0(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof cs?function(s,i,o){if(!Pl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=_0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Ox(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function To(t,e,n,r){return t instanceof ya?function(i,o,l,u){if(!Pl(i.precondition,o))return l;const c=i.value.clone(),h=w0(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof cs?function(i,o,l,u){if(!Pl(i.precondition,o))return l;const c=w0(i.fieldTransforms,u,o),h=o.data;return h.setAll(Ox(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Pl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function XR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Vx(r.transform,s||null);i!=null&&(n===null&&(n=zt.empty()),n.set(r.field,i))}return n||null}function v0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ri(r,s,(i,o)=>GR(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ya extends tc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class cs extends tc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ox(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _0(t,e,n){const r=new Map;ae(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,qR(o,l,n[s]))}return r}function w0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,KR(i,o,e))}return r}class jx extends tc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JR extends tc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&YR(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=To(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=To(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bx();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=Lx(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&ri(this.mutations,e.mutations,(n,r)=>v0(n,r))&&ri(this.baseMutations,e.baseMutations,(n,r)=>v0(n,r))}}class Ap{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return UR}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ap(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,re;function nb(t){switch(t){case F.OK:return Q(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function Fx(t){if(t===void 0)return jn("GRPC error has no .code"),F.UNKNOWN;switch(t){case Ne.OK:return F.OK;case Ne.CANCELLED:return F.CANCELLED;case Ne.UNKNOWN:return F.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return F.INTERNAL;case Ne.UNAVAILABLE:return F.UNAVAILABLE;case Ne.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ne.NOT_FOUND:return F.NOT_FOUND;case Ne.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ne.ABORTED:return F.ABORTED;case Ne.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ne.DATA_LOSS:return F.DATA_LOSS;default:return Q(39323,{code:t})}}(re=Ne||(Ne={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=new pr([4294967295,4294967295],0);function x0(t){const e=rb().encode(t),n=new tx;return n.update(e),new Uint8Array(n.digest())}function E0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new pr([n,r],0),new pr([s,i],0)]}class Cp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new no(`Invalid padding: ${n}`);if(r<0)throw new no(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new no(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new no(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pr.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(pr.fromNumber(r)));return s.compare(sb)===1&&(s=new pr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=x0(e),[r,s]=E0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Cp(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=x0(e),[r,s]=E0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class no extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new nc(X.min(),s,new Ce(te),Fn(),ne())}}class va{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new va(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Bx{constructor(e,n){this.targetId=e,this.Ce=n}}class Ux{constructor(e,n,r=tt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class T0{constructor(){this.ve=0,this.Fe=S0(),this.Me=tt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ne(),n=ne(),r=ne();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Q(38017,{changeType:i})}}),new va(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=S0()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ib{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fn(),this.He=il(),this.Je=il(),this.Ze=new Ce(te)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Od(i))if(r===0){const o=new q(i.path);this.et(n,o,ct.newNoDocument(o,X.min()))}else ae(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=xr(r).toUint8Array()}catch(u){if(u instanceof dx)return ni("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Cp(o,s,i)}catch(u){return ni(u instanceof no?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Od(l.target)){const u=new q(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,ct.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=ne();this.Je.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new nc(e,n,this.Ze,this.je,r);return this.je=Fn(),this.He=il(),this.Je=il(),this.Ze=new Ce(te),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new T0,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new ze(te),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new ze(te),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function il(){return new Ce(q.comparator)}function S0(){return new Ce(q.comparator)}const ob={asc:"ASCENDING",desc:"DESCENDING"},ab={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lb={and:"AND",or:"OR"};class ub{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fd(t,e){return t.useProto3Json||Gu(e)?e:{value:e}}function mu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cb(t,e){return mu(t,e.toTimestamp())}function yn(t){return ae(!!t,49232),X.fromTimestamp(function(n){const r=wr(n);return new ge(r.seconds,r.nanos)}(t))}function Ip(t,e){return Bd(t,e).canonicalString()}function Bd(t,e){const n=function(s){return new Ee(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $x(t){const e=Ee.fromString(t);return ae(Gx(e),10190,{key:e.toString()}),e}function Ud(t,e){return Ip(t.databaseId,e.path)}function fh(t,e){const n=$x(e);if(n.get(1)!==t.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(Hx(n))}function Wx(t,e){return Ip(t.databaseId,e)}function hb(t){const e=$x(t);return e.length===4?Ee.emptyPath():Hx(e)}function zd(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hx(t){return ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function A0(t,e,n){return{name:Ud(t,e),fields:n.value.mapValue.fields}}function db(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(ae(h===void 0||typeof h=="string",58123),tt.fromBase64String(h||"")):(ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),tt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const h=c.code===void 0?F.UNKNOWN:Fx(c.code);return new H(h,c.message||"")}(o);n=new Ux(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fh(t,r.document.name),i=yn(r.document.updateTime),o=r.document.createTime?yn(r.document.createTime):X.min(),l=new zt({mapValue:{fields:r.document.fields}}),u=ct.newFoundDocument(s,i,o,l),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Rl(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fh(t,r.document),i=r.readTime?yn(r.readTime):X.min(),o=ct.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Rl([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fh(t,r.document),i=r.removedTargetIds||[];n=new Rl([],i,s,null)}else{if(!("filter"in e))return Q(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new tb(s,i),l=r.targetId;n=new Bx(l,o)}}return n}function fb(t,e){let n;if(e instanceof ya)n={update:A0(t,e.key,e.value)};else if(e instanceof jx)n={delete:Ud(t,e.key)};else if(e instanceof cs)n={update:A0(t,e.key,e.data),updateMask:Eb(e.fieldMask)};else{if(!(e instanceof JR))return Q(16599,{dt:e.type});n={verify:Ud(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof fu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ta)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof na)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof pu)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Q(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:cb(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Q(27497)}(t,e.precondition)),n}function pb(t,e){return t&&t.length>0?(ae(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?yn(s.updateTime):yn(i);return o.isEqual(X.min())&&(o=yn(i)),new QR(o,s.transformResults||[])}(n,e))):[]}function mb(t,e){return{documents:[Wx(t,e.path)]}}function gb(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Wx(t,s);const i=function(c){if(c.length!==0)return qx(En.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:_s(p.field),direction:_b(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Fd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function yb(t){let e=hb(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ae(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=Kx(f);return p instanceof En&&Ex(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(A){return new du(ws(A.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,Gu(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,v=f.values||[];return new hu(v,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,v=f.values||[];return new hu(v,p)}(n.endAt)),DR(e,s,o,i,l,"F",u,c)}function vb(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ws(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ws(n.unaryFilter.field);return je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ws(n.unaryFilter.field);return je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ws(n.unaryFilter.field);return je.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(t):t.fieldFilter!==void 0?function(n){return je.create(ws(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(r=>Kx(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(t):Q(30097,{filter:t})}function _b(t){return ob[t]}function wb(t){return ab[t]}function xb(t){return lb[t]}function _s(t){return{fieldPath:t.canonicalString()}}function ws(t){return Je.fromServerFormat(t.fieldPath)}function qx(t){return t instanceof je?function(n){if(n.op==="=="){if(d0(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NAN"}};if(h0(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d0(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NAN"}};if(h0(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(n.field),op:wb(n.op),value:n.value}}}(t):t instanceof En?function(n){const r=n.getFilters().map(s=>qx(s));return r.length===1?r[0]:{compositeFilter:{op:xb(n.op),filters:r}}}(t):Q(54877,{filter:t})}function Eb(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Gx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Qx(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,s,i=X.min(),o=X.min(),l=tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.yt=e}}function Sb(t){const e=yb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.Sn=new Cb}addToCollectionParentIndex(e,n){return this.Sn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(_r.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class Cb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ze(Ee.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ze(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yx=41943040;class xt{static withCacheSize(e){return new xt(e,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt.DEFAULT_COLLECTION_PERCENTILE=10,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xt.DEFAULT=new xt(Yx,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xt.DISABLED=new xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new oi(0)}static ar(){return new oi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="LruGarbageCollector",Ib=1048576;function P0([t,e],[n,r]){const s=te(t,n);return s===0?te(e,r):s}class Pb{constructor(e){this.Pr=e,this.buffer=new ze(P0),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();P0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Rb{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){$(I0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_i(n)?$(I0,"Ignoring IndexedDB error during garbage collection: ",n):await vi(n)}await this.Ar(3e5)})}}class bb{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(qu.ce);const r=new Pb(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(C0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C0):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,l,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ys()<=se.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function kb(t,e){return new bb(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.changes=new us(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&To(r.mutation,s,en.empty(),ge.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const s=Hr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=to();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Fn();const o=Eo(),l=function(){return Eo()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof cs)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),To(h.mutation,c,h.mutation.getFieldMask(),ge.now())):o.set(c.key,en.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>l.set(c,new Nb(h,o.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const r=Eo();let s=new Ce((o,l)=>o-l),i=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||en.empty();h=l.applyToLocalView(c,h),r.set(u,h);const f=(s.get(l.batchId)||ne()).add(u);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,h=u.value,f=bx();h.forEach(p=>{if(!i.has(p)){const v=Lx(n.get(p),r.get(p));v!==null&&f.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return MR(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):j.resolve(Hr());let l=Xo,u=i;return o.next(c=>j.forEach(c,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,ne())).next(h=>({batchId:l,changes:Rx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let s=to();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=to();return this.indexManager.getCollectionParents(e,i).next(l=>j.forEach(l,u=>{const c=function(f,p){return new Yu(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,ct.newInvalidDocument(h)))});let l=to();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&To(h.mutation,c,en.empty(),ge.now()),Zu(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return j.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:yn(s.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:Sb(s.bundledQuery),readTime:yn(s.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.overlays=new Ce(q.comparator),this.Lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Hr();return j.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const s=Hr(),i=n.length+1,o=new q(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return j.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ce((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Hr(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const l=Hr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>l.set(c,h)),!(l.size()>=s)););return j.resolve(l)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eb(n,r));let i=this.Lr.get(n);i===void 0&&(i=ne(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.sessionToken=tt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.kr=new ze(We.Kr),this.qr=new ze(We.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new We(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new We(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new q(new Ee([])),r=new We(n,e),s=new We(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new q(new Ee([])),r=new We(n,e),s=new We(n,e+1);let i=ne();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new We(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class We{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return q.comparator(e.key,n.key)||te(e.Hr,n.Hr)}static Ur(e,n){return te(e.Hr,n.Hr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new ze(We.Kr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZR(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Jr=this.Jr.add(new We(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return j.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?_p:this.Yn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new We(n,0),s=new We(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const l=this.Zr(o.Hr);i.push(l)}),j.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(te);return n.forEach(s=>{const i=new We(s,0),o=new We(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],l=>{r=r.add(l.Hr)})}),j.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;q.isDocumentKey(i)||(i=i.child(""));const o=new We(new q(i),0);let l=new ze(te);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.Hr)),!0)},o),j.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ae(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return j.forEach(n.mutations,s=>{const i=new We(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new We(n,0),s=this.Jr.firstAfterOrEqual(r);return j.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.ti=e,this.docs=function(){return new Ce(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=Fn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ct.newInvalidDocument(s))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Fn();const o=n.path,l=new q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||hR(cR(h),r)<=0||(s.has(h.key)||Zu(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return j.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Q(9500)}ni(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Bb(this)}getSize(e){return j.resolve(this.size)}}class Bb extends Vb{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.persistence=e,this.ri=new us(n=>Ep(n),Tp),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.ii=0,this.si=new Pp,this.targetCount=0,this.oi=oi._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),j.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new oi(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.lr(n),j.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),j.waitFor(i).next(()=>s)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),j.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this._i={},this.overlays={},this.ai=new qu(0),this.ui=!1,this.ui=!0,this.ci=new Ob,this.referenceDelegate=e(this),this.li=new Ub(this),this.indexManager=new Ab,this.remoteDocumentCache=function(s){return new Fb(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new Tb(n),this.Pi=new Mb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new jb(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const s=new zb(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return j.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class zb extends fR{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ri=new Pp,this.Ai=null}static Vi(e){return new Rp(e)}get di(){if(this.Ai)return this.Ai;throw Q(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,r=>{const s=q.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,X.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class gu{constructor(e,n){this.persistence=e,this.fi=new us(r=>gR(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=kb(this,n)}static Vi(e,n){return new gu(e,n)}Ti(){}Ii(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return j.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?j.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,X.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),j.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cl(e.data.value)),n}wr(e,n,r){return j.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return j.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=ne(),s=ne();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new bp(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return bI()?8:pR(PI())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new $b;return this.ys(e,n,o).next(l=>{if(i.result=l,this.As)return this.ws(e,n,o,l.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(ys()<=se.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(ys()<=se.DEBUG&&$("QueryEngine","Query:",vs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ys()<=se.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):j.resolve())}gs(e,n){if(g0(n))return j.resolve(null);let r=gn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=jd(n,null,"F"),r=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ne(...i);return this.fs.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.bs(n,l);return this.Ss(n,c,o,u.readTime)?this.gs(e,jd(n,null,"F")):this.Ds(e,c,n,u)}))})))}ps(e,n,r,s){return g0(n)||s.isEqual(X.min())?j.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?j.resolve(null):(ys()<=se.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vs(n)),this.Ds(e,o,n,uR(s,Xo)).next(l=>l))})}bs(e,n){let r=new ze(Ix(e));return n.forEach((s,i)=>{Zu(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return ys()<=se.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",vs(n)),this.fs.getDocumentsMatchingQuery(e,n,_r.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="LocalStore",Hb=3e8;class Kb{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Ce(te),this.Fs=new us(i=>Ep(i),Tp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Db(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function qb(t,e,n,r){return new Kb(t,e,n,r)}async function Jx(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=ne();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){l.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:l}))})})}function Gb(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,h){const f=c.batch,p=f.keys();let v=j.resolve();return p.forEach(A=>{v=v.next(()=>h.getEntry(u,A)).next(I=>{const b=c.docVersions.get(A);ae(b!==null,48541),I.version.compareTo(b)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ne();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Zx(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function Qb(t,e){const n=J(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(n.li.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.li.addMatchingKeys(i,h.addedDocuments,f)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(tt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(I,b,_){return I.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=Hb?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,v,h)&&l.push(n.li.updateTargetData(i,v))});let u=Fn(),c=ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(Yb(i,o,e.documentUpdates).next(h=>{u=h.Bs,c=h.Ls})),!r.isEqual(X.min())){const h=n.li.getLastRemoteSnapshotVersion(i).next(f=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return j.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.vs=s,i))}function Yb(t,e,n){let r=ne(),s=ne();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Fn();return n.forEach((l,u)=>{const c=i.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):$(kp,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Bs:o,Ls:s}})}function Xb(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_p),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jb(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,j.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new rr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function $d(t,e,n){const r=J(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!_i(o))throw o;$(kp,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function R0(t,e,n){const r=J(t);let s=X.min(),i=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=J(u),p=f.Fs.get(h);return p!==void 0?j.resolve(f.vs.get(p)):f.li.getTargetData(c,h)}(r,o,gn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:X.min(),n?i:ne())).next(l=>(Zb(r,jR(e),l),{documents:l,ks:i})))}function Zb(t,e,n){let r=t.Ms.get(e)||X.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class b0{constructor(){this.activeTargetIds=WR()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ek{constructor(){this.vo=new b0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new b0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="ConnectivityMonitor";class V0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){$(k0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){$(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ol=null;function Wd(){return ol===null?ol=function(){return 268435456+Math.round(2147483648*Math.random())}():ol++,"0x"+ol.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="RestConnection",nk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class rk{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===uu?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Wd(),l=this.Qo(e,n.toUriEncodedString());$(ph,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,s,i);const{host:c}=new URL(l),h=pp(c);return this.zo(e,l,u,r,h).then(f=>($(ph,`Received RPC '${e}' ${o}: `,f),f),f=>{throw ni(ph,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",r),f})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=nk[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it="WebChannelConnection",Gi=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Ks extends rk{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ks.c_){const e=ix();Gi(e,sx.STAT_EVENT,n=>{n.stat===Vd.PROXY?$(it,"STAT_EVENT: detected buffering proxy"):n.stat===Vd.NOPROXY&&$(it,"STAT_EVENT: detected no buffering proxy")}),Ks.c_=!0}}zo(e,n,r,s,i){const o=Wd();return new Promise((l,u)=>{const c=new nx;c.setWithCredentials(!0),c.listenOnce(rx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Al.NO_ERROR:const f=c.getResponseJson();$(it,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case Al.TIMEOUT:$(it,`RPC '${e}' ${o} timed out`),u(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case Al.HTTP_ERROR:const p=c.getStatus();if($(it,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let v=c.getResponseJson();Array.isArray(v)&&(v=v[0]);const A=v==null?void 0:v.error;if(A&&A.status&&A.message){const I=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(y)>=0?y:F.UNKNOWN}(A.status);u(new H(I,A.message))}else u(new H(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new H(F.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{$(it,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);$(it,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Wd(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");$(it,`Creating RPC '${e}' stream ${s}: ${c}`,l);const h=o.createWebChannel(c,l);this.I_(h);let f=!1,p=!1;const v=new sk({Ho:A=>{p?$(it,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(f||($(it,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),$(it,`RPC '${e}' stream ${s} sending:`,A),h.send(A))},Jo:()=>h.close()});return Gi(h,eo.EventType.OPEN,()=>{p||($(it,`RPC '${e}' stream ${s} transport opened.`),v.i_())}),Gi(h,eo.EventType.CLOSE,()=>{p||(p=!0,$(it,`RPC '${e}' stream ${s} transport closed`),v.o_(),this.E_(h))}),Gi(h,eo.EventType.ERROR,A=>{p||(p=!0,ni(it,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),v.o_(new H(F.UNAVAILABLE,"The operation could not be completed")))}),Gi(h,eo.EventType.MESSAGE,A=>{var I;if(!p){const b=A.data[0];ae(!!b,16349);const _=b,y=(_==null?void 0:_.error)||((I=_[0])==null?void 0:I.error);if(y){$(it,`RPC '${e}' stream ${s} received error:`,y);const T=y.status;let N=function(E){const g=Ne[E];if(g!==void 0)return Fx(g)}(T),k=y.message;N===void 0&&(N=F.INTERNAL,k="Unknown error status: "+T+" with message "+y.message),p=!0,v.o_(new H(N,k)),h.close()}else $(it,`RPC '${e}' stream ${s} received:`,b),v.__(b)}}),Ks.u_(),setTimeout(()=>{v.s_()},0),v}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ox()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t){return new Ks(t)}function mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){return new ub(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ks.c_=!1;class eE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&$("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="PersistentStream";class tE{constructor(e,n,r,s,i,o,l,u){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(jn(n.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return $(N0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():($(N0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ok extends tE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=db(this.serializer,e),r=function(i){if(!("targetChange"in i))return X.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?yn(o.readTime):X.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=zd(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=Od(u)?{documents:mb(i,u)}:{query:gb(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=zx(i,o.resumeToken);const c=Fd(i,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(X.min())>0){l.readTime=mu(i,o.snapshotVersion.toTimestamp());const c=Fd(i,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=vb(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=zd(this.serializer),n.removeTarget=e,this.K_(n)}}class ak extends tE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pb(e.writeResults,e.commitTime),r=yn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=zd(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fb(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{}class uk extends lk{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Bd(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(F.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.jo(e,Bd(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function ck(t,e,n,r){return new uk(t,e,n,r)}class hk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jn(n),this.aa=!1):$("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="RemoteStore";class dk{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{hs(this)&&($(ss,"Restarting streams for network reachability change."),await async function(u){const c=J(u);c.Ea.add(4),await _a(c),c.Va.set("Unknown"),c.Ea.delete(4),await sc(c)}(this))})}),this.Va=new hk(r,s)}}async function sc(t){if(hs(t))for(const e of t.Ra)await e(!0)}async function _a(t){for(const e of t.Ra)await e(!1)}function nE(t,e){const n=J(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mp(n)?Dp(n):wi(n).O_()&&Np(n,e))}function Vp(t,e){const n=J(t),r=wi(n);n.Ia.delete(e),r.O_()&&rE(n,e),n.Ia.size===0&&(r.O_()?r.L_():hs(n)&&n.Va.set("Unknown"))}function Np(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wi(t).Z_(e)}function rE(t,e){t.da.$e(e),wi(t).X_(e)}function Dp(t){t.da=new ib({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wi(t).start(),t.Va.ua()}function Mp(t){return hs(t)&&!wi(t).x_()&&t.Ia.size>0}function hs(t){return J(t).Ea.size===0}function sE(t){t.da=void 0}async function fk(t){t.Va.set("Online")}async function pk(t){t.Ia.forEach((e,n)=>{Np(t,e)})}async function mk(t,e){sE(t),Mp(t)?(t.Va.ha(e),Dp(t)):t.Va.set("Unknown")}async function gk(t,e,n){if(t.Va.set("Online"),e instanceof Ux&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ia.delete(l),s.da.removeTarget(l))}(t,e)}catch(r){$(ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yu(t,r)}else if(e instanceof Rl?t.da.Xe(e):e instanceof Bx?t.da.st(e):t.da.tt(e),!n.isEqual(X.min()))try{const r=await Zx(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.da.Tt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const h=i.Ia.get(u);if(!h)return;i.Ia.set(u,h.withResumeToken(tt.EMPTY_BYTE_STRING,h.snapshotVersion)),rE(i,u);const f=new rr(h.target,u,c,h.sequenceNumber);Np(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){$(ss,"Failed to raise snapshot:",r),await yu(t,r)}}async function yu(t,e,n){if(!_i(e))throw e;t.Ea.add(1),await _a(t),t.Va.set("Offline"),n||(n=()=>Zx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$(ss,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sc(t)})}function iE(t,e){return e().catch(n=>yu(t,n,e))}async function ic(t){const e=J(t),n=Tr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_p;for(;yk(e);)try{const s=await Xb(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,vk(e,s)}catch(s){await yu(e,s)}oE(e)&&aE(e)}function yk(t){return hs(t)&&t.Ta.length<10}function vk(t,e){t.Ta.push(e);const n=Tr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function oE(t){return hs(t)&&!Tr(t).x_()&&t.Ta.length>0}function aE(t){Tr(t).start()}async function _k(t){Tr(t).ra()}async function wk(t){const e=Tr(t);for(const n of t.Ta)e.ea(n.mutations)}async function xk(t,e,n){const r=t.Ta.shift(),s=Ap.from(r,e,n);await iE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ic(t)}async function Ek(t,e){e&&Tr(t).Y_&&await async function(r,s){if(function(o){return nb(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();Tr(r).B_(),await iE(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ic(r)}}(t,e),oE(t)&&aE(t)}async function D0(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),$(ss,"RemoteStore received new credentials");const r=hs(n);n.Ea.add(3),await _a(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sc(n)}async function Tk(t,e){const n=J(t);e?(n.Ea.delete(2),await sc(n)):e||(n.Ea.add(2),await _a(n),n.Va.set("Unknown"))}function wi(t){return t.ma||(t.ma=function(n,r,s){const i=J(n);return i.sa(),new ok(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:fk.bind(null,t),Yo:pk.bind(null,t),t_:mk.bind(null,t),J_:gk.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Mp(t)?Dp(t):t.Va.set("Unknown")):(await t.ma.stop(),sE(t))})),t.ma}function Tr(t){return t.fa||(t.fa=function(n,r,s){const i=J(n);return i.sa(),new ak(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:_k.bind(null,t),t_:Ek.bind(null,t),ta:wk.bind(null,t),na:xk.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await ic(t)):(await t.fa.stop(),t.Ta.length>0&&($(ss,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Lp(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(t,e){if(jn("AsyncQueue",`${e}: ${t}`),_i(t))return new H(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{static emptySet(e){return new qs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=to(),this.sortedSet=new Ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.ga=new Ce(q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Q(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ai{constructor(e,n,r,s,i,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ai(e,n,qs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class Ak{constructor(){this.queries=L0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=J(n),i=s.queries;s.queries=L0(),i.forEach((o,l)=>{for(const u of l.ba)u.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}}function L0(){return new us(t=>Cx(t),Ju)}async function lE(t,e){const n=J(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new Sk,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Op(o,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&jp(n)}async function uE(t,e){const n=J(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ck(t,e){const n=J(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.ba)l.Fa(s)&&(r=!0);o.wa=s}}r&&jp(n)}function Ik(t,e,n){const r=J(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function jp(t){t.Ca.forEach(e=>{e.next()})}var Hd,O0;(O0=Hd||(Hd={})).Ma="default",O0.Cache="cache";class cE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ai(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ai.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this.key=e}}class dE{constructor(e){this.key=e}}class Pk{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ne(),this.mutatedKeys=ne(),this.eu=Ix(e),this.tu=new qs(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new M0,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),v=Zu(this.query,f)?f:null,A=!!p&&this.mutatedKeys.has(p.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let b=!1;p&&v?p.data.isEqual(v.data)?A!==I&&(r.track({type:3,doc:v}),b=!0):this.su(p,v)||(r.track({type:2,doc:v}),b=!0,(u&&this.eu(v,u)>0||c&&this.eu(v,c)<0)&&(l=!0)):!p&&v?(r.track({type:0,doc:v}),b=!0):p&&!v&&(r.track({type:1,doc:p}),b=!0,(u||c)&&(l=!0)),b&&(v?(o=o.add(v),i=I?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,A){const I=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:b})}};return I(v)-I(A)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const l=n&&!s?this._u():[],u=this.Ya.size===0&&this.current&&!s?1:0,c=u!==this.Xa;return this.Xa=u,o.length!==0||c?{snapshot:new ai(this.query,e.tu,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new M0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new dE(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new hE(r))}),n}cu(e){this.Za=e.ks,this.Ya=ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ai.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Fp="SyncEngine";class Rk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bk{constructor(e){this.key=e,this.hu=!1}}class kk{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new us(l=>Cx(l),Ju),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ce(q.comparator),this.Au=new Map,this.Vu=new Pp,this.du={},this.mu=new Map,this.fu=oi.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Vk(t,e,n=!0){const r=vE(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await fE(r,e,n,!0),s}async function Nk(t,e){const n=vE(t);await fE(n,e,!0,!1)}async function fE(t,e,n,r){const s=await Jb(t.localStore,gn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await Dk(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&nE(t.remoteStore,s),l}async function Dk(t,e,n,r,s){t.pu=(f,p,v)=>async function(I,b,_,y){let T=b.view.ru(_);T.Ss&&(T=await R0(I.localStore,b.query,!1).then(({documents:E})=>b.view.ru(E,T)));const N=y&&y.targetChanges.get(b.targetId),k=y&&y.targetMismatches.get(b.targetId)!=null,L=b.view.applyChanges(T,I.isPrimaryClient,N,k);return F0(I,b.targetId,L.au),L.snapshot}(t,f,p,v);const i=await R0(t.localStore,e,!0),o=new Pk(e,i.ks),l=o.ru(i.documents),u=va.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(l,t.isPrimaryClient,u);F0(t,n,c.au);const h=new Rk(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function Mk(t,e,n){const r=J(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Ju(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await $d(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Vp(r.remoteStore,s.targetId),Kd(r,s.targetId)}).catch(vi)):(Kd(r,s.targetId),await $d(r.localStore,s.targetId,!0))}async function Lk(t,e){const n=J(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vp(n.remoteStore,r.targetId))}async function Ok(t,e,n){const r=Wk(t);try{const s=await function(o,l){const u=J(o),c=ge.now(),h=l.reduce((v,A)=>v.add(A.key),ne());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=Fn(),I=ne();return u.xs.getEntries(v,h).next(b=>{A=b,A.forEach((_,y)=>{y.isValidDocument()||(I=I.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,A)).next(b=>{f=b;const _=[];for(const y of l){const T=XR(y,f.get(y.key).overlayedDocument);T!=null&&_.push(new cs(y.key,T,_x(T.value.mapValue),bn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,_,l)}).next(b=>{p=b;const _=b.applyToLocalDocumentSet(f,I);return u.documentOverlayCache.saveOverlays(v,b.batchId,_)})}).then(()=>({batchId:p.batchId,changes:Rx(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,u){let c=o.du[o.currentUser.toKey()];c||(c=new Ce(te)),c=c.insert(l,u),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await wa(r,s.changes),await ic(r.remoteStore)}catch(s){const i=Op(s,"Failed to persist write");n.reject(i)}}async function pE(t,e){const n=J(t);try{const r=await Qb(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?ae(o.hu,14607):s.removedDocuments.size>0&&(ae(o.hu,42227),o.hu=!1))}),await wa(n,r,e)}catch(r){await vi(r)}}function j0(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const l=o.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=J(o);u.onlineState=l;let c=!1;u.queries.forEach((h,f)=>{for(const p of f.ba)p.va(l)&&(c=!0)}),c&&jp(u)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jk(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ce(q.comparator);o=o.insert(i,ct.newNoDocument(i,X.min()));const l=ne().add(i),u=new nc(X.min(),new Map,new Ce(te),o,l);await pE(r,u),r.Ru=r.Ru.remove(i),r.Au.delete(e),Bp(r)}else await $d(r.localStore,e,!1).then(()=>Kd(r,e,n)).catch(vi)}async function Fk(t,e){const n=J(t),r=e.batch.batchId;try{const s=await Gb(n.localStore,e);gE(n,r,null),mE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wa(n,s)}catch(s){await vi(s)}}async function Bk(t,e,n){const r=J(t);try{const s=await function(o,l){const u=J(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(ae(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);gE(r,e,n),mE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wa(r,s)}catch(s){await vi(s)}}function mE(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function gE(t,e,n){const r=J(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Kd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||yE(t,r)})}function yE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Vp(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Bp(t))}function F0(t,e,n){for(const r of n)r instanceof hE?(t.Vu.addReference(r.key,e),Uk(t,r)):r instanceof dE?($(Fp,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||yE(t,r.key)):Q(19791,{wu:r})}function Uk(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||($(Fp,"New document in limbo: "+n),t.Eu.add(r),Bp(t))}function Bp(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new q(Ee.fromString(e)),r=t.fu.next();t.Au.set(r,new bk(n)),t.Ru=t.Ru.insert(n,r),nE(t.remoteStore,new rr(gn(Xu(n.path)),r,"TargetPurposeLimboResolution",qu.ce))}}async function wa(t,e,n){const r=J(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{o.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=bp.Es(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(u,c){const h=J(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(c,p=>j.forEach(p.Ts,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>j.forEach(p.Is,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!_i(f))throw f;$(kp,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const v=h.vs.get(p),A=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(A);h.vs=h.vs.insert(p,I)}}}(r.localStore,i))}async function zk(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){$(Fp,"User change. New user:",e.toKey());const r=await Jx(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(l=>{l.forEach(u=>{u.reject(new H(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wa(n,r.Ns)}}function $k(t,e){const n=J(t),r=n.Au.get(e);if(r&&r.hu)return ne().add(r.key);{let s=ne();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const l=n.Tu.get(o);s=s.unionWith(l.view.nu)}return s}}function vE(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$k.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jk.bind(null,e),e.Pu.J_=Ck.bind(null,e.eventManager),e.Pu.yu=Ik.bind(null,e.eventManager),e}function Wk(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bk.bind(null,e),e}class vu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qb(this.persistence,new Wb,e.initialUser,this.serializer)}Cu(e){return new Xx(Rp.Vi,this.serializer)}Du(e){return new ek}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vu.provider={build:()=>new vu};class Hk extends vu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ae(this.persistence.referenceDelegate instanceof gu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Rb(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xt.withCacheSize(this.cacheSizeBytes):xt.DEFAULT;return new Xx(r=>gu.Vi(r,n),this.serializer)}}class qd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>j0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zk.bind(null,this.syncEngine),await Tk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ak}()}createDatastore(e){const n=rc(e.databaseInfo.databaseId),r=ik(e.databaseInfo);return ck(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new dk(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>j0(this.syncEngine,n,0),function(){return V0.v()?new V0:new tk}())}createSyncEngine(e,n){return function(s,i,o,l,u,c,h){const f=new kk(s,i,o,l,u,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=J(s);$(ss,"RemoteStore shutting down."),i.Ea.add(5),await _a(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="FirestoreClient";class Kk{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=at.UNAUTHENTICATED,this.clientId=yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{$(Sr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($(Sr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Op(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gh(t,e){t.asyncQueue.verifyOperationInProgress(),$(Sr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Jx(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function B0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qk(t);$(Sr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>D0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>D0(e.remoteStore,s)),t._onlineComponents=e}async function qk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(Sr,"Using user provided OfflineComponentProvider");try{await gh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ni("Error using user provided cache. Falling back to memory cache: "+n),await gh(t,new vu)}}else $(Sr,"Using default OfflineComponentProvider"),await gh(t,new Hk(void 0));return t._offlineComponents}async function wE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($(Sr,"Using user provided OnlineComponentProvider"),await B0(t,t._uninitializedComponentsProvider._online)):($(Sr,"Using default OnlineComponentProvider"),await B0(t,new qd))),t._onlineComponents}function Gk(t){return wE(t).then(e=>e.syncEngine)}async function Gd(t){const e=await wE(t),n=e.eventManager;return n.onListen=Vk.bind(null,e.syncEngine),n.onUnlisten=Mk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Nk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Lk.bind(null,e.syncEngine),n}function Qk(t,e,n,r){const s=new _E(r),i=new cE(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>lE(await Gd(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>uE(await Gd(t),i))}}function Yk(t,e,n={}){const r=new mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,c){const h=new _E({next:p=>{h.Nu(),o.enqueueAndForget(()=>uE(i,f));const v=p.docs.has(l);!v&&p.fromCache?c.reject(new H(F.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&u&&u.source==="server"?c.reject(new H(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new cE(Xu(l.path),h,{includeMetadataChanges:!0,Ka:!0});return lE(i,f)}(await Gd(t),t.asyncQueue,e,n,r)),r.promise}function Xk(t,e){const n=new mr;return t.asyncQueue.enqueueAndForget(async()=>Ok(await Gk(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="ComponentProvider",U0=new Map;function Zk(t,e,n,r,s){return new _R(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,xE(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firestore.googleapis.com",z0=!0;class $0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EE,this.ssl=z0}else this.host=e.host,this.ssl=e.ssl??z0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ib)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Up{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XP;switch(r.type){case"firstParty":return new tR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=U0.get(n);r&&($(Jk,"Removing Datastore"),U0.delete(n),r.terminate())}(this),Promise.resolve()}}function eV(t,e,n,r={}){var c;t=gr(t,Up);const s=pp(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;s&&(TI(`https://${l}`),II("Firestore",!0)),i.host!==EE&&i.host!==l&&ni("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:s,emulatorOptions:r};if(!iu(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=at.MOCK_USER;else{h=SI(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new at(p)}t._authCredentials=new JP(new lx(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oc(this.firestore,e,this._query)}}class Be{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Be(this.firestore,e,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ga(n,Be._jsonSchema))return new Be(e,r||null,new q(Ee.fromString(n.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Me("string",Be._jsonSchemaVersion),referencePath:Me("string")};class ra extends oc{constructor(e,n,r){super(e,n,Xu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Be(this.firestore,null,new q(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function zp(t,e,...n){if(t=Go(t),arguments.length===1&&(e=yp.newId()),aR("doc","path",e),t instanceof Up){const r=Ee.fromString(e,...n);return r0(r),new Be(t,null,new q(r))}{if(!(t instanceof Be||t instanceof ra))throw new H(F.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return r0(r),new Be(t.firestore,t instanceof ra?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="AsyncQueue";class H0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eE(this,"async_queue_retry"),this._c=()=>{const r=mh();r&&$(W0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_i(e))throw e;$(W0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,jn("INTERNAL UNHANDLED ERROR: ",K0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Lp.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Q(47125,{Pc:K0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function K0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class sa extends Up{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new H0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H0(e),this._firestoreClient=void 0,await e}}}function tV(t,e){const n=typeof t=="object"?t:OP(),r=typeof t=="string"?t:uu,s=VP(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=xI("firestore");i&&eV(s,...i)}return s}function $p(t){if(t._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nV(t),t._firestoreClient}function nV(t){var r,s,i,o;const e=t._freezeSettings(),n=Zk(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Kk(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $t(tt.fromBase64String(e))}catch(n){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $t(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ga(e,$t._jsonSchema))return $t.fromBase64String(e.bytes)}}$t._jsonSchemaVersion="firestore/bytes/1.0",$t._jsonSchema={type:Me("string",$t._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vn._jsonSchemaVersion}}static fromJSON(e){if(ga(e,vn._jsonSchema))return new vn(e.latitude,e.longitude)}}vn._jsonSchemaVersion="firestore/geoPoint/1.0",vn._jsonSchema={type:Me("string",vn._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:rn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ga(e,rn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new rn(e.vectorValues);throw new H(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rn._jsonSchemaVersion="firestore/vectorValue/1.0",rn._jsonSchema={type:Me("string",rn._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=/^__.*__$/;class sV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ya(e,this.data,n,this.fieldTransforms)}}function AE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{dataSource:t})}}class Wp{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Wp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _u(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(AE(this.dataSource)&&rV.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class iV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rc(e)}createContext(e,n,r,s=!1){return new Wp({dataSource:e,methodName:n,targetDoc:r,path:Je.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oV(t){const e=t._freezeSettings(),n=rc(t._databaseId);return new iV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aV(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);RE("Data must be an object, but it was:",o,r);const l=IE(r,o);let u,c;if(i.merge)u=new en(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Hp(e,f,n);if(!o.contains(p))throw new H(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);cV(h,p)||h.push(p)}u=new en(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new sV(new zt(l),u,c)}function CE(t,e){if(PE(t=Go(t)))return RE("Unsupported field value:",e,t),IE(t,e);if(t instanceof SE)return function(r,s){if(!AE(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let u=CE(l,s.childContextForArray(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Go(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HR(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ge.fromDate(r);return{timestampValue:mu(s.serializer,i)}}if(r instanceof ge){const i=new ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mu(s.serializer,i)}}if(r instanceof vn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $t)return{bytesValue:zx(s.serializer,r._byteString)};if(r instanceof Be){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ip(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof rn)return function(o,l){const u=o instanceof rn?o.toArray():o;return{mapValue:{fields:{[yx]:{stringValue:vx},[cu]:{arrayValue:{values:u.map(h=>{if(typeof h!="number")throw l.createError("VectorValues must only contain numeric values.");return Sp(l.serializer,h)})}}}}}}(r,s);if(Qx(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${vp(r)}`)}(t,e)}function IE(t,e){const n={};return hx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ls(t,(r,s)=>{const i=CE(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function PE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ge||t instanceof vn||t instanceof $t||t instanceof Be||t instanceof SE||t instanceof rn||Qx(t))}function RE(t,e,n){if(!PE(n)||!ux(n)){const r=vp(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Hp(t,e,n){if((e=Go(e))instanceof TE)return e._internalPath;if(typeof e=="string")return uV(t,e);throw _u("Field path arguments must be of type string or ",t,!1,void 0,n)}const lV=new RegExp("[~\\*/\\[\\]]");function uV(t,e,n){if(e.search(lV)>=0)throw _u(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new TE(...e.split("."))._internalPath}catch{throw _u(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _u(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new H(F.INVALID_ARGUMENT,l+t+u)}function cV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{convertValue(e,n="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ls(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[cu].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ke(o.doubleValue));return new rn(n)}convertGeoPoint(e){return new vn(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jo(e));default:return null}}convertTimestamp(e){const n=wr(e);return new ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);ae(Gx(r),9688,{name:e});const s=new Zo(r.get(1),r.get(3)),i=new q(r.popFirst(5));return s.isEqual(n)||jn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends hV{constructor(e){super(),this.firestore=e}convertBytes(e){return new $t(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Be(this.firestore,null,n)}}const q0="@firebase/firestore",G0="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Hp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dV extends kE{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function pV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yr extends kE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:Me("string",Yr._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class bl extends Yr{data(e={}){return super.data(e)}}class Gs{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ro(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bl(this._firestore,this._userDataWriter,r.key,r,new ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const u=new bl(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ro(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new bl(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ro(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:mV(l.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gs._jsonSchemaVersion="firestore/querySnapshot/1.0",Gs._jsonSchema={type:Me("string",Gs._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(t){t=gr(t,Be);const e=gr(t.firestore,sa),n=$p(e);return Yk(n,t._key).then(r=>VE(e,t,r))}function yV(t,e,n){t=gr(t,Be);const r=gr(t.firestore,sa),s=pV(t.converter,e),i=oV(r);return _V(r,[aV(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,bn.none())])}function vV(t,...e){var c,h,f;t=Go(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Q0(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Q0(e[r])){const p=e[r];e[r]=(c=p.next)==null?void 0:c.bind(p),e[r+1]=(h=p.error)==null?void 0:h.bind(p),e[r+2]=(f=p.complete)==null?void 0:f.bind(p)}let i,o,l;if(t instanceof Be)o=gr(t.firestore,sa),l=Xu(t._key.path),i={next:p=>{e[r]&&e[r](VE(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=gr(t,oc);o=gr(p.firestore,sa),l=p._query;const v=new bE(o);i={next:A=>{e[r]&&e[r](new Gs(o,v,p,A))},error:e[r+1],complete:e[r+2]},fV(t._query)}const u=$p(o);return Qk(u,l,s,i)}function _V(t,e){const n=$p(t);return Xk(n,e)}function VE(t,e,n){const r=n.docs.get(e._key),s=new bE(t);return new Yr(t,s,e._key,r,new ro(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){YP(LP),au(new Qo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new sa(new ZP(r.getProvider("auth-internal")),new nR(o,r.getProvider("app-check-internal")),wR(o,s),o);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Hs(q0,G0,e),Hs(q0,G0,"esm2020")})();const so={apiKey:"AIzaSyBYF6q6PYaVnq1b3pMSTc4qCvfQgQpvOcw",authDomain:"gamification-dashboard.firebaseapp.com",projectId:"gamification-dashboard",storageBucket:"gamification-dashboard.firebasestorage.app",messagingSenderId:"644907580810",appId:"1:644907580810:web:d4a9e758ee6d8caf085c73"},xa=()=>so.apiKey&&so.apiKey!=="your-api-key-here"&&so.projectId&&so.projectId!=="your-project-id";let Y0=null,is=null;if(xa())try{Y0=Jw(so),is=tV(Y0),console.log(" Firebase initialized successfully")}catch(t){console.error(" Firebase initialization error:",t)}else console.warn(" Firebase not configured. Please add credentials to .env.local file.");const Kp="conference_data",qp="units";let yh=null,X0=null;async function wV(t,e=!1){return!xa()||!is?(console.warn("Firebase not configured, skipping save to Firestore"),!1):(X0=t,yh&&clearTimeout(yh),e?await Yd(t):new Promise(n=>{yh=setTimeout(async()=>{const r=await Yd(X0);n(r)},500)}))}function Qd(t){if(Array.isArray(t))return t.map(e=>Qd(e));if(t!==null&&typeof t=="object"){const e={};for(const[n,r]of Object.entries(t))r!==void 0&&(n==="logo"&&r===null?e[n]="":e[n]=Qd(r));return e}return t}async function Yd(t,e=0){try{const r=Qd(t),s=zp(is,Kp,qp);return await yV(s,{units:r,lastUpdated:new Date().toISOString()}),!0}catch(r){if((r.code==="resource-exhausted"||r.code==="unavailable")&&e<3){console.warn(` Firebase write failed (${r.code}), retrying... (${e+1}/3)`);const s=Math.pow(2,e)*1e3;return await new Promise(i=>setTimeout(i,s)),await Yd(t,e+1)}return console.error(" Error saving units to Firebase:",r.code||r.message),!1}}async function xV(){if(!xa()||!is)return console.warn("Firebase not configured, cannot load from Firestore"),null;try{const t=zp(is,Kp,qp),e=await gV(t);return e.exists()?e.data().units||null:(console.log(" No units data found in Firebase"),null)}catch(t){return console.error(" Error loading units from Firebase:",t),null}}function EV(t){if(!xa()||!is)return console.warn("Firebase not configured, cannot subscribe to units data"),null;try{const e=zp(is,Kp,qp);return vV(e,r=>{if(r.exists()){const s=r.data();t(s.units||null)}},r=>{console.error(" Error in units subscription:",r)})}catch(e){return console.error(" Error subscribing to units:",e),null}}const io="conference_units_data",Xd="conference_config",Jd=()=>[{id:"booth-1",name:" 1",color:"#FF6B6B"},{id:"booth-2",name:" 2",color:"#4ECDC4"},{id:"booth-3",name:" 3",color:"#45B7D1"},{id:"booth-4",name:" 4",color:"#FFA07A"},{id:"booth-5",name:" 5",color:"#98D8C8"},{id:"booth-6",name:" 6",color:"#F7DC6F"},{id:"booth-7",name:" 7",color:"#BB8FCE"},{id:"booth-8",name:" 8",color:"#85C1E2"},{id:"booth-9",name:" 9",color:"#F8B739"},{id:"booth-10",name:" 10",color:"#52BE80"}],Zd=()=>Array.from({length:40},(t,e)=>({id:e+1,name:`Unit ${e+1}`,booths:[],logo:null})),TV=(t,e)=>t.map(n=>{if(typeof n.score=="number"&&!n.booths){const r=[];for(let s=0;s<n.score&&s<e.length;s++)r.push(e[s].id);return{...n,booths:r,score:void 0}}return{...n,booths:n.booths||[]}}),J0=async(t="localStorage",e)=>{let n=null;if(t==="localStorage"){const r=localStorage.getItem(io);if(r)try{n=JSON.parse(r)}catch(s){console.error("Failed to parse storage",s)}}else if(t==="firebase")try{const r=await xV();r&&(n=r)}catch(r){console.error("Error loading from Firebase:",r)}return n?TV(n,e||Jd()):Zd()},SV=()=>{const t=localStorage.getItem(Xd),e={pageSize:10,showZero:!1,storageType:"firebase",availableBooths:Jd()};if(!t)return e;const n=JSON.parse(t);return n.availableBooths||(n.availableBooths=Jd()),n};function Gp(){const[t,e]=M.useState(SV),n=xa()?"firebase":t.storageType||"localStorage",[r,s]=M.useState(Zd),[i,o]=M.useState(!1);M.useEffect(()=>{let k=!0;return(async()=>{o(!0);try{const E=await J0(n,t.availableBooths);k&&s(E)}catch(E){console.error("Error loading initial data:",E),k&&s(Zd())}finally{k&&o(!1)}})(),()=>{k=!1}},[n]),M.useEffect(()=>{if(n!=="firebase")return;let k=null;return k=EV(L=>{L&&s(L)}),()=>{k&&k()}},[n]),M.useEffect(()=>{if(n!=="localStorage")return;const k=L=>{if(L.key===io&&L.newValue)try{s(JSON.parse(L.newValue))}catch{}if(L.key===Xd&&L.newValue)try{e(JSON.parse(L.newValue))}catch{}};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[n]);const l=async k=>{if(s(k),n==="localStorage")localStorage.setItem(io,JSON.stringify(k)),console.log(" Data saved to localStorage successfully");else if(n==="firebase")try{await wV(k)?console.log(" Data saved to Firebase successfully"):(console.warn(" Firebase save failed, using localStorage as fallback"),localStorage.setItem(io,JSON.stringify(k)))}catch(L){console.error(" Firebase save error:",L),localStorage.setItem(io,JSON.stringify(k))}},u=k=>{e(k),localStorage.setItem(Xd,JSON.stringify(k))},c=(k,L)=>{const E=`booth-${Date.now()}`,g={id:E,name:k,color:L},S=[...t.availableBooths||[],g];return console.log(` Booth added: ${k} (${L})`),y({availableBooths:S}),E},h=(k,L)=>{const E=(t.availableBooths||[]).map(g=>g.id===k?{...g,...L}:g);console.log(` Booth updated: ${k}`,L),y({availableBooths:E})},f=k=>{var S;const L=(S=t.availableBooths)==null?void 0:S.find(C=>C.id===k),E=(t.availableBooths||[]).filter(C=>C.id!==k),g=r.map(C=>({...C,booths:(C.booths||[]).filter(R=>R!==k)}));console.log(` Booth removed: ${L==null?void 0:L.name} (removed from all units)`),y({availableBooths:E}),l(g)},p=(k,L)=>{var C;const E=r.find(R=>R.id===k),g=(C=t.availableBooths)==null?void 0:C.find(R=>R.id===L),S=r.map(R=>R.id===k&&!(R.booths||[]).includes(L)?{...R,booths:[...R.booths||[],L]}:R);console.log(` Booth added to unit: ${g==null?void 0:g.name}  ${E==null?void 0:E.name}`),l(S)},v=(k,L)=>{var C;const E=r.find(R=>R.id===k),g=(C=t.availableBooths)==null?void 0:C.find(R=>R.id===L),S=r.map(R=>R.id===k?{...R,booths:(R.booths||[]).filter(V=>V!==L)}:R);console.log(` Booth removed from unit: ${g==null?void 0:g.name}  ${E==null?void 0:E.name}`),l(S)},A=(k,L)=>{console.warn(" updateScore is deprecated, use addBoothToUnit/removeBoothFromUnit instead")},I=(k,L)=>{const E=r.find(S=>S.id===k),g=r.map(S=>S.id===k?{...S,...L}:S);console.log(` Unit updated: ${E==null?void 0:E.name}  ${L.name||(E==null?void 0:E.name)}`,L),l(g)},b=k=>{const E={id:r.reduce((g,S)=>Math.max(g,S.id),0)+1,name:k,booths:[],logo:null};console.log(` Unit added: ${k} (ID: ${E.id})`),l([...r,E])},_=k=>{const L=r.find(E=>E.id===k);console.log(` Unit removed: ${L==null?void 0:L.name} (ID: ${k})`),l(r.filter(E=>E.id!==k))},y=k=>{console.log(" Config updated:",k),u({...t,...k})};return{units:r,config:t,updateScore:A,updateUnit:I,addUnit:b,removeUnit:_,addBooth:c,updateBooth:h,removeBooth:f,addBoothToUnit:p,removeBoothFromUnit:v,updateConfig:y,resetData:()=>{const k=r.map(L=>({...L,booths:[]}));console.log(` All booths cleared (${r.length} units)`),l(k)},refreshData:async()=>{o(!0);try{const k=await J0(n,t.availableBooths);return s(k),console.log(" Data refreshed successfully"),!0}catch(k){return console.error(" Error refreshing data:",k),!1}finally{o(!1)}},isLoading:i}}const ia=M.createContext({});function Qp(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const ac=M.createContext(null),Yp=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class AV extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function CV({children:t,isPresent:e}){const n=M.useId(),r=M.useRef(null),s=M.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=M.useContext(Yp);return M.useInsertionEffect(()=>{const{width:o,height:l,top:u,left:c}=s.current;if(e||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return i&&(h.nonce=i),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),w.jsx(AV,{isPresent:e,childRef:r,sizeRef:s,children:M.cloneElement(t,{ref:r})})}const IV=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=Qp(PV),u=M.useId(),c=M.useCallback(f=>{l.set(f,!0);for(const p of l.values())if(!p)return;r&&r()},[l,r]),h=M.useMemo(()=>({id:u,initial:e,isPresent:n,custom:s,onExitComplete:c,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),c]:[n,c]);return M.useMemo(()=>{l.forEach((f,p)=>l.set(p,!1))},[n]),M.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=w.jsx(CV,{isPresent:n,children:t})),w.jsx(ac.Provider,{value:h,children:t})};function PV(){return new Map}function NE(t=!0){const e=M.useContext(ac);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=M.useId();M.useEffect(()=>{t&&s(i)},[t]);const o=M.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const al=t=>t.key||"";function Z0(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const Xp=typeof window<"u",Jp=Xp?M.useLayoutEffect:M.useEffect,So=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,u]=NE(o),c=M.useMemo(()=>Z0(t),[t]),h=o&&!l?[]:c.map(al),f=M.useRef(!0),p=M.useRef(c),v=Qp(()=>new Map),[A,I]=M.useState(c),[b,_]=M.useState(c);Jp(()=>{f.current=!1,p.current=c;for(let N=0;N<b.length;N++){const k=al(b[N]);h.includes(k)?v.delete(k):v.get(k)!==!0&&v.set(k,!1)}},[b,h.length,h.join("-")]);const y=[];if(c!==A){let N=[...c];for(let k=0;k<b.length;k++){const L=b[k],E=al(L);h.includes(E)||(N.splice(k,0,L),y.push(L))}i==="wait"&&y.length&&(N=y),_(Z0(N)),I(c);return}const{forceRender:T}=M.useContext(ia);return w.jsx(w.Fragment,{children:b.map(N=>{const k=al(N),L=o&&!l?!1:c===b||h.includes(k),E=()=>{if(v.has(k))v.set(k,!0);else return;let g=!0;v.forEach(S=>{S||(g=!1)}),g&&(T==null||T(),_(p.current),o&&(u==null||u()),r&&r())};return w.jsx(IV,{isPresent:L,initial:!f.current||n?void 0:!1,custom:L?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:L?void 0:E,children:N},k)})})},RV=M.createContext(null);function bV(){const t=M.useRef(!1);return Jp(()=>(t.current=!0,()=>{t.current=!1}),[]),t}const Nt=t=>t;let DE=Nt;function Zp(t){let e;return()=>(e===void 0&&(e=t()),e)}const li=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},kn=t=>t*1e3,Vn=t=>t/1e3,kV={useManualTiming:!1};function VV(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){i.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,h=!1,f=!1)=>{const v=f&&r?e:n;return h&&i.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(l),e.clear(),r=!1,s&&(s=!1,u.process(c))}};return u}const ll=["read","resolveKeyframes","update","preRender","render","postRender"],NV=40;function ME(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ll.reduce((_,y)=>(_[y]=VV(i),_),{}),{read:l,resolveKeyframes:u,update:c,preRender:h,render:f,postRender:p}=o,v=()=>{const _=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(_-s.timestamp,NV),1),s.timestamp=_,s.isProcessing=!0,l.process(s),u.process(s),c.process(s),h.process(s),f.process(s),p.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},A=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:ll.reduce((_,y)=>{const T=o[y];return _[y]=(N,k=!1,L=!1)=>(n||A(),T.schedule(N,k,L)),_},{}),cancel:_=>{for(let y=0;y<ll.length;y++)o[ll[y]].cancel(_)},state:s,steps:o}}const{schedule:de,cancel:Ar,state:Ye,steps:vh}=ME(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nt,!0);function DV(){const t=bV(),[e,n]=M.useState(0),r=M.useCallback(()=>{t.current&&n(e+1)},[e]);return[M.useCallback(()=>de.postRender(r),[r]),e]}const MV=t=>!t.isLayoutDirty&&t.willUpdate(!1);function ev(){const t=new Set,e=new WeakMap,n=()=>t.forEach(MV);return{add:r=>{t.add(r),e.set(r,r.addEventListener("willUpdate",n))},remove:r=>{t.delete(r);const s=e.get(r);s&&(s(),e.delete(r)),n()},dirty:n}}const LE=t=>t===!0,LV=t=>LE(t===!0)||t==="id",tv=({children:t,id:e,inherit:n=!0})=>{const r=M.useContext(ia),s=M.useContext(RV),[i,o]=DV(),l=M.useRef(null),u=r.id||s;l.current===null&&(LV(n)&&u&&(e=e?u+"-"+e:u),l.current={id:e,group:LE(n)&&r.group||ev()});const c=M.useMemo(()=>({...l.current,forceRender:i}),[o]);return w.jsx(ia.Provider,{value:c,children:t})},OE=M.createContext({strict:!1}),nv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ui={};for(const t in nv)ui[t]={isEnabled:e=>nv[t].some(n=>!!e[n])};function OV(t){for(const e in t)ui[e]={...ui[e],...t[e]}}const jV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jV.has(t)}let jE=t=>!wu(t);function FV(t){t&&(jE=e=>e.startsWith("on")?!wu(e):t(e))}try{FV(require("@emotion/is-prop-valid").default)}catch{}function BV(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(jE(s)||n===!0&&wu(s)||!e&&!wu(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function UV(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const lc=M.createContext({});function oa(t){return typeof t=="string"||Array.isArray(t)}function uc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const em=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tm=["initial",...em];function cc(t){return uc(t.animate)||tm.some(e=>oa(t[e]))}function FE(t){return!!(cc(t)||t.variants)}function zV(t,e){if(cc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||oa(n)?n:void 0,animate:oa(r)?r:void 0}}return t.inherit!==!1?e:{}}function $V(t){const{initial:e,animate:n}=zV(t,M.useContext(lc));return M.useMemo(()=>({initial:e,animate:n}),[rv(e),rv(n)])}function rv(t){return Array.isArray(t)?t.join(" "):t}const WV=Symbol.for("motionComponentSymbol");function Ds(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HV(t,e,n){return M.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ds(n)&&(n.current=r))},[e])}const nm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),KV="framerAppearId",BE="data-"+nm(KV),{schedule:rm}=ME(queueMicrotask,!1),UE=M.createContext({});function qV(t,e,n,r,s){var i,o;const{visualElement:l}=M.useContext(lc),u=M.useContext(OE),c=M.useContext(ac),h=M.useContext(Yp).reducedMotion,f=M.useRef(null);r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:l,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,v=M.useContext(UE);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&GV(f.current,n,s,v);const A=M.useRef(!1);M.useInsertionEffect(()=>{p&&A.current&&p.update(n,c)});const I=n[BE],b=M.useRef(!!I&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,I))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,I)));return Jp(()=>{p&&(A.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),rm.render(p.render),b.current&&p.animationState&&p.animationState.animateChanges())}),M.useEffect(()=>{p&&(!b.current&&p.animationState&&p.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,I)}),b.current=!1))}),p}function GV(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zE(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Ds(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:c})}function zE(t){if(t)return t.options.allowProjection!==!1?t.projection:zE(t.parent)}function QV({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&OV(t);function l(c,h){let f;const p={...M.useContext(Yp),...c,layoutId:YV(c)},{isStatic:v}=p,A=$V(c),I=r(c,v);if(!v&&Xp){XV();const b=JV(p);f=b.MeasureLayout,A.visualElement=qV(s,I,p,e,b.ProjectionNode)}return w.jsxs(lc.Provider,{value:A,children:[f&&A.visualElement?w.jsx(f,{visualElement:A.visualElement,...p}):null,n(s,c,HV(I,A.visualElement,h),I,v,A.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const u=M.forwardRef(l);return u[WV]=s,u}function YV({layoutId:t}){const e=M.useContext(ia).id;return e&&t!==void 0?e+"-"+t:t}function XV(t,e){M.useContext(OE).strict}function JV(t){const{drag:e,layout:n}=ui;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ZV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sm(t){return typeof t!="string"||t.includes("-")?!1:!!(ZV.indexOf(t)>-1||/[A-Z]/u.test(t))}function sv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function im(t,e,n,r){if(typeof e=="function"){const[s,i]=sv(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=sv(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const ef=t=>Array.isArray(t),eN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),tN=t=>ef(t)?t[t.length-1]||0:t,ht=t=>!!(t&&t.getVelocity);function kl(t){const e=ht(t)?t.get():t;return eN(e)?e.toValue():e}function nN({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:rN(r,s,i,t),renderState:e()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const $E=t=>(e,n)=>{const r=M.useContext(lc),s=M.useContext(ac),i=()=>nN(t,e,r,s);return n?i():Qp(i)};function rN(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=kl(i[p]);let{initial:o,animate:l}=t;const u=cc(t),c=FE(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!uc(f)){const p=Array.isArray(f)?f:[f];for(let v=0;v<p.length;v++){const A=im(t,p[v]);if(A){const{transitionEnd:I,transition:b,..._}=A;for(const y in _){let T=_[y];if(Array.isArray(T)){const N=h?T.length-1:0;T=T[N]}T!==null&&(s[y]=T)}for(const y in I)s[y]=I[y]}}}return s}const xi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ds=new Set(xi),WE=t=>e=>typeof e=="string"&&e.startsWith(t),HE=WE("--"),sN=WE("var(--"),om=t=>sN(t)?iN.test(t.split("/*")[0].trim()):!1,iN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,KE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Bn=(t,e,n)=>n>e?e:n<t?t:n,Ei={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},aa={...Ei,transform:t=>Bn(0,1,t)},ul={...Ei,default:1},Ea=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qn=Ea("deg"),_n=Ea("%"),G=Ea("px"),oN=Ea("vh"),aN=Ea("vw"),iv={..._n,parse:t=>_n.parse(t)/100,transform:t=>_n.transform(t*100)},lN={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,backgroundPositionX:G,backgroundPositionY:G},uN={rotate:Qn,rotateX:Qn,rotateY:Qn,rotateZ:Qn,scale:ul,scaleX:ul,scaleY:ul,scaleZ:ul,skew:Qn,skewX:Qn,skewY:Qn,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:aa,originX:iv,originY:iv,originZ:G},ov={...Ei,transform:Math.round},am={...lN,...uN,zIndex:ov,size:G,fillOpacity:aa,strokeOpacity:aa,numOctaves:ov},cN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hN=xi.length;function dN(t,e,n){let r="",s=!0;for(let i=0;i<hN;i++){const o=xi[i],l=t[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const c=KE(l,am[o]);if(!u){s=!1;const h=cN[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function lm(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const u in e){const c=e[u];if(ds.has(u)){o=!0;continue}else if(HE(u)){s[u]=c;continue}else{const h=KE(c,am[u]);u.startsWith("origin")?(l=!0,i[u]=h):r[u]=h}}if(e.transform||(o||n?r.transform=dN(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:c="50%",originZ:h=0}=i;r.transformOrigin=`${u} ${c} ${h}`}}const fN={offset:"stroke-dashoffset",array:"stroke-dasharray"},pN={offset:"strokeDashoffset",array:"strokeDasharray"};function mN(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?fN:pN;t[i.offset]=G.transform(-r);const o=G.transform(e),l=G.transform(n);t[i.array]=`${o} ${l}`}function av(t,e,n){return typeof t=="string"?t:G.transform(e+n*t)}function gN(t,e,n){const r=av(e,t.x,t.width),s=av(n,t.y,t.height);return`${r} ${s}`}function um(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...c},h,f){if(lm(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:A}=t;p.transform&&(A&&(v.transform=p.transform),delete p.transform),A&&(s!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=gN(A,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&mN(p,o,l,u,!1)}const cm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),qE=()=>({...cm(),attrs:{}}),hm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GE(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const QE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YE(t,e,n,r){GE(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(QE.has(s)?s:nm(s),e.attrs[s])}const xu={};function yN(t){Object.assign(xu,t)}function XE(t,{layout:e,layoutId:n}){return ds.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xu[t]||t==="opacity")}function dm(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(ht(s[o])||e.style&&ht(e.style[o])||XE(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function JE(t,e,n){const r=dm(t,e,n);for(const s in t)if(ht(t[s])||ht(e[s])){const i=xi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function vN(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const lv=["x","y","width","height","cx","cy","r"],_N={useVisualState:$E({scrapeMotionValuesFromProps:JE,createRenderState:qE,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in s)if(ds.has(l)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let l=0;l<lv.length;l++){const u=lv[l];t[u]!==e[u]&&(o=!0)}o&&de.read(()=>{vN(n,r),de.render(()=>{um(r,s,hm(n.tagName),t.transformTemplate),YE(n,r)})})}})},wN={useVisualState:$E({scrapeMotionValuesFromProps:dm,createRenderState:cm})};function ZE(t,e,n){for(const r in e)!ht(e[r])&&!XE(r,n)&&(t[r]=e[r])}function xN({transformTemplate:t},e){return M.useMemo(()=>{const n=cm();return lm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function EN(t,e){const n=t.style||{},r={};return ZE(r,n,t),Object.assign(r,xN(t,e)),r}function TN(t,e){const n={},r=EN(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function SN(t,e,n,r){const s=M.useMemo(()=>{const i=qE();return um(i,e,hm(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};ZE(i,t.style,t),s.style={...i,...s.style}}return s}function AN(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(sm(n)?SN:TN)(r,i,o,n),c=BV(r,typeof n=="string",t),h=n!==M.Fragment?{...c,...u,ref:s}:{},{children:f}=r,p=M.useMemo(()=>ht(f)?f.get():f,[f]);return M.createElement(n,{...h,children:p})}}function CN(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...sm(r)?_N:wN,preloadedFeatures:t,useRender:AN(s),createVisualElement:e,Component:r};return QV(o)}}function eT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function hc(t,e,n){const r=t.getProps();return im(r,e,n!==void 0?n:r.custom,t)}const IN=Zp(()=>window.ScrollTimeline!==void 0);class PN{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(IN()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class RN extends PN{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function fm(t,e){return t?t[e]||t.default||t:void 0}const tf=2e4;function tT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<tf;)e+=n,r=t.next(e);return e>=tf?1/0:e}function pm(t){return typeof t=="function"}function uv(t,e){t.timeline=e,t.onfinish=null}const mm=t=>Array.isArray(t)&&typeof t[0]=="number",bN={linearEasing:void 0};function kN(t,e){const n=Zp(t);return()=>{var r;return(r=bN[e])!==null&&r!==void 0?r:n()}}const Eu=kN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nT=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(li(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function rT(t){return!!(typeof t=="function"&&Eu()||!t||typeof t=="string"&&(t in nf||Eu())||mm(t)||Array.isArray(t)&&t.every(rT))}const oo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,nf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oo([0,.65,.55,1]),circOut:oo([.55,0,1,.45]),backIn:oo([.31,.01,.66,-.59]),backOut:oo([.33,1.53,.69,.99])};function sT(t,e){if(t)return typeof t=="function"&&Eu()?nT(t,e):mm(t)?oo(t):Array.isArray(t)?t.map(n=>sT(n,e)||nf.easeOut):nf[t]}const Yt={x:!1,y:!1};function iT(){return Yt.x||Yt.y}function VN(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function oT(t,e){const n=VN(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function cv(t){return e=>{e.pointerType==="touch"||iT()||t(e)}}function NN(t,e,n={}){const[r,s,i]=oT(t,n),o=cv(l=>{const{target:u}=l,c=e(l);if(typeof c!="function"||!u)return;const h=cv(f=>{c(f),u.removeEventListener("pointerleave",h)});u.addEventListener("pointerleave",h,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const aT=(t,e)=>e?t===e?!0:aT(t,e.parentElement):!1,gm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,DN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MN(t){return DN.has(t.tagName)||t.tabIndex!==-1}const ao=new WeakSet;function hv(t){return e=>{e.key==="Enter"&&t(e)}}function _h(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const LN=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=hv(()=>{if(ao.has(n))return;_h(n,"down");const s=hv(()=>{_h(n,"up")}),i=()=>_h(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function dv(t){return gm(t)&&!iT()}function ON(t,e,n={}){const[r,s,i]=oT(t,n),o=l=>{const u=l.currentTarget;if(!dv(l)||ao.has(u))return;ao.add(u);const c=e(l),h=(v,A)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!dv(v)||!ao.has(u))&&(ao.delete(u),typeof c=="function"&&c(v,{success:A}))},f=v=>{h(v,n.useGlobalTarget||aT(u,v.target))},p=v=>{h(v,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(l=>{!MN(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",c=>LN(c,s),s)}),i}function jN(t){return t==="x"||t==="y"?Yt[t]?null:(Yt[t]=!0,()=>{Yt[t]=!1}):Yt.x||Yt.y?null:(Yt.x=Yt.y=!0,()=>{Yt.x=Yt.y=!1})}const lT=new Set(["width","height","top","left","right","bottom",...xi]);let Vl;function FN(){Vl=void 0}const wn={now:()=>(Vl===void 0&&wn.set(Ye.isProcessing||kV.useManualTiming?Ye.timestamp:performance.now()),Vl),set:t=>{Vl=t,queueMicrotask(FN)}};function ym(t,e){t.indexOf(e)===-1&&t.push(e)}function vm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _m{constructor(){this.subscriptions=[]}add(e){return ym(this.subscriptions,e),()=>vm(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function uT(t,e){return e?t*(1e3/e):0}const fv=30,BN=t=>!isNaN(parseFloat(t));class UN{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=wn.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _m);const r=this.events[e].add(n);return e==="change"?()=>{r(),de.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fv);return uT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function la(t,e){return new UN(t,e)}function zN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,la(n))}function $N(t,e){const n=hc(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=tN(i[o]);zN(t,o,l)}}function WN(t){return!!(ht(t)&&t.add)}function rf(t,e){const n=t.getValue("willChange");if(WN(n))return n.add(e)}function cT(t){return t.props[BE]}const hT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,HN=1e-7,KN=12;function qN(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=hT(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>HN&&++l<KN);return o}function Ta(t,e,n,r){if(t===e&&n===r)return Nt;const s=i=>qN(i,0,1,t,n);return i=>i===0||i===1?i:hT(s(i),e,r)}const dT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fT=t=>e=>1-t(1-e),pT=Ta(.33,1.53,.69,.99),wm=fT(pT),mT=dT(wm),gT=t=>(t*=2)<1?.5*wm(t):.5*(2-Math.pow(2,-10*(t-1))),xm=t=>1-Math.sin(Math.acos(t)),yT=fT(xm),vT=dT(xm),_T=t=>/^0[^.\s]+$/u.test(t);function GN(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_T(t):!0}const Ao=t=>Math.round(t*1e5)/1e5,Em=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QN(t){return t==null}const YN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Tm=(t,e)=>n=>!!(typeof n=="string"&&YN.test(n)&&n.startsWith(t)||e&&!QN(n)&&Object.prototype.hasOwnProperty.call(n,e)),wT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(Em);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},XN=t=>Bn(0,255,t),wh={...Ei,transform:t=>Math.round(XN(t))},Kr={test:Tm("rgb","red"),parse:wT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+wh.transform(t)+", "+wh.transform(e)+", "+wh.transform(n)+", "+Ao(aa.transform(r))+")"};function JN(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const sf={test:Tm("#"),parse:JN,transform:Kr.transform},Ms={test:Tm("hsl","hue"),parse:wT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+_n.transform(Ao(e))+", "+_n.transform(Ao(n))+", "+Ao(aa.transform(r))+")"},ot={test:t=>Kr.test(t)||sf.test(t)||Ms.test(t),parse:t=>Kr.test(t)?Kr.parse(t):Ms.test(t)?Ms.parse(t):sf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Kr.transform(t):Ms.transform(t)},ZN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function e4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Em))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(ZN))===null||n===void 0?void 0:n.length)||0)>0}const xT="number",ET="color",t4="var",n4="var(",pv="${}",r4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ua(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(r4,u=>(ot.test(u)?(r.color.push(i),s.push(ET),n.push(ot.parse(u))):u.startsWith(n4)?(r.var.push(i),s.push(t4),n.push(u)):(r.number.push(i),s.push(xT),n.push(parseFloat(u))),++i,pv)).split(pv);return{values:n,split:l,indexes:r,types:s}}function TT(t){return ua(t).values}function ST(t){const{split:e,types:n}=ua(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===xT?i+=Ao(s[o]):l===ET?i+=ot.transform(s[o]):i+=s[o]}return i}}const s4=t=>typeof t=="number"?0:t;function i4(t){const e=TT(t);return ST(t)(e.map(s4))}const Cr={test:e4,parse:TT,createTransformer:ST,getAnimatableNone:i4},o4=new Set(["brightness","contrast","saturate","opacity"]);function a4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Em)||[];if(!r)return t;const s=n.replace(r,"");let i=o4.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const l4=/\b([a-z-]*)\(.*?\)/gu,of={...Cr,getAnimatableNone:t=>{const e=t.match(l4);return e?e.map(a4).join(" "):t}},u4={...am,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:of,WebkitFilter:of},Sm=t=>u4[t];function AT(t,e){let n=Sm(t);return n!==of&&(n=Cr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const c4=new Set(["auto","none","0"]);function h4(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!c4.has(i)&&ua(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=AT(n,s)}const mv=t=>t===Ei||t===G,gv=(t,e)=>parseFloat(t.split(", ")[e]),yv=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return gv(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?gv(i[1],t):0}},d4=new Set(["x","y","z"]),f4=xi.filter(t=>!d4.has(t));function p4(t){const e=[];return f4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ci={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:yv(4,13),y:yv(5,14)};ci.translateX=ci.x;ci.translateY=ci.y;const Xr=new Set;let af=!1,lf=!1;function CT(){if(lf){const t=Array.from(Xr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=p4(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}lf=!1,af=!1,Xr.forEach(t=>t.complete()),Xr.clear()}function IT(){Xr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(lf=!0)})}function m4(){IT(),CT()}class Am{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xr.add(this),af||(af=!0,de.read(IT),de.resolveKeyframes(CT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const u=r.readValue(n,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const PT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),g4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function y4(t){const e=g4.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function RT(t,e,n=1){const[r,s]=y4(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return PT(o)?parseFloat(o):o}return om(s)?RT(s,e,n+1):s}const bT=t=>e=>e.test(t),v4={test:t=>t==="auto",parse:t=>t},kT=[Ei,G,_n,Qn,aN,oN,v4],vv=t=>kT.find(bT(t));class VT extends Am{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),om(c))){const h=RT(c,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!lT.has(r)||e.length!==2)return;const[s,i]=e,o=vv(s),l=vv(i);if(o!==l)if(mv(o)&&mv(l))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)GN(e[s])&&r.push(s);r.length&&h4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ci[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=ci[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,c])=>{n.getValue(u).set(c)}),this.resolveNoneKeyframes()}}const _v=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Cr.test(t)||t==="0")&&!t.startsWith("url("));function _4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function w4(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=_v(s,e),l=_v(i,e);return!o||!l?!1:_4(t)||(n==="spring"||pm(n))&&r}const x4=t=>t!==null;function dc(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(x4),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const E4=40;class NT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=wn.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>E4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&m4(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=wn.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:u,isGenerator:c}=this.options;if(!c&&!w4(e,r,s,i))if(o)this.options.duration=0;else{u&&u(dc(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Te=(t,e,n)=>t+(e-t)*n;function xh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function T4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;s=xh(u,l,t+1/3),i=xh(u,l,t),o=xh(u,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Tu(t,e){return n=>n>0?e:t}const Eh=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},S4=[sf,Kr,Ms],A4=t=>S4.find(e=>e.test(t));function wv(t){const e=A4(t);if(!e)return!1;let n=e.parse(t);return e===Ms&&(n=T4(n)),n}const xv=(t,e)=>{const n=wv(t),r=wv(e);if(!n||!r)return Tu(t,e);const s={...n};return i=>(s.red=Eh(n.red,r.red,i),s.green=Eh(n.green,r.green,i),s.blue=Eh(n.blue,r.blue,i),s.alpha=Te(n.alpha,r.alpha,i),Kr.transform(s))},C4=(t,e)=>n=>e(t(n)),Sa=(...t)=>t.reduce(C4),uf=new Set(["none","hidden"]);function I4(t,e){return uf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function P4(t,e){return n=>Te(t,e,n)}function Cm(t){return typeof t=="number"?P4:typeof t=="string"?om(t)?Tu:ot.test(t)?xv:k4:Array.isArray(t)?DT:typeof t=="object"?ot.test(t)?xv:R4:Tu}function DT(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Cm(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function R4(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Cm(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function b4(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][s[o]],u=(n=t.values[l])!==null&&n!==void 0?n:0;r[i]=u,s[o]++}return r}const k4=(t,e)=>{const n=Cr.createTransformer(e),r=ua(t),s=ua(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?uf.has(t)&&!s.values.length||uf.has(e)&&!r.values.length?I4(t,e):Sa(DT(b4(r,s),s.values),n):Tu(t,e)};function MT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Te(t,e,n):Cm(t)(t,e)}const V4=5;function LT(t,e,n){const r=Math.max(e-V4,0);return uT(n-t(r),e-r)}const Pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Th=.001;function N4({duration:t=Pe.duration,bounce:e=Pe.bounce,velocity:n=Pe.velocity,mass:r=Pe.mass}){let s,i,o=1-e;o=Bn(Pe.minDamping,Pe.maxDamping,o),t=Bn(Pe.minDuration,Pe.maxDuration,Vn(t)),o<1?(s=c=>{const h=c*o,f=h*t,p=h-n,v=cf(c,o),A=Math.exp(-f);return Th-p/v*A},i=c=>{const f=c*o*t,p=f*n+n,v=Math.pow(o,2)*Math.pow(c,2)*t,A=Math.exp(-f),I=cf(Math.pow(c,2),o);return(-s(c)+Th>0?-1:1)*((p-v)*A)/I}):(s=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Th+h*f},i=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const l=5/t,u=M4(s,i,l);if(t=kn(t),isNaN(u))return{stiffness:Pe.stiffness,damping:Pe.damping,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const D4=12;function M4(t,e,n){let r=n;for(let s=1;s<D4;s++)r=r-t(r)/e(r);return r}function cf(t,e){return t*Math.sqrt(1-e*e)}const L4=["duration","bounce"],O4=["stiffness","damping","mass"];function Ev(t,e){return e.some(n=>t[n]!==void 0)}function j4(t){let e={velocity:Pe.velocity,stiffness:Pe.stiffness,damping:Pe.damping,mass:Pe.mass,isResolvedFromDuration:!1,...t};if(!Ev(t,O4)&&Ev(t,L4))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Bn(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Pe.mass,stiffness:s,damping:i}}else{const n=N4(t);e={...e,...n,mass:Pe.mass},e.isResolvedFromDuration=!0}return e}function OT(t=Pe.visualDuration,e=Pe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:u,damping:c,mass:h,duration:f,velocity:p,isResolvedFromDuration:v}=j4({...n,velocity:-Vn(n.velocity||0)}),A=p||0,I=c/(2*Math.sqrt(u*h)),b=o-i,_=Vn(Math.sqrt(u/h)),y=Math.abs(b)<5;r||(r=y?Pe.restSpeed.granular:Pe.restSpeed.default),s||(s=y?Pe.restDelta.granular:Pe.restDelta.default);let T;if(I<1){const k=cf(_,I);T=L=>{const E=Math.exp(-I*_*L);return o-E*((A+I*_*b)/k*Math.sin(k*L)+b*Math.cos(k*L))}}else if(I===1)T=k=>o-Math.exp(-_*k)*(b+(A+_*b)*k);else{const k=_*Math.sqrt(I*I-1);T=L=>{const E=Math.exp(-I*_*L),g=Math.min(k*L,300);return o-E*((A+I*_*b)*Math.sinh(g)+k*b*Math.cosh(g))/k}}const N={calculatedDuration:v&&f||null,next:k=>{const L=T(k);if(v)l.done=k>=f;else{let E=0;I<1&&(E=k===0?kn(A):LT(T,k,L));const g=Math.abs(E)<=r,S=Math.abs(o-L)<=s;l.done=g&&S}return l.value=l.done?o:L,l},toString:()=>{const k=Math.min(tT(N),tf),L=nT(E=>N.next(k*E).value,k,30);return k+"ms "+L}};return N}function Tv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:u,restDelta:c=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},v=g=>l!==void 0&&g<l||u!==void 0&&g>u,A=g=>l===void 0?u:u===void 0||Math.abs(l-g)<Math.abs(u-g)?l:u;let I=n*e;const b=f+I,_=o===void 0?b:o(b);_!==b&&(I=_-f);const y=g=>-I*Math.exp(-g/r),T=g=>_+y(g),N=g=>{const S=y(g),C=T(g);p.done=Math.abs(S)<=c,p.value=p.done?_:C};let k,L;const E=g=>{v(p.value)&&(k=g,L=OT({keyframes:[p.value,A(p.value)],velocity:LT(T,g,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return E(0),{calculatedDuration:null,next:g=>{let S=!1;return!L&&k===void 0&&(S=!0,N(g),E(g)),k!==void 0&&g>=k?L.next(g-k):(!S&&N(g),p)}}}const F4=Ta(.42,0,1,1),B4=Ta(0,0,.58,1),jT=Ta(.42,0,.58,1),U4=t=>Array.isArray(t)&&typeof t[0]!="number",z4={linear:Nt,easeIn:F4,easeInOut:jT,easeOut:B4,circIn:xm,circInOut:vT,circOut:yT,backIn:wm,backInOut:mT,backOut:pT,anticipate:gT},Sv=t=>{if(mm(t)){DE(t.length===4);const[e,n,r,s]=t;return Ta(e,n,r,s)}else if(typeof t=="string")return z4[t];return t};function $4(t,e,n){const r=[],s=n||MT,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Nt:e;l=Sa(u,l)}r.push(l)}return r}function W4(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(DE(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=$4(e,r,s),u=l.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=li(t[f],t[f+1],h);return l[f](p)};return n?h=>c(Bn(t[0],t[i-1],h)):c}function H4(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=li(0,e,r);t.push(Te(n,1,s))}}function K4(t){const e=[0];return H4(e,t.length-1),e}function q4(t,e){return t.map(n=>n*e)}function G4(t,e){return t.map(()=>e||jT).splice(0,t.length-1)}function Su({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=U4(r)?r.map(Sv):Sv(r),i={done:!1,value:e[0]},o=q4(n&&n.length===e.length?n:K4(e),t),l=W4(o,e,{ease:Array.isArray(s)?s:G4(e,s)});return{calculatedDuration:t,next:u=>(i.value=l(u),i.done=u>=t,i)}}const Q4=t=>{const e=({timestamp:n})=>t(n);return{start:()=>de.update(e,!0),stop:()=>Ar(e),now:()=>Ye.isProcessing?Ye.timestamp:wn.now()}},Y4={decay:Tv,inertia:Tv,tween:Su,keyframes:Su,spring:OT},X4=t=>t/100;class Im extends NT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Am,l=(u,c)=>this.onKeyframesResolved(u,c);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=pm(n)?n:Y4[n]||Su;let u,c;l!==Su&&typeof e[0]!="number"&&(u=Sa(X4,MT(e[0],e[1])),e=[0,100]);const h=l({...this.options,keyframes:e});i==="mirror"&&(c=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=tT(h));const{calculatedDuration:f}=h,p=f+s,v=p*(r+1)-s;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:p,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:g}=this.options;return{done:!0,value:g[g.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:c,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return i.next(0);const{delay:p,repeat:v,repeatType:A,repeatDelay:I,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?_<0:_>h;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let T=this.currentTime,N=i;if(v){const g=Math.min(this.currentTime,h)/f;let S=Math.floor(g),C=g%1;!C&&g>=1&&(C=1),C===1&&S--,S=Math.min(S,v+1),!!(S%2)&&(A==="reverse"?(C=1-C,I&&(C-=I/f)):A==="mirror"&&(N=o)),T=Bn(0,1,C)*f}const k=y?{done:!1,value:u[0]}:N.next(T);l&&(k.value=l(k.value));let{done:L}=k;!y&&c!==null&&(L=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return E&&s!==void 0&&(k.value=dc(u,this.options,s)),b&&b(k.value),E&&this.finish(),k}get duration(){const{resolved:e}=this;return e?Vn(e.calculatedDuration):0}get time(){return Vn(this.currentTime)}set time(e){e=kn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Q4,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const J4=new Set(["opacity","clipPath","filter","transform"]);function Z4(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:u}={}){const c={[e]:n};u&&(c.offset=u);const h=sT(l,s);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const eD=Zp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Au=10,tD=2e4;function nD(t){return pm(t.type)||t.type==="spring"||!rT(t.ease)}function rD(t,e){const n=new Im({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<tD;)r=n.sample(i),s.push(r.value),i+=Au;return{times:void 0,keyframes:s,duration:i-Au,ease:"linear"}}const FT={anticipate:gT,backInOut:mT,circInOut:vT};function sD(t){return t in FT}class Av extends NT{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new VT(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:u,startTime:c}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Eu()&&sD(i)&&(i=FT[i]),nD(this.options)){const{onComplete:f,onUpdate:p,motionValue:v,element:A,...I}=this.options,b=rD(e,I);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,s=b.times,i=b.ease,o="keyframes"}const h=Z4(l.owner.current,u,e,{...this.options,duration:r,times:s,ease:i});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(uv(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(dc(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Vn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Vn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=kn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Nt;const{animation:r}=n;uv(r,e)}return Nt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:f,element:p,...v}=this.options,A=new Im({...v,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),I=kn(this.time);c.setWithVelocity(A.sample(I-Au).value,A.sample(I).value,Au)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=n.owner.getProps();return eD()&&r&&J4.has(r)&&!u&&!c&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const iD={type:"spring",stiffness:500,damping:25,restSpeed:10},oD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aD={type:"keyframes",duration:.8},lD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uD=(t,{keyframes:e})=>e.length>2?aD:ds.has(t)?t.startsWith("scale")?oD(e[1]):iD:lD;function cD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:u,elapsed:c,...h}){return!!Object.keys(h).length}const Pm=(t,e,n,r={},s,i)=>o=>{const l=fm(r,t)||{},u=l.delay||r.delay||0;let{elapsed:c=0}=r;c=c-kn(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-c,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};cD(l)||(h={...h,...uD(t,h)}),h.duration&&(h.duration=kn(h.duration)),h.repeatDelay&&(h.repeatDelay=kn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!i&&e.get()!==void 0){const p=dc(h.keyframes,l);if(p!==void 0)return de.update(()=>{h.onUpdate(p),h.onComplete()}),new RN([])}return!i&&Av.supports(h)?new Av(h):new Im(h)};function hD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function BT(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=e;r&&(o=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in u){const p=t.getValue(f,(i=t.latestValues[f])!==null&&i!==void 0?i:null),v=u[f];if(v===void 0||h&&hD(h,f))continue;const A={delay:n,...fm(o||{},f)};let I=!1;if(window.MotionHandoffAnimation){const _=cT(t);if(_){const y=window.MotionHandoffAnimation(_,f,de);y!==null&&(A.startTime=y,I=!0)}}rf(t,f),p.start(Pm(f,p,v,t.shouldReduceMotion&&lT.has(f)?{type:!1}:A,t,I));const b=p.animation;b&&c.push(b)}return l&&Promise.all(c).then(()=>{de.update(()=>{l&&$N(t,l)})}),c}function hf(t,e,n={}){var r;const s=hc(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(BT(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return dD(t,e,h+c,f,p,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[c,h]=u==="beforeChildren"?[o,l]:[l,o];return c().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function dD(t,e,n=0,r=0,s=1,i){const o=[],l=(t.variantChildren.size-1)*r,u=s===1?(c=0)=>c*r:(c=0)=>l-c*r;return Array.from(t.variantChildren).sort(fD).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(hf(c,e,{...i,delay:n+u(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function fD(t,e){return t.sortNodePosition(e)}function pD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>hf(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=hf(t,e,n);else{const s=typeof e=="function"?hc(t,e,n.custom):e;r=Promise.all(BT(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const mD=tm.length;function UT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?UT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mD;n++){const r=tm[n],s=t.props[r];(oa(s)||s===!1)&&(e[r]=s)}return e}const gD=[...em].reverse(),yD=em.length;function vD(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pD(t,n,r)))}function _D(t){let e=vD(t),n=Cv(),r=!0;const s=u=>(c,h)=>{var f;const p=hc(t,h,u==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:v,transitionEnd:A,...I}=p;c={...c,...I,...A}}return c};function i(u){e=u(t)}function o(u){const{props:c}=t,h=UT(t.parent)||{},f=[],p=new Set;let v={},A=1/0;for(let b=0;b<yD;b++){const _=gD[b],y=n[_],T=c[_]!==void 0?c[_]:h[_],N=oa(T),k=_===u?y.isActive:null;k===!1&&(A=b);let L=T===h[_]&&T!==c[_]&&N;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),y.protectedKeys={...v},!y.isActive&&k===null||!T&&!y.prevProp||uc(T)||typeof T=="boolean")continue;const E=wD(y.prevProp,T);let g=E||_===u&&y.isActive&&!L&&N||b>A&&N,S=!1;const C=Array.isArray(T)?T:[T];let R=C.reduce(s(_),{});k===!1&&(R={});const{prevResolvedValues:V={}}=y,P={...V,...R},ve=fe=>{g=!0,p.has(fe)&&(S=!0,p.delete(fe)),y.needsAnimating[fe]=!0;const U=t.getValue(fe);U&&(U.liveStyle=!1)};for(const fe in P){const U=R[fe],K=V[fe];if(v.hasOwnProperty(fe))continue;let Y=!1;ef(U)&&ef(K)?Y=!eT(U,K):Y=U!==K,Y?U!=null?ve(fe):p.add(fe):U!==void 0&&p.has(fe)?ve(fe):y.protectedKeys[fe]=!0}y.prevProp=T,y.prevResolvedValues=R,y.isActive&&(v={...v,...R}),r&&t.blockInitialAnimation&&(g=!1),g&&(!(L&&E)||S)&&f.push(...C.map(fe=>({animation:fe,options:{type:_}})))}if(p.size){const b={};p.forEach(_=>{const y=t.getBaseTarget(_),T=t.getValue(_);T&&(T.liveStyle=!0),b[_]=y??null}),f.push({animation:b})}let I=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(f):Promise.resolve()}function l(u,c){var h;if(n[u].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(u,c)}),n[u].isActive=c;const f=o(u);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Cv(),r=!0}}}function wD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!eT(e,t):!1}function Lr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cv(){return{animate:Lr(!0),whileInView:Lr(),whileHover:Lr(),whileTap:Lr(),whileDrag:Lr(),whileFocus:Lr(),exit:Lr()}}class br{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xD extends br{constructor(e){super(e),e.animationState||(e.animationState=_D(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();uc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let ED=0;class TD extends br{constructor(){super(...arguments),this.id=ED++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const SD={animation:{Feature:xD},exit:{Feature:TD}};function ca(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Aa(t){return{point:{x:t.pageX,y:t.pageY}}}const AD=t=>e=>gm(e)&&t(e,Aa(e));function Co(t,e,n,r){return ca(t,e,AD(n),r)}const Iv=(t,e)=>Math.abs(t-e);function CD(t,e){const n=Iv(t.x,e.x),r=Iv(t.y,e.y);return Math.sqrt(n**2+r**2)}class zT{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Ah(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=CD(f.offset,{x:0,y:0})>=3;if(!p&&!v)return;const{point:A}=f,{timestamp:I}=Ye;this.history.push({...A,timestamp:I});const{onStart:b,onMove:_}=this.handlers;p||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Sh(p,this.transformPagePoint),de.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:v,onSessionEnd:A,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ah(f.type==="pointercancel"?this.lastMoveEventInfo:Sh(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,b),A&&A(f,b)},!gm(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Aa(e),l=Sh(o,this.transformPagePoint),{point:u}=l,{timestamp:c}=Ye;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,Ah(l,this.history)),this.removeListeners=Sa(Co(this.contextWindow,"pointermove",this.handlePointerMove),Co(this.contextWindow,"pointerup",this.handlePointerUp),Co(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ar(this.updatePoint)}}function Sh(t,e){return e?{point:e(t.point)}:t}function Pv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ah({point:t},e){return{point:t,delta:Pv(t,$T(e)),offset:Pv(t,ID(e)),velocity:PD(e,.1)}}function ID(t){return t[0]}function $T(t){return t[t.length-1]}function PD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=$T(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>kn(e)));)n--;if(!r)return{x:0,y:0};const i=Vn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const WT=1e-4,RD=1-WT,bD=1+WT,HT=.01,kD=0-HT,VD=0+HT;function Mt(t){return t.max-t.min}function ND(t,e,n){return Math.abs(t-e)<=n}function Rv(t,e,n,r=.5){t.origin=r,t.originPoint=Te(e.min,e.max,t.origin),t.scale=Mt(n)/Mt(e),t.translate=Te(n.min,n.max,t.origin)-t.originPoint,(t.scale>=RD&&t.scale<=bD||isNaN(t.scale))&&(t.scale=1),(t.translate>=kD&&t.translate<=VD||isNaN(t.translate))&&(t.translate=0)}function Io(t,e,n,r){Rv(t.x,e.x,n.x,r?r.originX:void 0),Rv(t.y,e.y,n.y,r?r.originY:void 0)}function bv(t,e,n){t.min=n.min+e.min,t.max=t.min+Mt(e)}function DD(t,e,n){bv(t.x,e.x,n.x),bv(t.y,e.y,n.y)}function kv(t,e,n){t.min=e.min-n.min,t.max=t.min+Mt(e)}function Po(t,e,n){kv(t.x,e.x,n.x),kv(t.y,e.y,n.y)}function MD(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Te(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Te(n,t,r.max):Math.min(t,n)),t}function Vv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function LD(t,{top:e,left:n,bottom:r,right:s}){return{x:Vv(t.x,n,s),y:Vv(t.y,e,r)}}function Nv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function OD(t,e){return{x:Nv(t.x,e.x),y:Nv(t.y,e.y)}}function jD(t,e){let n=.5;const r=Mt(t),s=Mt(e);return s>r?n=li(e.min,e.max-r,t.min):r>s&&(n=li(t.min,t.max-s,e.min)),Bn(0,1,n)}function FD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const df=.35;function BD(t=df){return t===!1?t=0:t===!0&&(t=df),{x:Dv(t,"left","right"),y:Dv(t,"top","bottom")}}function Dv(t,e,n){return{min:Mv(t,e),max:Mv(t,n)}}function Mv(t,e){return typeof t=="number"?t:t[e]||0}const Lv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ls=()=>({x:Lv(),y:Lv()}),Ov=()=>({min:0,max:0}),be=()=>({x:Ov(),y:Ov()});function Ft(t){return[t("x"),t("y")]}function KT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function UD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ch(t){return t===void 0||t===1}function ff({scale:t,scaleX:e,scaleY:n}){return!Ch(t)||!Ch(e)||!Ch(n)}function Br(t){return ff(t)||qT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function qT(t){return jv(t.x)||jv(t.y)}function jv(t){return t&&t!=="0%"}function Cu(t,e,n){const r=t-n,s=e*r;return n+s}function Fv(t,e,n,r,s){return s!==void 0&&(t=Cu(t,s,r)),Cu(t,n,r)+e}function pf(t,e=0,n=1,r,s){t.min=Fv(t.min,e,n,r,s),t.max=Fv(t.max,e,n,r,s)}function GT(t,{x:e,y:n}){pf(t.x,e.translate,e.scale,e.originPoint),pf(t.y,n.translate,n.scale,n.originPoint)}const Bv=.999999999999,Uv=1.0000000000001;function $D(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&js(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,GT(t,o)),r&&Br(i.latestValues)&&js(t,i.latestValues))}e.x<Uv&&e.x>Bv&&(e.x=1),e.y<Uv&&e.y>Bv&&(e.y=1)}function Os(t,e){t.min=t.min+e,t.max=t.max+e}function zv(t,e,n,r,s=.5){const i=Te(t.min,t.max,s);pf(t,e,n,i,r)}function js(t,e){zv(t.x,e.x,e.scaleX,e.scale,e.originX),zv(t.y,e.y,e.scaleY,e.scale,e.originY)}function QT(t,e){return KT(zD(t.getBoundingClientRect(),e))}function WD(t,e,n){const r=QT(t,n),{scroll:s}=e;return s&&(Os(r.x,s.offset.x),Os(r.y,s.offset.y)),r}const YT=({current:t})=>t?t.ownerDocument.defaultView:null,HD=new WeakMap;class KD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=be(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Aa(h).point)},i=(h,f)=>{const{drag:p,dragPropagation:v,onDragStart:A}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jN(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ft(b=>{let _=this.getAxisMotionValue(b).get()||0;if(_n.test(_)){const{projection:y}=this.visualElement;if(y&&y.layout){const T=y.layout.layoutBox[b];T&&(_=Mt(T)*(parseFloat(_)/100))}}this.originPoint[b]=_}),A&&de.postRender(()=>A(h,f)),rf(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:A,onDrag:I}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=f;if(v&&this.currentDirection===null){this.currentDirection=qD(b),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),I&&I(h,f)},l=(h,f)=>this.stop(h,f),u=()=>Ft(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new zT(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:YT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&de.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!cl(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=MD(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ds(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=LD(s.layoutBox,n):this.constraints=!1,this.elastic=BD(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ft(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=FD(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ds(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=WD(r,s.root,this.visualElement.getTransformPagePoint());let o=OD(s.layout.layoutBox,i);if(n){const l=n(UD(o));this.hasMutatedConstraints=!!l,l&&(o=KT(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},c=Ft(h=>{if(!cl(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const p=s?200:1e6,v=s?40:1e7,A={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,A)});return Promise.all(c).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return rf(this.visualElement,e),r.start(Pm(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ft(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ft(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ft(n=>{const{drag:r}=this.getProps();if(!cl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Te(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ds(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ft(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();s[o]=jD({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ft(o=>{if(!cl(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];l.set(Te(u,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;HD.set(this.visualElement,this);const e=this.visualElement.current,n=Co(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Ds(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),de.read(r);const o=ca(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ft(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=df,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function cl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class GD extends br{constructor(e){super(e),this.removeGroupControls=Nt,this.removeListeners=Nt,this.controls=new KD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nt}unmount(){this.removeGroupControls(),this.removeListeners()}}const $v=t=>(e,n)=>{t&&de.postRender(()=>t(e,n))};class QD extends br{constructor(){super(...arguments),this.removePointerDownListener=Nt}onPointerDown(e){this.session=new zT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:$v(e),onStart:$v(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&de.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Co(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(G.test(t))t=parseFloat(t);else return t;const n=Wv(t,e.target.x),r=Wv(t,e.target.y);return`${n}% ${r}%`}},YD={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Cr.parse(t);if(s.length>5)return r;const i=Cr.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=u;const c=Te(l,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class XD extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;yN(JD),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||de.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XT(t){const[e,n]=NE(),r=M.useContext(ia);return w.jsx(XD,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(UE),isPresent:e,safeToRemove:n})}const JD={borderRadius:{...Qi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qi,borderTopRightRadius:Qi,borderBottomLeftRadius:Qi,borderBottomRightRadius:Qi,boxShadow:YD};function ZD(t,e,n){const r=ht(t)?t:la(t);return r.start(Pm("",r,e,n)),r.animation}function eM(t){return t instanceof SVGElement&&t.tagName!=="svg"}const tM=(t,e)=>t.depth-e.depth;class nM{constructor(){this.children=[],this.isDirty=!1}add(e){ym(this.children,e),this.isDirty=!0}remove(e){vm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tM),this.isDirty=!1,this.children.forEach(e)}}function rM(t,e){const n=wn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ar(r),t(i-e))};return de.read(r,!0),()=>Ar(r)}const JT=["TopLeft","TopRight","BottomLeft","BottomRight"],sM=JT.length,Hv=t=>typeof t=="string"?parseFloat(t):t,Kv=t=>typeof t=="number"||G.test(t);function iM(t,e,n,r,s,i){s?(t.opacity=Te(0,n.opacity!==void 0?n.opacity:1,oM(r)),t.opacityExit=Te(e.opacity!==void 0?e.opacity:1,0,aM(r))):i&&(t.opacity=Te(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<sM;o++){const l=`border${JT[o]}Radius`;let u=qv(e,l),c=qv(n,l);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Kv(u)===Kv(c)?(t[l]=Math.max(Te(Hv(u),Hv(c),r),0),(_n.test(c)||_n.test(u))&&(t[l]+="%")):t[l]=c}(e.rotate||n.rotate)&&(t.rotate=Te(e.rotate||0,n.rotate||0,r))}function qv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oM=ZT(0,.5,yT),aM=ZT(.5,.95,Nt);function ZT(t,e,n){return r=>r<t?0:r>e?1:n(li(t,e,r))}function Gv(t,e){t.min=e.min,t.max=e.max}function jt(t,e){Gv(t.x,e.x),Gv(t.y,e.y)}function Qv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Yv(t,e,n,r,s){return t-=e,t=Cu(t,1/n,r),s!==void 0&&(t=Cu(t,1/s,r)),t}function lM(t,e=0,n=1,r=.5,s,i=t,o=t){if(_n.test(e)&&(e=parseFloat(e),e=Te(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Te(i.min,i.max,r);t===i&&(l-=e),t.min=Yv(t.min,e,n,l,s),t.max=Yv(t.max,e,n,l,s)}function Xv(t,e,[n,r,s],i,o){lM(t,e[n],e[r],e[s],e.scale,i,o)}const uM=["x","scaleX","originX"],cM=["y","scaleY","originY"];function Jv(t,e,n,r){Xv(t.x,e,uM,n?n.x:void 0,r?r.x:void 0),Xv(t.y,e,cM,n?n.y:void 0,r?r.y:void 0)}function Zv(t){return t.translate===0&&t.scale===1}function eS(t){return Zv(t.x)&&Zv(t.y)}function e_(t,e){return t.min===e.min&&t.max===e.max}function hM(t,e){return e_(t.x,e.x)&&e_(t.y,e.y)}function t_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tS(t,e){return t_(t.x,e.x)&&t_(t.y,e.y)}function n_(t){return Mt(t.x)/Mt(t.y)}function r_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class dM{constructor(){this.members=[]}add(e){ym(this.members,e),e.scheduleRender()}remove(e){if(vm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fM(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:p,skewX:v,skewY:A}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),v&&(r+=`skewX(${v}deg) `),A&&(r+=`skewY(${A}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const Ur={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},lo=typeof window<"u"&&window.MotionDebug!==void 0,Ih=["","X","Y","Z"],pM={visibility:"hidden"},s_=1e3;let mM=0;function Ph(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function nS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=cT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",de,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&nS(r)}function rS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=mM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lo&&(Ur.totalNodes=Ur.resolvedTargetDeltas=Ur.recalculatedProjection=0),this.nodes.forEach(vM),this.nodes.forEach(TM),this.nodes.forEach(SM),this.nodes.forEach(_M),lo&&window.MotionDebug.record(Ur)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new nM)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _m),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=eM(o),this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(c||u)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=rM(p,250),Nl.hasAnimatedSinceResize&&(Nl.hasAnimatedSinceResize=!1,this.nodes.forEach(o_))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:v,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||h.getDefaultTransition()||RM,{onLayoutAnimationStart:b,onLayoutAnimationComplete:_}=h.getProps(),y=!this.targetLayout||!tS(this.targetLayout,A)||v,T=!p&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,T);const N={...fm(I,"layout"),onPlay:b,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else p||o_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AM),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i_);return}this.isUpdating||this.nodes.forEach(xM),this.isUpdating=!1,this.nodes.forEach(EM),this.nodes.forEach(gM),this.nodes.forEach(yM),this.clearAllSnapshots();const l=wn.now();Ye.delta=Bn(0,1e3/60,l-Ye.timestamp),Ye.timestamp=l,Ye.isProcessing=!0,vh.update.process(Ye),vh.preRender.process(Ye),vh.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wM),this.sharedNodes.forEach(CM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,de.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){de.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!eS(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(l||Br(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),bM(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return be();const u=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(kM))){const{scroll:h}=this.root;h&&(Os(u.x,h.offset.x),Os(u.y,h.offset.y))}return u}removeElementScroll(o){var l;const u=be();if(jt(u,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&jt(u,o),Os(u.x,f.offset.x),Os(u.y,f.offset.y))}return u}applyTransform(o,l=!1){const u=be();jt(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&js(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Br(h.latestValues)&&js(u,h.latestValues)}return Br(this.latestValues)&&js(u,this.latestValues),u}removeTransform(o){const l=be();jt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Br(c.latestValues))continue;ff(c.latestValues)&&c.updateSnapshot();const h=be(),f=c.measurePageBox();jt(h,f),Jv(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Br(this.latestValues)&&Jv(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==u;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),Po(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=be(),this.targetWithTransforms=be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jt(this.target,this.layout.layoutBox),GT(this.target,this.targetDelta)):jt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=be(),this.relativeTargetOrigin=be(),Po(this.relativeTargetOrigin,this.target,v.target),jt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lo&&Ur.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ff(this.parent.latestValues)||qT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;jt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;$D(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=be());const{target:A}=l;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qv(this.prevProjectionDelta.x,this.projectionDelta.x),Qv(this.prevProjectionDelta.y,this.projectionDelta.y)),Io(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!r_(this.projectionDelta.x,this.prevProjectionDelta.x)||!r_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A)),lo&&Ur.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ls(),this.projectionDelta=Ls(),this.projectionDeltaWithTransform=Ls()}setAnimationOrigin(o,l=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},f=Ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=be(),v=u?u.source:void 0,A=this.layout?this.layout.source:void 0,I=v!==A,b=this.getStack(),_=!b||b.members.length<=1,y=!!(I&&!_&&this.options.crossfade===!0&&!this.path.some(PM));this.animationProgress=0;let T;this.mixTargetDelta=N=>{const k=N/1e3;a_(f.x,o.x,k),a_(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Po(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IM(this.relativeTarget,this.relativeTargetOrigin,p,k),T&&hM(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=be()),jt(T,this.relativeTarget)),I&&(this.animationValues=h,iM(h,c,this.latestValues,k,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=de.update(()=>{Nl.hasAnimatedSinceResize=!0,this.currentAnimation=ZD(0,s_,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:c,latestValues:h}=o;if(!(!l||!u||!c)){if(this!==o&&this.layout&&c&&sS(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||be();const f=Mt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const p=Mt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}jt(l,u),js(l,h),Io(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dM),this.sharedNodes.get(o).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const c={};u.z&&Ph("z",o,c,this.animationValues);for(let h=0;h<Ih.length;h++)Ph(`rotate${Ih[h]}`,o,c,this.animationValues),Ph(`skew${Ih[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return pM;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=kl(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=kl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Br(this.latestValues)&&(I.transform=h?h({},""):"none",this.hasProjected=!1),I}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=fM(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:v,y:A}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${A.origin*100}% 0`,f.animationValues?c.opacity=f===this?(u=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const I in xu){if(p[I]===void 0)continue;const{correct:b,applyTo:_}=xu[I],y=c.transform==="none"?p[I]:b(p[I],f);if(_){const T=_.length;for(let N=0;N<T;N++)c[_[N]]=y}else c[I]=y}return this.options.layoutId&&(c.pointerEvents=f===this?kl(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(i_),this.root.sharedNodes.clear()}}}function gM(t){t.updateLayout()}function yM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?Ft(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],v=Mt(p);p.min=r[f].min,p.max=p.min+v}):sS(i,n.layoutBox,r)&&Ft(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],v=Mt(r[f]);p.max=p.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const l=Ls();Io(l,r,n.layoutBox);const u=Ls();o?Io(u,t.applyTransform(s,!0),n.measuredBox):Io(u,r,n.layoutBox);const c=!eS(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:v}=f;if(p&&v){const A=be();Po(A,n.layoutBox,p.layoutBox);const I=be();Po(I,r,v.layoutBox),tS(A,I)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=A,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function vM(t){lo&&Ur.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function _M(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function wM(t){t.clearSnapshot()}function i_(t){t.clearMeasurements()}function xM(t){t.isLayoutDirty=!1}function EM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function o_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function TM(t){t.resolveTargetDelta()}function SM(t){t.calcProjection()}function AM(t){t.resetSkewAndRotation()}function CM(t){t.removeLeadSnapshot()}function a_(t,e,n){t.translate=Te(e.translate,0,n),t.scale=Te(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function l_(t,e,n,r){t.min=Te(e.min,n.min,r),t.max=Te(e.max,n.max,r)}function IM(t,e,n,r){l_(t.x,e.x,n.x,r),l_(t.y,e.y,n.y,r)}function PM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const RM={duration:.45,ease:[.4,0,.1,1]},u_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),c_=u_("applewebkit/")&&!u_("chrome/")?Math.round:Nt;function h_(t){t.min=c_(t.min),t.max=c_(t.max)}function bM(t){h_(t.x),h_(t.y)}function sS(t,e,n){return t==="position"||t==="preserve-aspect"&&!ND(n_(e),n_(n),.2)}function kM(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const VM=rS({attachResizeListener:(t,e)=>ca(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rh={current:void 0},iS=rS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Rh.current){const t=new VM({});t.mount(window),t.setOptions({layoutScroll:!0}),Rh.current=t}return Rh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NM={pan:{Feature:QD},drag:{Feature:GD,ProjectionNode:iS,MeasureLayout:XT}};function d_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&de.postRender(()=>i(e,Aa(e)))}class DM extends br{mount(){const{current:e}=this.node;e&&(this.unmount=NN(e,n=>(d_(this.node,n,"Start"),r=>d_(this.node,r,"End"))))}unmount(){}}class MM extends br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sa(ca(this.node.current,"focus",()=>this.onFocus()),ca(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function f_(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&de.postRender(()=>i(e,Aa(e)))}class LM extends br{mount(){const{current:e}=this.node;e&&(this.unmount=ON(e,n=>(f_(this.node,n,"Start"),(r,{success:s})=>f_(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mf=new WeakMap,bh=new WeakMap,OM=t=>{const e=mf.get(t.target);e&&e(t)},jM=t=>{t.forEach(OM)};function FM({root:t,...e}){const n=t||document;bh.has(n)||bh.set(n,{});const r=bh.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(jM,{root:t,...e})),r[s]}function BM(t,e,n){const r=FM(e);return mf.set(t,n),r.observe(t),()=>{mf.delete(t),r.unobserve(t)}}const UM={some:0,all:1};class zM extends br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:UM[s]},l=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=c?h:f;p&&p(u)};return BM(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($M(e,n))&&this.startObserver()}unmount(){}}function $M({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WM={inView:{Feature:zM},tap:{Feature:LM},focus:{Feature:MM},hover:{Feature:DM}},HM={layout:{ProjectionNode:iS,MeasureLayout:XT}},gf={current:null},oS={current:!1};function KM(){if(oS.current=!0,!!Xp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gf.current=t.matches;t.addListener(e),e()}else gf.current=!1}const qM=[...kT,ot,Cr],GM=t=>qM.find(bT(t)),p_=new WeakMap;function QM(t,e,n){for(const r in e){const s=e[r],i=n[r];if(ht(s))t.addValue(r,s);else if(ht(i))t.addValue(r,la(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,la(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const m_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Am,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=wn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,de.render(this.render,!1,!0))};const{latestValues:u,renderState:c,onUpdate:h}=o;this.onUpdate=h,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=cc(n),this.isVariantNode=FE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in p){const A=p[v];u[v]!==void 0&&ht(A)&&A.set(u[v],!1)}}mount(e){this.current=e,p_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),oS.current||KM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){p_.delete(this.current),this.projection&&this.projection.unmount(),Ar(this.notifyUpdate),Ar(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ds.has(e),s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&de.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ui){const n=ui[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):be()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<m_.length;r++){const s=m_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=QM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=la(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(PT(s)||_T(s))?s=parseFloat(s):!GM(s)&&Cr.test(n)&&(s=AT(e,n)),this.setBaseTarget(e,ht(s)?s.get():s)),ht(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=im(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ht(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _m),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class aS extends YM{constructor(){super(...arguments),this.KeyframeResolver=VT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ht(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function XM(t){return window.getComputedStyle(t)}class JM extends aS{constructor(){super(...arguments),this.type="html",this.renderInstance=GE}readValueFromInstance(e,n){if(ds.has(n)){const r=Sm(n);return r&&r.default||0}else{const r=XM(e),s=(HE(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QT(e,n)}build(e,n,r){lm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return dm(e,n,r)}}class ZM extends aS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=be}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ds.has(n)){const r=Sm(n);return r&&r.default||0}return n=QE.has(n)?n:nm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return JE(e,n,r)}build(e,n,r){um(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){YE(e,n,r,s)}mount(e){this.isSVGTag=hm(e.tagName),super.mount(e)}}const e3=(t,e)=>sm(t)?new ZM(e):new JM(e,{allowProjection:t!==M.Fragment}),t3=CN({...SD,...WM,...NM,...HM},e3),kt=UV(t3);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),qe=(t,e)=>{const n=M.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},h)=>M.createElement("svg",{ref:h,...n3,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${r3(t)}`,l].join(" "),...c},[...e.map(([f,p])=>M.createElement(f,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=qe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=qe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=qe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=qe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=qe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=qe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=qe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=qe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function dS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=dS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lt(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=dS(t))&&(r&&(r+=" "),r+=e);return r}const __=1e4;function f3(t,e,n=10){if(!t.booths||t.booths.length===0)return"linear-gradient(to left, transparent, transparent)";const r=t.booths.map(i=>{var o;return(o=e.find(l=>l.id===i))==null?void 0:o.color}).filter(Boolean);return r.length===0?"linear-gradient(to left, #64748b, #64748b)":r.length===1?`linear-gradient(to left, ${r[0]}, ${r[0]})`:`linear-gradient(to left, ${r.map((i,o)=>{const l=o/r.length*100,u=(o+1)/r.length*100;return`${i} ${l}%, ${i} ${u}%`}).join(", ")})`}function p3(t,e){if(!t.booths||t.booths.length===0)return"linear-gradient(to bottom, transparent, transparent)";const n=t.booths.map(s=>{var i;return(i=e.find(o=>o.id===s))==null?void 0:i.color}).filter(Boolean);return n.length===0?"linear-gradient(to bottom, #64748b, #64748b)":n.length===1?`linear-gradient(to bottom, ${n[0]}, ${n[0]})`:`linear-gradient(to bottom, ${n.map((s,i)=>{const o=i/n.length*100,l=(i+1)/n.length*100;return`${s} ${o}%, ${s} ${l}%`}).join(", ")})`}function m3(){const{units:t,config:e,refreshData:n}=Gp(),[r,s]=M.useState(0),[i,o]=M.useState(new Date),[l,u]=M.useState(!1),c=(e==null?void 0:e.pageSize)||10;M.useEffect(()=>{const y=setInterval(()=>{o(new Date)},1e3);return()=>clearInterval(y)},[]);const h=M.useMemo(()=>{let y=t;return e.showZero===!1&&(y=t.filter(T=>T.booths&&T.booths.length>0)),[...y].sort((T,N)=>{var k,L;return(((k=N.booths)==null?void 0:k.length)||0)-(((L=T.booths)==null?void 0:L.length)||0)})},[t,e.showZero]),f=M.useMemo(()=>h.slice(0,3),[h]),p=M.useMemo(()=>h.slice(3),[h]),v=Math.ceil(p.length/c)||1;M.useEffect(()=>{const y=setInterval(()=>{s(T=>(T+1)%v)},__);return()=>clearInterval(y)},[v]),M.useEffect(()=>{r>=v&&v>0&&s(0)},[r,v]);const A=p.slice(r*c,(r+1)*c),I=e.availableBooths||[],b=t.filter(y=>{var T;return((T=y.booths)==null?void 0:T.length)>=I.length}).length,_=t.reduce((y,T)=>{var N;return y+(((N=T.booths)==null?void 0:N.length)||0)},0);return t.length>0&&(_/t.length).toFixed(1),w.jsxs("div",{className:"flex flex-col lg:flex-row h-screen w-full bg-gradient-to-br from-[#0a0e1a] via-[#0d1626] to-[#0a1320] text-white overflow-y-auto lg:overflow-hidden p-3 pt-24 lg:p-6 lg:pt-32 gap-3 lg:gap-6 font-['Heebo'] relative selection:bg-cyan-500/30 select-none cursor-default",dir:"rtl",children:[w.jsx("div",{className:"absolute top-[-20%] right-[10%] w-[700px] h-[700px] bg-cyan-400/20 rounded-full blur-[180px] pointer-events-none animate-pulse"}),w.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[800px] h-[800px] bg-blue-400/15 rounded-full blur-[200px] pointer-events-none"}),w.jsx("div",{className:"absolute top-[30%] left-[30%] w-[600px] h-[600px] bg-sky-300/10 rounded-full blur-[160px] pointer-events-none"}),w.jsx("div",{className:"absolute bottom-[20%] right-[20%] w-[500px] h-[500px] bg-indigo-400/12 rounded-full blur-[140px] pointer-events-none animate-pulse"}),w.jsxs("div",{className:"absolute top-6 lg:top-10 left-0 w-full flex items-center px-4 lg:px-8 z-40",children:[w.jsx("div",{className:"flex-shrink-0",children:w.jsx(g3,{currentTime:i})}),w.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 text-2xl lg:text-5xl font-black text-white drop-shadow-[0_0_30px_rgba(6,182,212,0.6)] tracking-wider whitespace-nowrap",children:'  " | 2026'})]}),w.jsx("div",{className:"absolute top-16 left-1/2 -translate-x-1/2 lg:top-5 lg:left-8 lg:translate-x-0 flex gap-2 lg:gap-4 z-50 scale-50 lg:scale-100",children:w.jsx("img",{src:"/logos/1.png",alt:"Partner Logo 3",className:"h-20 w-auto object-cover drop-shadow-xl hover:scale-105 transition-transform cursor-pointer"})}),w.jsxs("aside",{className:"w-full lg:w-72 flex flex-col gap-3 lg:gap-4 shrink-0 z-20 order-1 lg:order-none",children:[w.jsxs("div",{className:"flex-[3] grid grid-cols-2 lg:flex lg:flex-col gap-3 lg:gap-6 bg-slate-800/40 rounded-2xl lg:rounded-3xl p-4 lg:p-8 border border-cyan-400/20 backdrop-blur-xl shadow-[0_0_60px_rgba(6,182,212,0.3)] relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 via-transparent to-blue-500/5 rounded-3xl pointer-events-none"}),w.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400/0 via-cyan-400/20 to-cyan-400/0 rounded-3xl blur-2xl opacity-50 pointer-events-none"}),w.jsxs("div",{className:"text-center mb-2 col-span-2 relative z-10",children:[w.jsx("h2",{className:"text-xl lg:text-3xl font-black text-white drop-shadow-[0_0_20px_rgba(6,182,212,0.8)]",children:" "}),w.jsx("div",{className:"w-12 h-1 bg-cyan-400 mx-auto mt-2 lg:mt-4 rounded-full shadow-[0_0_20px_rgba(6,182,212,0.8)]"})]}),w.jsx(hl,{icon:d3,label:" ",value:t.length,color:"from-blue-400 to-blue-600"}),w.jsx(hl,{icon:cS,label:" ",value:I.length,color:"from-purple-400 to-purple-600"}),w.jsx(hl,{icon:v_,label:" ",value:b,color:"from-amber-400 to-orange-500"}),w.jsx(hl,{icon:l3,label:" ",value:_,color:"from-emerald-400 to-emerald-600"})]}),w.jsxs("div",{onClick:async()=>{l||(u(!0),await n(),setTimeout(()=>u(!1),500))},className:lt("flex-[1] flex items-center justify-center bg-slate-900/60 rounded-2xl lg:rounded-3xl p-2 lg:p-4 border border-cyan-400/20 backdrop-blur-xl relative overflow-hidden group shadow-[0_0_40px_rgba(6,182,212,0.2)] cursor-pointer transition-all",l&&"opacity-60"),children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/10 to-blue-500/10 opacity-0 group-hover:opacity-100 group-active:opacity-50 transition-opacity"}),w.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400/20 via-blue-400/20 to-purple-400/20 rounded-3xl blur-xl opacity-30 group-hover:opacity-60 transition-opacity"}),w.jsx("img",{src:"/logos/al_log_ban.png",alt:"Alpha Banner",className:lt("w-full h-full object-contain relative z-10 drop-shadow-[0_0_30px_rgba(6,182,212,0.4)] scale-110 group-hover:drop-shadow-[0_0_50px_rgba(6,182,212,0.6)] transition-all group-active:scale-105",l&&"animate-pulse")})]})]}),w.jsxs("aside",{className:"hidden lg:flex w-48 flex-col gap-4 shrink-0 z-20 order-3 bg-slate-800/20 rounded-2xl p-4 border border-cyan-400/10 backdrop-blur-md",children:[w.jsx("h3",{className:"text-xl font-black text-cyan-400 mb-2",children:" "}),I.map(y=>w.jsxs("div",{className:"flex items-center gap-3 py-1.5",children:[w.jsx("div",{className:"w-5 h-5 rounded-full shrink-0 shadow-lg ring-2 ring-white/20",style:{backgroundColor:y.color}}),w.jsx("span",{className:"text-white font-bold text-lg leading-tight",title:y.name,children:y.name})]},y.id)),I.length===0&&w.jsx("div",{className:"text-base text-slate-500 text-center py-4",children:"  "})]}),w.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-3 lg:gap-6 z-20 order-2 lg:order-none",children:[w.jsxs("section",{className:"flex-[1.5] flex flex-col bg-slate-800/20 rounded-2xl lg:rounded-3xl p-4 lg:p-8 border border-cyan-400/10 backdrop-blur-md relative shadow-xl",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent rounded-3xl pointer-events-none"}),w.jsxs("h2",{className:"text-lg lg:text-2xl font-bold mb-4 lg:mb-8 text-center text-white/90 flex items-center justify-center gap-2 lg:gap-3 relative z-10",children:[w.jsx("div",{className:"p-1.5 lg:p-2 bg-yellow-500/20 rounded-lg text-yellow-400",children:w.jsx(v_,{className:"w-4 h-4 lg:w-6 lg:h-6"})}),""]}),w.jsx("div",{className:"flex-1 flex items-end justify-center gap-3 lg:gap-6 pb-4 lg:pb-8",children:w.jsxs(tv,{id:"podium",children:[f[1]&&w.jsx(kh,{unit:f[1],rank:2,color:"from-slate-300 via-slate-400 to-slate-500",height:"60%",delay:.2,availableBooths:I}),f[0]&&w.jsx(kh,{unit:f[0],rank:1,color:"from-yellow-300 via-yellow-500 to-yellow-600",height:"85%",delay:0,availableBooths:I}),f[2]&&w.jsx(kh,{unit:f[2],rank:3,color:"from-orange-300 via-orange-400 to-orange-500",height:"45%",delay:.4,availableBooths:I})]})})]}),w.jsxs("section",{className:"flex-[3] flex flex-col bg-slate-800/20 rounded-2xl lg:rounded-3xl p-4 lg:p-8 border border-cyan-400/20 backdrop-blur-md overflow-hidden relative shadow-[0_0_60px_rgba(6,182,212,0.25)]",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/8 via-blue-400/5 to-sky-400/8 rounded-3xl pointer-events-none"}),w.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400/15 via-blue-400/15 to-purple-400/15 rounded-3xl blur-2xl opacity-40 pointer-events-none"}),w.jsxs("div",{className:"flex justify-between items-center mb-3 lg:mb-6 px-1 lg:px-2",children:[w.jsx("h2",{className:"text-lg lg:text-2xl font-bold text-cyan-400 drop-shadow-[0_0_15px_rgba(6,182,212,0.6)] relative z-10",children:" "}),w.jsxs("div",{className:"text-xs lg:text-sm font-bold text-cyan-300 bg-slate-900/60 px-2 lg:px-4 py-1 lg:py-1.5 rounded-full border border-cyan-400/30 shadow-[0_0_20px_rgba(6,182,212,0.3)] relative z-10",children:[" ",r+1," / ",v]})]}),w.jsx("div",{className:"flex-1 grid grid-cols-1 content-start gap-3",children:w.jsx(So,{mode:"popLayout",children:w.jsx(kt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.4},className:"w-full h-full flex flex-col gap-3",children:w.jsx(tv,{id:`batch-${r}`,children:A.map(y=>w.jsx(v3,{unit:y,availableBooths:I},y.id))})},r)})}),w.jsx("div",{className:"absolute bottom-2 lg:bottom-4 left-0 w-full flex justify-center items-center gap-1.5 lg:gap-2 z-10",children:Array.from({length:v}).map((y,T)=>{const N=T===r;return w.jsx("div",{className:"relative flex items-center justify-center",children:w.jsx(kt.div,{layout:!0,initial:!1,animate:{width:N?32:6,backgroundColor:N?"rgba(6,182,212,0.3)":"rgba(255,255,255,0.2)"},className:lt("h-2 rounded-full backdrop-blur-sm transition-colors duration-300",!N&&"hover:bg-white/40 cursor-pointer"),onClick:()=>s(T),children:N&&w.jsx(kt.div,{className:"h-full bg-cyan-400 rounded-full shadow-[0_0_10px_rgba(6,182,212,0.5)]",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:__/1e3,ease:"linear"}})})},T)})})]})]})]})}function g3({currentTime:t}){const e=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0"),r=String(t.getSeconds()).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),i=String(t.getMonth()+1).padStart(2,"0");return t.getFullYear(),["","","","","","",""][t.getDay()],w.jsxs(kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-slate-900/80 backdrop-blur-xl rounded-xl lg:rounded-2xl px-4  py-2 lg:py-3 border border-cyan-400/40 shadow-[0_0_50px_rgba(6,182,212,0.4)] relative overflow-hidden",dir:"ltr",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/15 to-blue-400/15 pointer-events-none"}),w.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400/30 via-blue-400/30 to-sky-400/30 rounded-2xl blur-xl opacity-60 pointer-events-none animate-pulse"}),w.jsxs("div",{className:"relative z-10 flex items-center gap-2 lg:gap-3",children:[w.jsxs("div",{className:"flex items-center gap-1 lg:gap-1.5",children:[w.jsxs("div",{className:"relative inline-block",children:[w.jsx(So,{mode:"wait",children:w.jsx(kt.span,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.2},className:"text-xl lg:text-3xl font-black font-mono text-cyan-400 drop-shadow-[0_0_10px_rgba(6,182,212,0.8)] absolute inset-0",children:e},e)}),w.jsx("span",{className:"text-xl lg:text-3xl font-black font-mono opacity-0",children:e})]}),w.jsx("span",{className:"text-xl lg:text-3xl font-black text-cyan-500/50 animate-pulse",children:":"}),w.jsxs("div",{className:"relative inline-block",children:[w.jsx(So,{mode:"wait",children:w.jsx(kt.span,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.2},className:"text-xl lg:text-3xl font-black font-mono text-cyan-400 drop-shadow-[0_0_10px_rgba(6,182,212,0.8)] absolute inset-0",children:n},n)}),w.jsx("span",{className:"text-xl lg:text-3xl font-black font-mono opacity-0",children:n})]}),w.jsx("span",{className:"text-lg lg:text-2xl font-black text-cyan-500/50 animate-pulse",children:":"}),w.jsxs("div",{className:"relative inline-block",children:[w.jsx(So,{mode:"wait",children:w.jsx(kt.span,{initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.2},className:"text-lg lg:text-2xl font-black font-mono text-blue-400 drop-shadow-[0_0_8px_rgba(59,130,246,0.6)] absolute inset-0",children:r},r)}),w.jsx("span",{className:"text-lg lg:text-2xl font-black font-mono opacity-0",children:r})]})]}),w.jsx("div",{className:"w-px h-6 lg:h-8 bg-cyan-500/30"}),w.jsx("div",{className:"flex items-center gap-1.5 lg:gap-2",children:w.jsxs("div",{className:"text-xs lg:text-xl mt-1 font-bold text-slate-300 whitespace-nowrap",children:[s,"/",i,"/26"]})})]})]})}function hl({icon:t,label:e,value:n,color:r}){return w.jsxs("div",{className:"bg-slate-900/40 p-2 lg:p-4 rounded-xl lg:rounded-2xl border border-cyan-400/10 flex items-center gap-3 lg:gap-5 hover:bg-slate-900/60 hover:border-cyan-400/30 hover:shadow-[0_0_30px_rgba(6,182,212,0.3)] transition-all group relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/0 via-cyan-400/5 to-blue-400/0 opacity-0 group-hover:opacity-100 transition-opacity"}),w.jsx("div",{className:lt("p-2 lg:p-3.5 rounded-lg lg:rounded-xl bg-gradient-to-br shadow-lg group-hover:scale-110 group-hover:shadow-[0_0_25px_rgba(6,182,212,0.5)] transition-all relative z-10",r),children:w.jsx(t,{size:18,className:"lg:w-[26px] lg:h-[26px] text-white drop-shadow-md"})}),w.jsxs("div",{className:"relative z-10",children:[w.jsx("div",{className:"text-xl lg:text-3xl font-black font-mono text-white tracking-tight drop-shadow-[0_0_10px_rgba(255,255,255,0.3)]",children:n}),w.jsx("div",{className:"text-xs lg:text-sm font-medium text-slate-400",children:e})]})]})}function fS({unit:t,className:e}){if(t.logo)return w.jsx("img",{src:t.logo,alt:t.name,className:lt("rounded-full border-2 border-slate-600/50 shadow-lg object-cover bg-white",e)});const n=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.name)}&background=random&color=fff&bold=true`;return w.jsx("img",{src:n,alt:t.name,className:lt("rounded-full border-2 border-slate-600/50 shadow-lg",e)})}function kh({unit:t,rank:e,color:n,height:r,delay:s,availableBooths:i}){var l;const o=p3(t,i);return w.jsxs(kt.div,{layoutId:`unit-${t.id}`,className:"flex flex-col items-center justify-end w-1/3 max-w-[100px] relative z-10",style:{height:"100%"},transition:{type:"spring",stiffness:60,damping:15},children:[w.jsxs("div",{className:"mb-2 lg:mb-4 text-center flex flex-col items-center gap-1 lg:gap-2",children:[w.jsx(fS,{unit:t,className:"w-10 h-10 lg:w-14 lg:h-14 ring-2 lg:ring-4 ring-black/20"}),w.jsx(kt.div,{className:"text-xs lg:text-sm font-bold text-slate-200 bg-slate-900/60 px-2 lg:px-3 py-0.5 lg:py-1 rounded-full border border-white/10 backdrop-blur-sm mt-0.5 lg:mt-1 shadow-lg whitespace-nowrap",layout:!0,children:t.name}),w.jsx("div",{className:"font-mono font-black text-white text-xl lg:text-3xl drop-shadow-[0_2px_4px_rgba(0,0,0,0.5)]",children:((l=t.booths)==null?void 0:l.length)||0})]}),w.jsxs(kt.div,{className:"w-full rounded-t-2xl relative group shadow-[0_0_40px_rgba(6,182,212,0.4)] border-x border-t border-cyan-400/30 overflow-hidden",style:{background:o},initial:{height:0},animate:{height:r},transition:{type:"spring",stiffness:50,damping:15},children:[w.jsx("div",{className:"absolute top-2 lg:top-4 w-full text-center font-black text-white text-3xl lg:text-5xl drop-shadow-[0_0_20px_rgba(255,255,255,0.8)] opacity-40 mix-blend-overlay",children:e}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-white/30 opacity-0 group-hover:opacity-100 transition-opacity rounded-t-2xl"}),w.jsx("div",{className:"absolute -inset-1 bg-gradient-to-t from-cyan-400/20 via-blue-400/20 to-transparent rounded-t-2xl blur-xl opacity-50"})]}),w.jsxs("div",{className:"mt-1 lg:mt-3 font-bold text-slate-400 text-xs lg:text-sm tracking-widest",children:[" ",e]})]})}function y3({text:t,className:e}){var o;const n=xs.useRef(null),r=xs.useRef(null),[s,i]=xs.useState(!1);return xs.useEffect(()=>{if(n.current&&r.current){const l=n.current.scrollWidth,u=r.current.clientWidth;i(l>u)}},[t]),w.jsx("div",{ref:r,className:`overflow-hidden ${e}`,style:s?{"--container-width":`${((o=r.current)==null?void 0:o.clientWidth)||0}px`}:{},children:w.jsx("div",{ref:n,className:s?"inline-block whitespace-nowrap":"truncate",style:s?{animation:"scroll-text 8s linear infinite"}:{},children:t})})}function v3({unit:t,availableBooths:e}){var o;const n=e.length,r=((o=t.booths)==null?void 0:o.length)||0,s=`${Math.min(100,r/Math.max(n,1)*100)}%`,i=f3(t,e);return w.jsxs(kt.div,{layoutId:`row-${t.id}`,className:"flex items-center gap-2 lg:gap-4 p-2 lg:p-3 bg-slate-900/30 rounded-xl border border-cyan-400/10 hover:bg-slate-900/50 hover:border-cyan-400/30 hover:shadow-[0_0_25px_rgba(6,182,212,0.25)] transition-all group relative overflow-hidden",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:400,damping:30},children:[w.jsxs("div",{className:"w-6 lg:w-8 font-mono text-slate-500 text-xs lg:text-sm font-bold text-center group-hover:text-cyan-400 transition-colors",children:["#",t.id]}),w.jsx(fS,{unit:t,className:"w-8 h-8 lg:w-10 lg:h-10 shrink-0"}),w.jsx(y3,{text:t.name,className:"w-20 lg:w-32 font-bold text-slate-200 group-hover:text-white transition-colors text-sm lg:text-lg"}),w.jsx("div",{className:"flex-1 h-2.5 lg:h-3.5 bg-black/40 rounded-full overflow-hidden relative shadow-inner cursor-default",children:w.jsx(kt.div,{layout:!0,className:"h-full rounded-full shadow-[0_0_20px_rgba(6,182,212,0.7)] relative group-hover:shadow-[0_0_30px_rgba(6,182,212,0.9)]",style:{background:i},initial:{width:0},animate:{width:s},transition:{type:"spring",stiffness:50,damping:15},children:w.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-1 bg-white/30"})})}),w.jsx("div",{className:"w-10 lg:w-12 font-mono font-black text-white text-right text-base lg:text-xl drop-shadow-sm",children:r})]})}const _3="2026",w_="admin_authenticated";function w3(){const t=Uw(),{units:e,config:n,updateUnit:r,addUnit:s,removeUnit:i,updateConfig:o,resetData:l,refreshData:u,addBoothToUnit:c,removeBoothFromUnit:h}=Gp(),[f,p]=M.useState(()=>localStorage.getItem(w_)==="true"),[v,A]=M.useState(""),[I,b]=M.useState(!1),[_,y]=M.useState(!1),[T,N]=M.useState(""),[k,L]=M.useState("name"),[E,g]=M.useState(null),[S,C]=M.useState({name:"",logo:""}),[R,V]=M.useState(!1),[P,ve]=M.useState(""),[Ge,Gt]=M.useState({show:!1,type:null,unitId:null,unitName:null}),[fe,U]=M.useState(!1),[K,Y]=M.useState(!1),ce=oe=>{oe.preventDefault(),v===_3?(p(!0),localStorage.setItem(w_,"true"),b(!1)):(b(!0),setTimeout(()=>b(!1),2e3))},_e=M.useMemo(()=>{const oe=e.filter(ft=>ft.name.toLowerCase().includes(T.toLowerCase())||ft.id.toString().includes(T));return k==="score"?[...oe].sort((ft,an)=>an.score-ft.score):[...oe].sort((ft,an)=>ft.name.localeCompare(an.name,"he"))},[e,T,k]),Tn=oe=>{g(oe.id),C({name:oe.name,logo:oe.logo||""})},wt=()=>{r(E,S),g(null)},Sn=oe=>{oe.preventDefault(),P.trim()&&(s(P),ve(""))},It=oe=>{const ft=oe.target.files[0];if(ft){const an=new FileReader;an.onloadend=()=>{C(mc=>({...mc,logo:an.result}))},an.readAsDataURL(ft)}},on=()=>{Gt({show:!0,type:"reset",unitId:null,unitName:null})},Ti=(oe,ft)=>{Gt({show:!0,type:"remove",unitId:oe,unitName:ft})},Ca=()=>{Ge.type==="reset"?l():Ge.type==="remove"&&i(Ge.unitId),Gt({show:!1,type:null,unitId:null,unitName:null})},fc=()=>{Gt({show:!1,type:null,unitId:null,unitName:null})},pc=async()=>{y(!0),await u(),setTimeout(()=>y(!1),500)};return f?w.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-[#0a0e1a] via-[#0d1626] to-[#0a1320] text-white font-['Heebo'] selection:bg-cyan-500/30 overflow-hidden",dir:"rtl",children:[w.jsx("div",{className:"absolute top-[-20%] right-[10%] w-[500px] h-[500px] bg-cyan-900/10 rounded-full blur-[120px] pointer-events-none"}),w.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-blue-900/10 rounded-full blur-[150px] pointer-events-none"}),w.jsxs("header",{className:"sticky top-0 z-50 bg-[#0d1626]/90 backdrop-blur-xl border-b border-white/10 p-2 sm:p-3 lg:p-4 shadow-2xl",children:[w.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col gap-2 sm:gap-3 lg:gap-6",children:[w.jsxs("div",{className:"flex items-center justify-between gap-2 lg:gap-6",children:[w.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[w.jsx("div",{className:"p-1.5 lg:p-2 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg shadow-lg",children:w.jsx(y_,{className:"text-white w-4 h-4 sm:w-5 sm:h-5 lg:w-6 lg:h-6"})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-base sm:text-xl lg:text-2xl font-black tracking-wide text-white",children:" "}),w.jsx("div",{className:"text-[10px] sm:text-xs lg:text-sm font-medium text-slate-400",children:" "})]})]}),w.jsx("div",{className:"flex gap-2 sm:gap-4",children:w.jsx(E3,{label:"",value:e.length,color:"bg-blue-500/20 text-blue-300"})})]}),w.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 flex-1",children:[w.jsxs("div",{className:"relative group flex-1 sm:max-w-xs lg:max-w-md transition-all focus-within:sm:max-w-sm focus-within:lg:max-w-xl",children:[w.jsx(g_,{className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-cyan-400 transition-colors",size:16}),w.jsx("input",{type:"text",placeholder:" ...",className:"w-full pl-3 pr-8 sm:pl-4 sm:pr-10 py-2 sm:py-2.5 text-sm sm:text-base rounded-xl border border-white/10 bg-slate-900/50 focus:bg-slate-900/80 focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500/50 outline-none transition-all placeholder:text-slate-500",value:T,onChange:oe=>N(oe.target.value)})]}),w.jsxs("div",{className:"flex gap-1.5 sm:gap-2 items-center flex-wrap",children:[w.jsxs("button",{onClick:()=>L(oe=>oe==="name"?"score":"name"),className:lt("flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2.5 rounded-lg sm:rounded-xl transition-all border text-xs sm:text-sm font-bold whitespace-nowrap",k==="score"?"bg-cyan-500/20 text-cyan-400 border-cyan-500/50":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white border-white/10"),children:[k==="score"?w.jsx(i3,{size:14,className:"sm:w-[16px] sm:h-[16px]"}):w.jsx(a3,{size:14,className:"sm:w-[16px] sm:h-[16px]"}),w.jsx("span",{className:"hidden sm:inline",children:k==="score"?" ":" "}),w.jsx("span",{className:"sm:hidden",children:k==="score"?"":""})]}),w.jsxs("button",{onClick:()=>U(!fe),className:lt("flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2.5 rounded-lg sm:rounded-xl transition-all border text-xs sm:text-sm font-bold whitespace-nowrap touch-manipulation",fe?"bg-emerald-500/20 text-emerald-400 border-emerald-500/50":"bg-slate-800/50 text-slate-400 hover:bg-emerald-500/10 hover:text-emerald-400 border-white/10 hover:border-emerald-500/30"),children:[w.jsx(Iu,{size:14,className:"sm:w-[16px] sm:h-[16px]"}),w.jsx("span",{className:"hidden sm:inline",children:""})]}),w.jsxs("button",{onClick:()=>t("/admin/booths"),className:"flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2.5 rounded-lg sm:rounded-xl transition-all border text-xs sm:text-sm font-bold whitespace-nowrap touch-manipulation bg-purple-500/20 text-purple-400 border-purple-500/50 hover:bg-purple-500/30",children:[w.jsx(cS,{size:14,className:"sm:w-[16px] sm:h-[16px]"}),w.jsx("span",{className:"hidden sm:inline",children:" "})]}),w.jsxs("button",{onClick:()=>Y(!K),className:lt("flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2.5 rounded-lg sm:rounded-xl transition-all border text-xs sm:text-sm font-bold whitespace-nowrap touch-manipulation",K?"bg-cyan-500/20 text-cyan-400 border-cyan-500/50":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white border-white/10"),children:[w.jsx(y_,{size:14,className:"sm:w-[16px] sm:h-[16px]"}),w.jsx("span",{className:"hidden sm:inline",children:""})]}),w.jsx("button",{onClick:pc,disabled:_,title:" ",className:lt("p-1.5 sm:p-2.5 rounded-lg sm:rounded-xl transition-all border border-white/10",_?"bg-cyan-500/20 text-cyan-400 border-cyan-500/30 cursor-wait":"bg-slate-800/50 text-cyan-400 hover:bg-cyan-500/10 hover:border-cyan-500/30"),children:w.jsx(c3,{size:14,className:lt("sm:w-5 sm:h-5",_&&"animate-spin")})}),w.jsx("button",{onClick:on,title:"  ",className:"p-1.5 sm:p-2.5 rounded-lg sm:rounded-xl transition-all border border-white/10 bg-slate-800/50 text-rose-400 hover:bg-rose-500/10 hover:border-rose-500/30",children:w.jsx(Rm,{size:14,className:"sm:w-5 sm:h-5"})})]})]})]}),w.jsx(So,{children:fe&&w.jsx(kt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"max-w-7xl mx-auto overflow-hidden",children:w.jsxs("form",{onSubmit:Sn,className:"flex gap-2 p-3 bg-slate-900/50 rounded-xl border border-emerald-500/30",children:[w.jsx("input",{type:"text",placeholder:"  ...",className:"flex-1 px-4 py-2.5 text-base rounded-xl border border-white/10 bg-slate-900/50 focus:bg-slate-900/80 focus:ring-2 focus:ring-emerald-500/50 outline-none transition-all placeholder:text-slate-500",value:P,onChange:oe=>ve(oe.target.value),autoFocus:!0}),w.jsxs("button",{type:"submit",disabled:!P.trim(),className:"bg-emerald-500 hover:bg-emerald-600 disabled:bg-slate-700 disabled:text-slate-500 text-white px-6 py-2.5 rounded-xl font-bold transition-all  shadow-lg hover:shadow-emerald-500/20 active:scale-95 flex items-center gap-2",children:[w.jsx(Iu,{size:18}),w.jsx("span",{children:""})]}),w.jsx("button",{type:"button",onClick:()=>{U(!1),ve("")},className:"px-4 py-2.5 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-bold transition-colors",children:""})]})})}),K&&w.jsx("div",{className:"max-w-7xl mx-auto mt-2 sm:mt-3 lg:mt-4 p-3 sm:p-4 lg:p-6 bg-slate-900/90 rounded-2xl border border-white/10 shadow-2xl backdrop-blur-md transition-all duration-300",children:w.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-3 sm:gap-4 lg:gap-8",children:[w.jsxs("div",{className:"flex flex-col gap-2 w-full lg:w-auto",children:[w.jsx("label",{className:"text-xs sm:text-sm font-bold text-slate-400",children:" "}),w.jsx("div",{className:"flex items-center gap-3 bg-slate-950 p-1 rounded-lg border border-white/5 w-full sm:w-fit",children:w.jsx("input",{type:"number",min:"1",max:"50",value:n.pageSize||10,onChange:oe=>o({pageSize:parseInt(oe.target.value)||10}),className:"w-16 px-3 py-1 bg-transparent text-center font-mono font-bold focus:outline-none text-sm sm:text-base"})})]}),w.jsxs("div",{className:"flex flex-col gap-2 w-full lg:w-auto",children:[w.jsx("label",{className:"text-xs sm:text-sm font-bold text-slate-400",children:"   0"}),w.jsx("div",{className:"flex items-center gap-3 bg-slate-950 p-2 rounded-lg border border-white/5 w-full sm:w-fit h-[42px]",children:w.jsx("input",{type:"checkbox",checked:n.showZero??!0,onChange:oe=>o({showZero:oe.target.checked}),className:"w-5 h-5 accent-cyan-500 cursor-pointer"})})]}),w.jsx("div",{className:"h-px lg:h-10 w-full lg:w-px bg-white/10"}),w.jsxs("div",{className:"flex flex-col gap-2 w-full lg:w-auto",children:[w.jsx("label",{className:"text-xs sm:text-sm font-bold text-slate-400",children:" "}),w.jsxs("div",{className:"flex items-center gap-2 bg-slate-950 p-1 rounded-lg border border-white/5 w-full sm:w-fit",children:[w.jsx("button",{onClick:()=>o({storageType:"localStorage"}),className:lt("px-2 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-bold transition-all whitespace-nowrap",n.storageType==="localStorage"||!n.storageType?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white border border-transparent"),children:"LocalStorage"}),w.jsx("button",{onClick:()=>o({storageType:"firebase"}),className:lt("px-2 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-bold transition-all whitespace-nowrap",n.storageType==="firebase"?"bg-orange-500/20 text-orange-400 border border-orange-500/50":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white border border-transparent"),children:"Firebase"})]})]}),w.jsx("div",{className:"h-px lg:h-10 w-full lg:w-px bg-white/10"}),w.jsxs("button",{onClick:()=>N(""),disabled:!T,className:"flex items-center justify-center gap-2 text-slate-400 hover:text-white px-3 sm:px-4 py-2 rounded-xl transition-colors border border-transparent hover:bg-slate-800 disabled:opacity-30 disabled:cursor-not-allowed w-full sm:w-auto text-sm",children:[w.jsx(hS,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),w.jsx("span",{className:"font-bold",children:" "})]})]})})]}),w.jsx("div",{className:"flex-1 overflow-auto p-2 sm:p-3 lg:p-4 xl:p-8 custom-scrollbar relative z-10",children:w.jsx("div",{className:"max-w-7xl mx-auto",children:_e.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-500 gap-4",children:[w.jsx(g_,{size:48,className:"opacity-20"}),w.jsx("div",{className:"text-lg sm:text-xl",children:"    "})]}):w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-3 lg:gap-4",children:_e.map(oe=>w.jsx(S3,{unit:oe,editingId:E,editForm:S,setEditForm:C,handleLogoUpload:It,handleSaveEdit:wt,handleEditClick:Tn,handleRemoveClick:Ti,addBoothToUnit:c,removeBoothFromUnit:h,setEditingId:g,availableBooths:n.availableBooths||[]},oe.id))})})}),Ge.show&&w.jsx(T3,{type:Ge.type,unitName:Ge.unitName,onConfirm:Ca,onCancel:fc})]}):w.jsx(x3,{passwordInput:v,setPasswordInput:A,handlePasswordSubmit:ce,passwordError:I})}function x3({passwordInput:t,setPasswordInput:e,handlePasswordSubmit:n,passwordError:r}){return w.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#0a0e1a] via-[#0d1626] to-[#0a1320] px-4",dir:"rtl",children:[w.jsx("div",{className:"absolute top-[-20%] right-[10%] w-[700px] h-[700px] bg-cyan-400/20 rounded-full blur-[180px] pointer-events-none animate-pulse"}),w.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[800px] h-[800px] bg-blue-400/15 rounded-full blur-[200px] pointer-events-none"}),w.jsx("div",{className:"relative w-full max-w-md",children:w.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl border border-cyan-400/20 rounded-3xl shadow-[0_0_60px_rgba(6,182,212,0.3)] p-6 sm:p-8 lg:p-10 relative overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 via-transparent to-blue-500/5 rounded-3xl pointer-events-none"}),w.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400/0 via-cyan-400/20 to-cyan-400/0 rounded-3xl blur-2xl opacity-50 pointer-events-none"}),w.jsxs("div",{className:"relative z-10",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx("div",{className:"p-4 sm:p-5 bg-cyan-500/20 rounded-2xl shadow-[0_0_30px_rgba(6,182,212,0.4)]",children:w.jsx(u3,{className:"w-10 h-10 sm:w-12 sm:h-12 text-cyan-400"})})}),w.jsx("h1",{className:"text-2xl sm:text-3xl font-black text-white text-center mb-2 drop-shadow-[0_0_20px_rgba(6,182,212,0.8)]",children:" "}),w.jsx("p",{className:"text-slate-400 text-center mb-6 sm:mb-8 text-sm sm:text-base",children:"    "}),w.jsxs("form",{onSubmit:n,className:"space-y-4",children:[w.jsx("div",{className:"relative",children:w.jsx("input",{type:"password",value:t,onChange:s=>e(s.target.value),placeholder:"",className:lt("w-full px-4 py-3 sm:py-4 rounded-xl border bg-slate-900/50 text-white placeholder:text-slate-500 outline-none transition-all text-sm sm:text-base",r?"border-rose-500/50 ring-2 ring-rose-500/50 animate-shake":"border-white/10 focus:border-cyan-500/50 focus:ring-2 focus:ring-cyan-500/50"),autoFocus:!0})}),r&&w.jsx("div",{className:"bg-rose-500/10 border border-rose-500/30 rounded-xl p-3 text-rose-400 text-sm text-center animate-shake",children:" ,  "}),w.jsx("button",{type:"submit",className:"w-full bg-gradient-to-br from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-bold py-3 sm:py-4 rounded-xl shadow-[0_0_30px_rgba(6,182,212,0.4)] hover:shadow-[0_0_40px_rgba(6,182,212,0.6)] transition-all active:scale-95 text-sm sm:text-base",children:""})]})]})]})}),w.jsx("style",{children:`
@keyframes shake {
    0 %, 100 % { transform: translateX(0); }
    25 % { transform: translateX(-10px); }
    75 % { transform: translateX(10px); }
}
                .animate - shake {
    animation: shake 0.4s ease -in -out;
}
`})]})}function E3({label:t,value:e,color:n}){return w.jsxs("div",{className:`flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 rounded-full border border-white/5 ${n} text-xs sm:text-sm`,children:[w.jsx("span",{className:"font-mono font-bold text-sm sm:text-lg",children:e}),w.jsx("span",{className:"opacity-70 text-[10px] sm:text-xs",children:t})]})}function T3({type:t,unitName:e,onConfirm:n,onCancel:r}){const s=t==="reset";return w.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-3 sm:p-6 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:r,dir:"rtl",style:{animation:"fadeIn 0.3s ease-out"},children:w.jsxs("div",{className:"relative bg-slate-900/95 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl max-w-[90vw] sm:max-w-md w-full p-4 sm:p-6 lg:p-8 transition-all duration-300",onClick:i=>i.stopPropagation(),style:{animation:"slideUp 0.3s ease-out"},children:[w.jsx("div",{className:"absolute -top-20 -right-20 w-40 h-40 bg-rose-500/20 rounded-full blur-3xl pointer-events-none"}),w.jsx("div",{className:"absolute -bottom-20 -left-20 w-40 h-40 bg-cyan-500/20 rounded-full blur-3xl pointer-events-none"}),w.jsx("div",{className:"flex justify-center mb-4",children:w.jsx("div",{className:"p - 4 rounded - 2xl bg-rose-500/20 ",children:w.jsx(s3,{className:"w - 8 h - 8 text-rose-400 "})})}),w.jsx("h2",{className:"text-2xl font-black text-white text-center mb-3",children:s?" ":" "}),w.jsx("p",{className:"text-slate-300 text-center mb-6 leading-relaxed",children:s?w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"font-bold text-rose-400",children:"      "}),"  !",w.jsx("br",{}),w.jsx("span",{className:"text-slate-400 text-sm mt-2 block",children:"  ."})]}):w.jsxs(w.Fragment,{children:["      ",w.jsx("br",{}),w.jsx("span",{className:"font-bold text-rose-400 text-lg",children:e}),"?",w.jsx("br",{}),w.jsx("span",{className:"text-slate-400 text-sm mt-2 block",children:"    ."})]})}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:r,className:"flex-1 px-4 py-3 rounded-xl bg-slate-800/50 hover:bg-slate-800 text-slate-300 hover:text-white font-bold transition-all border border-white/10 hover:border-white/20",children:""}),w.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 rounded-xl bg-rose-500 hover:bg-rose-600 text-white font-bold transition-all shadow-lg hover:shadow-rose-500/30 active:scale-95",children:s?"":""})]})]})})}function S3({unit:t,editingId:e,editForm:n,setEditForm:r,handleLogoUpload:s,handleSaveEdit:i,handleEditClick:o,handleRemoveClick:l,addBoothToUnit:u,removeBoothFromUnit:c,setEditingId:h,availableBooths:f}){var I;const p=e===t.id,v=b=>(t.booths||[]).includes(b),A=b=>{v(b)?c(t.id,b):u(t.id,b)};return w.jsxs("div",{className:lt("relative flex flex-col gap-2 sm:gap-3 lg:gap-4 p-3 sm:p-4 lg:p-5 rounded-2xl border transition-all duration-200 group",p?"bg-slate-800/90 border-cyan-500/50 shadow-[0_0_20px_rgba(6,182,212,0.1)] scale-[1.02] z-10":"bg-slate-800/40 border-white/5 hover:bg-slate-800/60 hover:border-white/10 hover:shadow-xl hover:-translate-y-1"),children:[w.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[w.jsx("div",{className:"relative shrink-0",children:p?w.jsxs("label",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-slate-900 flex items-center justify-center cursor-pointer border border-dashed border-slate-600 hover:border-cyan-400 group/upload transition-colors overflow-hidden touch-manipulation",children:[n.logo?w.jsx("img",{src:n.logo,className:"w-full h-full object-cover opacity-50 group-hover/upload:opacity-100"}):w.jsx(h3,{size:16,className:"sm:w-[18px] sm:h-[18px] text-slate-400 group-hover/upload:text-cyan-400"}),w.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:s})]}):t.logo?w.jsx("img",{src:t.logo,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl object-cover shadow-sm bg-white"}):w.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-br from-slate-700 to-slate-800 flex items-center justify-center font-bold text-slate-400 border border-white/5 text-base sm:text-lg",children:t.name.charAt(0)})}),w.jsx("div",{className:"flex-1 min-w-0",children:p?w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("input",{autoFocus:!0,type:"text",value:n.name,onChange:b=>r(_=>({..._,name:b.target.value})),onKeyDown:b=>{b.key==="Enter"&&i()},className:"bg-slate-900/50 text-white px-2 py-1 rounded border border-cyan-500/50 outline-none w-full font-bold text-xs sm:text-sm lg:text-base"}),w.jsxs("div",{className:"flex gap-2 mt-1",children:[w.jsxs("button",{onClick:i,className:"flex-1 bg-cyan-500/20 hover:bg-cyan-500/30 text-cyan-400 py-1.5 rounded-lg text-[10px] sm:text-xs font-bold transition-colors flex items-center justify-center gap-1 touch-manipulation",children:[w.jsx(uS,{size:12})," "]}),w.jsx("button",{onClick:()=>h(null),className:"flex-1 bg-slate-700/50 hover:bg-slate-700 text-slate-300 py-1.5 rounded-lg text-[10px] sm:text-xs font-bold transition-colors touch-manipulation",children:""})]})]}):w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"w-full",children:[w.jsx("div",{className:"font-bold text-sm sm:text-base lg:text-lg text-white truncate w-full",title:t.name,children:t.name}),w.jsxs("div",{className:"text-[10px] sm:text-xs font-mono text-slate-500",children:["ID: ",t.id,"  ",((I=t.booths)==null?void 0:I.length)||0," "]})]}),w.jsxs("div",{className:"flex gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[w.jsx("button",{onClick:()=>o(t),className:"p-1 sm:p-1.5 text-slate-400 hover:text-cyan-400 hover:bg-cyan-400/10 rounded-lg transition-colors touch-manipulation",children:w.jsx(lS,{size:12,className:"sm:w-[14px] sm:h-[14px]"})}),w.jsx("button",{onClick:()=>l(t.id,t.name),className:"p-1 sm:p-1.5 text-slate-400 hover:text-rose-400 hover:bg-rose-400/10 rounded-lg transition-colors touch-manipulation",children:w.jsx(Rm,{size:12,className:"sm:w-[14px] sm:h-[14px]"})})]})]})})]}),w.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[f.map(b=>{const _=v(b.id);return w.jsxs("button",{onClick:()=>A(b.id),className:lt("flex items-center gap-1.5 px-3 py-1.5 rounded-lg border-2 transition-all text-xs font-medium",_?"border-white/30 shadow-lg":"border-white/10 bg-slate-900/30 hover:border-white/20 opacity-60 hover:opacity-100"),style:{backgroundColor:_?b.color:"transparent",color:_?"#fff":"#94a3b8"},children:[w.jsx("div",{className:"w-2 h-2 rounded-full border border-white/30",style:{backgroundColor:_?"#fff":b.color}}),w.jsx("span",{className:"font-bold",children:b.name})]},b.id)}),f.length===0&&w.jsx("div",{className:"text-xs text-slate-500 italic py-2",children:'   -   " "  '})]})]})}function A3(){const t=Uw(),{config:e,addBooth:n,updateBooth:r,removeBooth:s}=Gp(),[i,o]=M.useState(!1),[l,u]=M.useState(null),[c,h]=M.useState({name:"",color:"#FF6B6B"}),f=e.availableBooths||[],p=()=>{c.name.trim()&&(n(c.name.trim(),c.color),h({name:"",color:"#FF6B6B"}),o(!1))},v=_=>{u(_.id),h({name:_.name,color:_.color})},A=()=>{c.name.trim()&&(r(l,c.name.trim(),c.color),u(null),h({name:"",color:"#FF6B6B"}))},I=()=>{u(null),h({name:"",color:"#FF6B6B"})},b=(_,y)=>{window.confirm(`       "${y}"?`)&&s(_)};return w.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-6 font-['Heebo']",dir:"rtl",children:[w.jsxs("div",{className:"max-w-4xl mx-auto mb-8",children:[w.jsxs("button",{onClick:()=>t("/admin"),className:"flex items-center gap-2 text-slate-400 hover:text-white transition-colors mb-4",children:[w.jsx(o3,{size:20})," "]}),w.jsx("h1",{className:"text-4xl font-black text-white mb-2",children:" "}),w.jsx("p",{className:"text-slate-400",children:",     "})]}),w.jsxs("div",{className:"max-w-4xl mx-auto",children:[!i&&w.jsxs("button",{onClick:()=>o(!0),className:"w-full p-4 bg-emerald-500/20 border-2 border-dashed border-emerald-500/50 rounded-xl hover:bg-emerald-500/30 hover:border-emerald-500 transition-all flex items-center justify-center gap-2 text-emerald-400 font-bold mb-6",children:[w.jsx(Iu,{size:20}),"  "]}),i&&w.jsxs("div",{className:"bg-slate-800/50 border border-emerald-500/30 rounded-xl p-4 mb-6",children:[w.jsx("h3",{className:"font-bold text-emerald-400 mb-3",children:" "}),w.jsxs("div",{className:"flex gap-3 items-end",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:" "}),w.jsx("input",{type:"text",value:c.name,onChange:_=>h(y=>({...y,name:_.target.value})),onKeyDown:_=>_.key==="Enter"&&p(),placeholder:":  ",className:"w-full bg-slate-900/50 text-white px-3 py-2 rounded-lg border border-white/10 outline-none focus:border-emerald-500/50",autoFocus:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),w.jsx("input",{type:"color",value:c.color,onChange:_=>h(y=>({...y,color:_.target.value})),className:"w-16 h-10 rounded-lg border border-white/10 bg-slate-900/50 cursor-pointer"})]}),w.jsxs("button",{onClick:p,disabled:!c.name.trim(),className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 disabled:bg-slate-700 disabled:text-slate-500 text-white rounded-lg font-bold transition-colors flex items-center gap-2",children:[w.jsx(Iu,{size:16}),""]}),w.jsx("button",{onClick:()=>{o(!1),h({name:"",color:"#FF6B6B"})},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-bold transition-colors",children:""})]})]}),w.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:[f.length===0&&w.jsxs("div",{className:"text-center py-12 text-slate-500",children:[w.jsx("div",{className:"text-6xl mb-4",children:""}),w.jsx("p",{className:"text-lg",children:"   "}),w.jsx("p",{className:"text-sm",children:'  "  "  '})]}),f.map(_=>w.jsx("div",{className:"bg-slate-800/40 border border-white/5 rounded-xl p-4 hover:bg-slate-800/60 hover:border-white/10 transition-all",children:l===_.id?w.jsxs("div",{className:"flex gap-3 items-center",children:[w.jsx("div",{className:"flex-1",children:w.jsx("input",{type:"text",value:c.name,onChange:y=>h(T=>({...T,name:y.target.value})),onKeyDown:y=>y.key==="Enter"&&A(),className:"w-full bg-slate-900/50 text-white px-3 py-2 rounded-lg border border-cyan-500/50 outline-none",autoFocus:!0})}),w.jsx("input",{type:"color",value:c.color,onChange:y=>h(T=>({...T,color:y.target.value})),className:"w-16 h-10 rounded-lg border border-white/10 bg-slate-900/50 cursor-pointer"}),w.jsx("button",{onClick:A,className:"p-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg transition-colors",children:w.jsx(uS,{size:18})}),w.jsx("button",{onClick:I,className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:w.jsx(hS,{size:18})})]}):w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg border-2 border-white/20 shadow-lg",style:{backgroundColor:_.color}}),w.jsx("span",{className:"font-bold text-lg",children:_.name})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>v(_),className:"p-2 text-slate-400 hover:text-cyan-400 hover:bg-cyan-400/10 rounded-lg transition-colors",children:w.jsx(lS,{size:18})}),w.jsx("button",{onClick:()=>b(_.id,_.name),className:"p-2 text-slate-400 hover:text-rose-400 hover:bg-rose-400/10 rounded-lg transition-colors",children:w.jsx(Rm,{size:18})})]})]})},_.id))]})]})]})}function C3(){return w.jsx(cI,{children:w.jsxs(aI,{children:[w.jsx(Sl,{path:"/",element:w.jsx(m3,{})}),w.jsx(Sl,{path:"/admin",element:w.jsx(w3,{})}),w.jsx(Sl,{path:"/admin/booths",element:w.jsx(A3,{})})]})})}Vh.createRoot(document.getElementById("root")).render(w.jsx(xs.StrictMode,{children:w.jsx(C3,{})}));
